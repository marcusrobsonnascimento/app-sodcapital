(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{87881:function(e,t,r){Promise.resolve().then(r.bind(r,37326))},37326:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var o=r(57437),i=r(2265),n=r(1180),a=r(37440),l=r(92940),s=r(36127),d=r(71935),p=r(92513),c=r(22023),x=r(51077),u=r(40933),h=r(54817),g=r(24241),f=r(18422),m=r(10883),b=r(39343),y=r(31885),v=r(80537);let j=v.Ry({de_empresa_id:v.Z_().min(1,"Empresa devedora \xe9 obrigat\xf3ria"),para_empresa_id:v.Z_().optional(),contraparte_pf_id:v.Z_().optional(),principal:v.Rx().min(.01,"Principal deve ser maior que zero"),indice:v.Km(["CDI","IPCA","SELIC","DI","IGP-M","OUTRO"]),spread_anual:v.Rx().min(0,"Spread n\xe3o pode ser negativo"),carencia_meses:v.Rx().int().min(0,"Car\xeancia n\xe3o pode ser negativa"),qtd_parcelas:v.Rx().int().min(1,"Quantidade m\xednima \xe9 1 parcela").optional(),periodicidade:v.Z_().default("MENSAL"),data_inicio:v.Z_().min(1,"Data de in\xedcio \xe9 obrigat\xf3ria"),data_fim:v.Z_().optional(),multa_percentual:v.Rx().min(0).default(0),mora_percentual:v.Rx().min(0).default(0),contrato_numero:v.Z_().optional(),observacoes:v.Z_().optional()}).refine(e=>e.para_empresa_id||e.contraparte_pf_id,{message:"Selecione a empresa credora OU a contraparte pessoa f\xedsica",path:["para_empresa_id"]}),_=v.Ry({qtd_parcelas:v.Rx().int().min(1,"Quantidade m\xednima \xe9 1 parcela"),carencia_meses:v.Rx().int().min(0,"Car\xeancia n\xe3o pode ser negativa"),tipo_amortizacao:v.Km(["PRICE","SAC"]),iof_percentual:v.Rx().min(0).default(0),substituir_futuras:v.O7().default(!1)}),S=v.Ry({data_pagamento:v.Z_().min(1,"Data de pagamento \xe9 obrigat\xf3ria")});function C(e){return e?new Date(e).toLocaleDateString("pt-BR"):"-"}function w(e){return e?new Date(e).toISOString().split("T")[0]:""}function k(e){if(!e&&0!==e)return"";let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"":t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function z(e){return e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0}function I(e){let t=e.replace(/[^\d,]/g,""),r=t.split(",");if(r.length>2&&(t=r[0]+","+r.slice(1).join("")),r[1]&&r[1].length>2&&(t=r[0]+","+r[1].substring(0,2)),r[0]){let e=r[0].replace(/\B(?=(\d{3})+(?!\d))/g,".");t=void 0!==r[1]?e+","+r[1]:e}return t}async function R(e){try{let{data:t,error:r}=await n.O.from("mutuos").insert([e]).select().single();if(r)throw r;return{success:!0,data:t}}catch(e){return{success:!1,error:e.message}}}async function T(e,t){try{let{error:r}=await n.O.from("mutuos").update(t).eq("id",e);if(r)throw r;return{success:!0}}catch(e){return{success:!1,error:e.message}}}function D(){let[e,t]=(0,i.useState)([]),[r,v]=(0,i.useState)([]),[D,W]=(0,i.useState)([]),[O,M]=(0,i.useState)(!0),[Z,E]=(0,i.useState)(!1),[B,A]=(0,i.useState)(!1),[P,q]=(0,i.useState)(!1),[N,F]=(0,i.useState)(!1),[L,V]=(0,i.useState)(!1),[G,U]=(0,i.useState)(null),[H,X]=(0,i.useState)(null),[J,Y]=(0,i.useState)([]),[Q,K]=(0,i.useState)(null),[$,ee]=(0,i.useState)(null),[et,er]=(0,i.useState)([]),[eo,ei]=(0,i.useState)(""),[en,ea]=(0,i.useState)(""),[el,es]=(0,i.useState)(""),[ed,ep]=(0,i.useState)(""),[ec,ex]=(0,i.useState)(""),[eu,eh]=(0,i.useState)(""),[eg,ef]=(0,i.useState)(""),[em,eb]=(0,i.useState)(""),[ey,ev]=(0,i.useState)([]),[ej,e_]=(0,i.useState)(0),[eS,eC]=(0,i.useState)({totalContratos:0,saldoDevedor:0,parcelasVencidas:{qtd:0,valor:0},proximos30Dias:{qtd:0,valor:0}}),ew=(0,b.cI)({resolver:(0,y.F)(j),defaultValues:{principal:0,spread_anual:0,carencia_meses:0,periodicidade:"MENSAL",multa_percentual:0,mora_percentual:0,indice:"CDI"}});(0,b.cI)({resolver:(0,y.F)(_),defaultValues:{qtd_parcelas:12,carencia_meses:0,tipo_amortizacao:"PRICE",iof_percentual:0,substituir_futuras:!1}}),(0,b.cI)({resolver:(0,y.F)(S)});let ek=(e,t)=>{e_(e=>e+1);let r={id:ej,message:e,type:t};ev(e=>[...e,r]),setTimeout(()=>{ev(e=>e.filter(e=>e.id!==ej))},3e3)},ez=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:l.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#eab308",icon:s.Z,iconColor:"#eab308"};case"error":return{borderColor:"#ef4444",icon:d.Z,iconColor:"#ef4444"}}};(0,i.useEffect)(()=>{eI()},[]),(0,i.useEffect)(()=>{e.length>0&&eT()},[e]);let eI=async()=>{try{M(!0);let{data:e}=await n.O.from("empresas").select("*").eq("ativo",!0).order("nome");v(e||[]);let{data:r}=await n.O.from("contrapartes").select("*").order("nome");W(r||[]);let{data:o,error:i}=await n.O.from("mutuos").select("\n          *,\n          de_empresa:de_empresa_id(nome),\n          para_empresa:para_empresa_id(nome),\n          contraparte_pf:contraparte_pf_id(nome)\n        ").order("created_at",{ascending:!1});if(i)throw i;t(o||[])}catch(e){console.error("Erro ao carregar dados:",e),ek("Erro ao carregar contratos de m\xfatuo","error")}finally{M(!1)}},eR=async e=>{try{let{data:t,error:r}=await n.O.from("mutuos_parcelas").select("*").eq("mutuo_id",e).order("num_parcela");if(r)throw r;Y(t||[])}catch(e){console.error("Erro ao carregar parcelas:",e),ek("Erro ao carregar parcelas","error")}},eT=async()=>{try{let t=e.length,{data:r}=await n.O.from("mutuos_parcelas").select("*");if(!r)return;let o=r.filter(e=>!e.pago).reduce((e,t)=>e+parseFloat(t.valor_principal.toString()),0),i=new Date,a=r.filter(e=>!e.pago&&new Date(e.data_vencimento)<i),l={qtd:a.length,valor:a.reduce((e,t)=>e+parseFloat(t.valor_principal.toString())+parseFloat(t.valor_juros.toString())+parseFloat(t.valor_iof.toString()),0)},s=new Date;s.setDate(s.getDate()+30);let d=r.filter(e=>{if(e.pago)return!1;let t=new Date(e.data_vencimento);return t>=i&&t<=s}),p={qtd:d.length,valor:d.reduce((e,t)=>e+parseFloat(t.valor_principal.toString())+parseFloat(t.valor_juros.toString())+parseFloat(t.valor_iof.toString()),0)};eC({totalContratos:t,saldoDevedor:o,parcelasVencidas:l,proximos30Dias:p})}catch(e){console.error("Erro ao calcular KPIs:",e)}},eD=async e=>{try{let t=await R(e);if(!t.success){ek(t.error||"Erro ao criar contrato","error");return}ek("Contrato de m\xfatuo criado com sucesso!","success"),eI(),eO()}catch(e){ek(e.message||"Erro ao criar contrato","error")}},eW=async e=>{if(G)try{let t=await T(G,e);if(!t.success){ek(t.error||"Erro ao atualizar contrato","error");return}ek("Contrato de m\xfatuo atualizado com sucesso!","success"),eI(),eO()}catch(e){ek(e.message||"Erro ao atualizar contrato","error")}},eO=()=>{E(!1),U(null)},eM=e=>{U(e.id),ex(k(e.principal)),eh(k(e.spread_anual)),ef(k(e.multa_percentual)),eb(k(e.mora_percentual)),ew.reset({de_empresa_id:e.de_empresa_id||"",para_empresa_id:e.para_empresa_id||"",contraparte_pf_id:e.contraparte_pf_id||"",principal:e.principal,spread_anual:e.spread_anual,carencia_meses:e.carencia_meses,qtd_parcelas:void 0,periodicidade:e.periodicidade,data_inicio:w(e.data_inicio),data_fim:e.data_fim?w(e.data_fim):"",multa_percentual:e.multa_percentual,mora_percentual:e.mora_percentual,contrato_numero:e.contrato_numero||"",observacoes:e.observacoes||"",indice:e.indice}),E(!0)},eZ=e=>{X(e),eR(e.id),A(!0)},eE=e.filter(e=>{if(eo){var t,r,o,i,n,a,l;let s=eo.toLowerCase(),d=null===(t=e.contrato_numero)||void 0===t?void 0:t.toLowerCase().includes(s),p=null===(o=e.de_empresa)||void 0===o?void 0:null===(r=o.nome)||void 0===r?void 0:r.toLowerCase().includes(s),c=null===(n=e.para_empresa)||void 0===n?void 0:null===(i=n.nome)||void 0===i?void 0:i.toLowerCase().includes(s),x=null===(l=e.contraparte_pf)||void 0===l?void 0:null===(a=l.nome)||void 0===a?void 0:a.toLowerCase().includes(s);if(!d&&!p&&!c&&!x)return!1}return(!en||e.de_empresa_id===en)&&(!el||e.para_empresa_id===el)&&(!ed||e.indice===ed)});return O?(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,o.jsx)("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTop:"4px solid #1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):(0,o.jsxs)("div",{style:{padding:"32px",maxWidth:"1400px",margin:"0 auto"},children:[(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#111827",marginBottom:"8px"},children:"Contratos de M\xfatuo"}),(0,o.jsx)("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie contratos de m\xfatuo intercompany e com pessoas f\xedsicas"})]}),(0,o.jsxs)("button",{onClick:()=>{U(null),ex(""),eh(""),ef(""),eb(""),ew.reset({de_empresa_id:"",para_empresa_id:"",contraparte_pf_id:"",principal:0,spread_anual:0,carencia_meses:0,qtd_parcelas:void 0,periodicidade:"MENSAL",data_inicio:"",data_fim:"",multa_percentual:0,mora_percentual:0,contrato_numero:"",observacoes:"",indice:"CDI"}),E(!0)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[(0,o.jsx)(p.Z,{style:{width:"20px",height:"20px"}}),"Novo Contrato"]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px",marginBottom:"24px"},children:[(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,o.jsx)(c.Z,{style:{width:"24px",height:"24px",color:"#1555D6"}}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"#6b7280",fontWeight:"500"},children:"Total de Contratos"})]}),(0,o.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#111827"},children:eS.totalContratos})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,o.jsx)(x.Z,{style:{width:"24px",height:"24px",color:"#10b981"}}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"#6b7280",fontWeight:"500"},children:"Saldo Devedor"})]}),(0,o.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#111827"},children:(0,a.xG)(eS.saldoDevedor)})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,o.jsx)(s.Z,{style:{width:"24px",height:"24px",color:"#ef4444"}}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"#6b7280",fontWeight:"500"},children:"Parcelas Vencidas"})]}),(0,o.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#111827"},children:eS.parcelasVencidas.qtd}),(0,o.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:(0,a.xG)(eS.parcelasVencidas.valor)})]}),(0,o.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,o.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,o.jsx)(u.Z,{style:{width:"24px",height:"24px",color:"#eab308"}}),(0,o.jsx)("span",{style:{fontSize:"14px",color:"#6b7280",fontWeight:"500"},children:"Pr\xf3ximos 30 Dias"})]}),(0,o.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#111827"},children:eS.proximos30Dias.qtd}),(0,o.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:(0,a.xG)(eS.proximos30Dias.valor)})]})]}),(0,o.jsx)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",marginBottom:"24px"},children:(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)(h.Z,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"18px",height:"18px",color:"#9ca3af"}}),(0,o.jsx)("input",{type:"text",placeholder:"Buscar por n\xba contrato, empresa...",value:eo,onChange:e=>ei(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),(0,o.jsxs)("select",{value:en,onChange:e=>ea(e.target.value),style:{padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[(0,o.jsx)("option",{value:"",children:"Todas Devedoras"}),r.map(e=>(0,o.jsx)("option",{value:e.id,children:e.nome},e.id))]}),(0,o.jsxs)("select",{value:el,onChange:e=>es(e.target.value),style:{padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[(0,o.jsx)("option",{value:"",children:"Todas Credoras"}),r.map(e=>(0,o.jsx)("option",{value:e.id,children:e.nome},e.id))]}),(0,o.jsxs)("select",{value:ed,onChange:e=>ep(e.target.value),style:{padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[(0,o.jsx)("option",{value:"",children:"Todos \xcdndices"}),(0,o.jsx)("option",{value:"CDI",children:"CDI"}),(0,o.jsx)("option",{value:"IPCA",children:"IPCA"}),(0,o.jsx)("option",{value:"SELIC",children:"SELIC"}),(0,o.jsx)("option",{value:"DI",children:"DI"}),(0,o.jsx)("option",{value:"IGP-M",children:"IGP-M"}),(0,o.jsx)("option",{value:"OUTRO",children:"OUTRO"})]})]})}),(0,o.jsx)("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:(0,o.jsx)("div",{style:{overflowX:"auto"},children:(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,o.jsx)("th",{style:{padding:"16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"N\xba Contrato"}),(0,o.jsx)("th",{style:{padding:"16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Devedora → Credora"}),(0,o.jsx)("th",{style:{padding:"16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"\xcdndice + Spread"}),(0,o.jsx)("th",{style:{padding:"16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Principal"}),(0,o.jsx)("th",{style:{padding:"16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Per\xedodo"}),(0,o.jsx)("th",{style:{padding:"16px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Status"}),(0,o.jsx)("th",{style:{padding:"16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"A\xe7\xf5es"})]})}),(0,o.jsx)("tbody",{children:0===eE.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:7,style:{padding:"48px 16px",textAlign:"center",color:"#9ca3af",fontSize:"14px"},children:"Nenhum contrato encontrado"})}):eE.map(e=>{var t,r,i;let n=(null===(t=e.para_empresa)||void 0===t?void 0:t.nome)||(null===(r=e.contraparte_pf)||void 0===r?void 0:r.nome)||"-",l={label:"Em Curso",color:"#1e40af",bg:"#dbeafe"};return(0,o.jsxs)("tr",{style:{borderTop:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,o.jsx)("td",{style:{padding:"16px",fontSize:"14px",color:"#374151",fontWeight:"500"},children:e.contrato_numero||"#".concat(e.id.substring(0,8))}),(0,o.jsx)("td",{style:{padding:"16px",fontSize:"14px",color:"#374151"},children:(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{style:{fontWeight:"500",marginBottom:"2px"},children:(null===(i=e.de_empresa)||void 0===i?void 0:i.nome)||"-"}),(0,o.jsxs)("div",{style:{fontSize:"12px",color:"#9ca3af"},children:["→ ",n]})]})}),(0,o.jsxs)("td",{style:{padding:"16px",fontSize:"14px",color:"#374151"},children:[e.indice," + ",e.spread_anual.toFixed(2),"% a.a."]}),(0,o.jsx)("td",{style:{padding:"16px",fontSize:"14px",color:"#374151",fontWeight:"500",textAlign:"right"},children:(0,a.xG)(e.principal)}),(0,o.jsx)("td",{style:{padding:"16px",fontSize:"14px",color:"#374151"},children:(0,o.jsxs)("div",{style:{fontSize:"12px"},children:[C(e.data_inicio),e.data_fim&&(0,o.jsxs)(o.Fragment,{children:[" → ",C(e.data_fim)]})]})}),(0,o.jsx)("td",{style:{padding:"16px",textAlign:"center"},children:(0,o.jsx)("span",{style:{display:"inline-block",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"500",backgroundColor:l.bg,color:l.color},children:l.label})}),(0,o.jsx)("td",{style:{padding:"16px",textAlign:"right"},children:(0,o.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[(0,o.jsx)("button",{onClick:()=>eZ(e),style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"#10b981",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#d1fae5"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent"},title:"Ver Cronograma",children:(0,o.jsx)(g.Z,{style:{width:"18px",height:"18px"}})}),(0,o.jsx)("button",{onClick:()=>eM(e),style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"#1555D6",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#eff6ff"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent"},title:"Editar",children:(0,o.jsx)(f.Z,{style:{width:"18px",height:"18px"}})}),(0,o.jsx)("button",{onClick:()=>{ee(e.id),V(!0)},style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",color:"#ef4444",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#fef2f2"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent"},title:"Excluir",children:(0,o.jsx)(m.Z,{style:{width:"18px",height:"18px"}})})]})})]},e.id)})})]})})}),Z&&(0,o.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"16px"},children:(0,o.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",width:"100%",maxWidth:"700px",maxHeight:"90vh",overflow:"auto"},children:[(0,o.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#111827",marginBottom:"20px"},children:G?"Editar Contrato de M\xfatuo":"Novo Contrato de M\xfatuo"}),(0,o.jsx)("form",{onSubmit:ew.handleSubmit(G?eW:eD),children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa Devedora *"}),(0,o.jsxs)("select",{...ew.register("de_empresa_id"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[(0,o.jsx)("option",{value:"",children:"Selecione a empresa devedora"}),r.map(e=>(0,o.jsx)("option",{value:e.id,children:e.nome},e.id))]}),ew.formState.errors.de_empresa_id&&(0,o.jsx)("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px"},children:ew.formState.errors.de_empresa_id.message})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa Credora"}),(0,o.jsxs)("select",{...ew.register("para_empresa_id"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[(0,o.jsx)("option",{value:"",children:"Selecione (opcional)"}),r.map(e=>(0,o.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"OU Contraparte PF"}),(0,o.jsxs)("select",{...ew.register("contraparte_pf_id"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[(0,o.jsx)("option",{value:"",children:"Selecione (opcional)"}),D.map(e=>(0,o.jsx)("option",{value:e.id,children:e.nome},e.id))]})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Principal (R$) *"}),(0,o.jsx)("input",{type:"text",value:ec,onChange:e=>{let t=I(e.target.value);ex(t),ew.setValue("principal",z(t))},style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"0,00"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"\xcdndice *"}),(0,o.jsxs)("select",{...ew.register("indice"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",backgroundColor:"white"},children:[(0,o.jsx)("option",{value:"CDI",children:"CDI"}),(0,o.jsx)("option",{value:"IPCA",children:"IPCA"}),(0,o.jsx)("option",{value:"SELIC",children:"SELIC"}),(0,o.jsx)("option",{value:"DI",children:"DI"}),(0,o.jsx)("option",{value:"IGP-M",children:"IGP-M"}),(0,o.jsx)("option",{value:"OUTRO",children:"OUTRO"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Spread a.a. (%) *"}),(0,o.jsx)("input",{type:"text",value:eu,onChange:e=>{let t=I(e.target.value);eh(t),ew.setValue("spread_anual",z(t))},style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"0,00"})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Car\xeancia (meses)"}),(0,o.jsx)("input",{type:"number",...ew.register("carencia_meses",{valueAsNumber:!0}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"0"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Qtd Parcelas"}),(0,o.jsx)("input",{type:"number",...ew.register("qtd_parcelas",{valueAsNumber:!0}),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"12"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Periodicidade"}),(0,o.jsx)("input",{type:"text",...ew.register("periodicidade"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"MENSAL"})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data In\xedcio *"}),(0,o.jsx)("input",{type:"date",...ew.register("data_inicio"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Fim (opcional)"}),(0,o.jsx)("input",{type:"date",...ew.register("data_fim"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Multa (%)"}),(0,o.jsx)("input",{type:"text",value:eg,onChange:e=>{let t=I(e.target.value);ef(t),ew.setValue("multa_percentual",z(t))},style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"0,00"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Mora (%)"}),(0,o.jsx)("input",{type:"text",value:em,onChange:e=>{let t=I(e.target.value);eb(t),ew.setValue("mora_percentual",z(t))},style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"0,00"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"N\xfamero do Contrato"}),(0,o.jsx)("input",{type:"text",...ew.register("contrato_numero"),style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},placeholder:"Ex: CTR-2024-001"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Observa\xe7\xf5es"}),(0,o.jsx)("textarea",{...ew.register("observacoes"),rows:3,style:{width:"100%",padding:"12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",resize:"vertical"},placeholder:"Informa\xe7\xf5es adicionais sobre o contrato..."})]}),(0,o.jsxs)("div",{style:{display:"flex",gap:"12px",paddingTop:"8px"},children:[(0,o.jsx)("button",{type:"button",onClick:eO,style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,o.jsx)("button",{type:"submit",style:{flex:1,padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:G?"Atualizar":"Criar"})]})]})})]})}),(0,o.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:ey.map(e=>{let{borderColor:t,icon:r,iconColor:i}=ez(e.type);return(0,o.jsxs)("div",{style:{backgroundColor:"white",borderTop:"4px solid ".concat(t),padding:"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",minWidth:"300px",animation:"scaleIn 0.3s ease-out"},children:[(0,o.jsx)(r,{style:{width:"24px",height:"24px",flexShrink:0,color:i}}),(0,o.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151"},children:e.message})]},e.id)})}),(0,o.jsx)("style",{children:"\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        @keyframes scaleIn {\n          from {\n            transform: scale(0.8);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      "})]})}},1180:function(e,t,r){"use strict";r.d(t,{O:function(){return o}});let o=(0,r(20046).eI)("https://tkefmbjqiljejkmwrwsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZWZtYmpxaWxqZWprbXdyd3N3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzEyODAsImV4cCI6MjA3NTg0NzI4MH0.fwV8APDBs7YTx3ap8km-qnhXOJx0EcXX0P68eLXgEsU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"sodcapital"}})},37440:function(e,t,r){"use strict";function o(e){if(!e)return"-";let t="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("pt-BR").format(t)}function i(e){return null==e?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}r.d(t,{p6:function(){return o},xG:function(){return i}})},24241:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(78030).Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},92940:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(78030).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},71935:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(78030).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},40933:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(78030).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},51077:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(78030).Z)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},22023:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});let o=(0,r(78030).Z)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},function(e){e.O(0,[46,468,589,971,23,744],function(){return e(e.s=87881)}),_N_E=e.O()}]);