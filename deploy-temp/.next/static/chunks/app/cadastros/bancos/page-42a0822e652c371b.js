(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[325],{78246:function(e,o,t){Promise.resolve().then(t.bind(t,67738))},67738:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return b}});var r=t(57437),n=t(2265),i=t(1180),s=t(92940),a=t(36127),l=t(71935),c=t(92513),d=t(54817),p=t(18422),x=t(10883),u=t(39343),g=t(31885),h=t(80537);let f=h.Ry({codigo:h.Z_().min(3,"C\xf3digo deve ter 3 d\xedgitos").max(3,"C\xf3digo deve ter 3 d\xedgitos").regex(/^\d{3}$/,"C\xf3digo deve conter apenas n\xfameros"),nome:h.Z_().min(1,"Nome \xe9 obrigat\xf3rio").max(100,"Nome deve ter no m\xe1ximo 100 caracteres").transform(e=>e.toUpperCase()),ativo:h.O7().default(!0)});function b(){let[e,o]=(0,n.useState)([]),[t,h]=(0,n.useState)(!0),[b,y]=(0,n.useState)(!1),[m,j]=(0,n.useState)(null),[v,C]=(0,n.useState)(""),[k,S]=(0,n.useState)([]),[w,T]=(0,n.useState)(0),[z,I]=(0,n.useState)(""),[O,B]=(0,n.useState)(""),{register:E,handleSubmit:D,reset:W,formState:{errors:M},setValue:N}=(0,u.cI)({resolver:(0,g.F)(f),defaultValues:{ativo:!0}}),Z=(e,o)=>{T(e=>e+1);let t={id:w,message:e,type:o};S(e=>[...e,t]),setTimeout(()=>{S(e=>e.filter(e=>e.id!==w))},3e3)},R=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:s.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#eab308",icon:a.Z,iconColor:"#eab308"};case"error":return{borderColor:"#ef4444",icon:l.Z,iconColor:"#ef4444"}}};(0,n.useEffect)(()=>{_()},[]);let _=async()=>{try{let{data:e,error:t}=await i.O.from("bancos").select("*",{count:"exact"}).order("codigo",{ascending:!0});if(t)throw console.error("Erro ao carregar bancos:",t),Z("Erro: ".concat(t.message),"error"),t;o(e||[])}catch(e){console.error("Erro na fun\xe7\xe3o loadBancos:",e),Z("Erro ao carregar bancos","error")}finally{h(!1)}},A=async e=>{try{if(m){let{error:o}=await i.O.from("bancos").update(e).eq("id",m);if(o){if("23505"===o.code&&o.message.includes("bancos_org_id_codigo_key")){Z("J\xe1 existe um banco com este c\xf3digo","warning");return}throw Error("Erro ao atualizar banco: ".concat(o.message))}Z("Banco atualizado com sucesso!","success")}else{let{error:o}=await i.O.from("bancos").insert([e]);if(o){if("23505"===o.code&&o.message.includes("bancos_org_id_codigo_key")){Z("J\xe1 existe um banco com este c\xf3digo","warning");return}throw Error("Erro ao criar banco: ".concat(o.message))}Z("Banco criado com sucesso!","success")}_(),F()}catch(e){console.error("Erro ao salvar banco:",e),Z(e.message||"Erro desconhecido ao salvar banco","error")}},J=e=>{j(e.id);let o=e.codigo||"",t=e.nome||"";I(o),B(t),W({codigo:o,nome:t,ativo:e.ativo}),y(!0)},L=async e=>{if(confirm("Tem certeza que deseja excluir este banco?"))try{let{error:o}=await i.O.from("bancos").delete().eq("id",e);if(o)throw o;Z("Banco exclu\xeddo com sucesso!","success"),_()}catch(e){console.error("Erro ao excluir banco:",e),Z("Erro ao excluir banco","error")}},F=()=>{y(!1),j(null),I(""),B(""),W({codigo:"",nome:"",ativo:!0})},X=e.filter(e=>{var o,t;return(null===(o=e.codigo)||void 0===o?void 0:o.toLowerCase().includes(v.toLowerCase()))||(null===(t=e.nome)||void 0===t?void 0:t.toLowerCase().includes(v.toLowerCase()))});return t?(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"400px",flexDirection:"column",gap:"16px"},children:[(0,r.jsx)("div",{style:{width:"48px",height:"48px",border:"3px solid #e5e7eb",borderTop:"3px solid #1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,r.jsx)("div",{style:{fontSize:"14px",color:"#6b7280"},children:"Carregando bancos..."})]}):(0,r.jsxs)("div",{style:{padding:"32px",backgroundColor:"#f9fafb",minHeight:"100vh"},children:[(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{padding:"32px",borderBottom:"1px solid #e5e7eb"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#111827",marginBottom:"4px"},children:"Bancos"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie o cadastro de bancos"})]}),(0,r.jsxs)("button",{onClick:()=>y(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[(0,r.jsx)(c.Z,{style:{width:"20px",height:"20px"}}),"Novo Banco"]})]}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)(d.Z,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"#9ca3af"}}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar por c\xf3digo ou nome do banco...",value:v,onChange:e=>C(e.target.value),style:{width:"100%",padding:"12px 16px 12px 48px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsx)("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[(0,r.jsx)("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"100px"},children:"C\xf3digo"}),(0,r.jsx)("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Nome do Banco"}),(0,r.jsx)("th",{style:{padding:"12px 24px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"120px"},children:"Status"}),(0,r.jsx)("th",{style:{padding:"12px 24px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"120px"},children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:0===X.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:4,style:{padding:"48px 24px",textAlign:"center",color:"#9ca3af",fontSize:"14px"},children:0===e.length?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83C\uDFE6"}),(0,r.jsx)("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Nenhum banco cadastrado"}),(0,r.jsx)("div",{style:{fontSize:"13px"},children:'Clique em "Novo Banco" para come\xe7ar'})]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDD0D"}),(0,r.jsx)("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Nenhum banco encontrado"}),(0,r.jsx)("div",{style:{fontSize:"13px"},children:"Tente buscar com outros termos"})]})})}):X.map(e=>(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("td",{style:{padding:"16px 24px",fontSize:"14px",fontWeight:"600",color:"#1555D6"},children:e.codigo}),(0,r.jsx)("td",{style:{padding:"16px 24px",fontSize:"14px",fontWeight:"500",color:"#111827"},children:e.nome}),(0,r.jsx)("td",{style:{padding:"16px 24px"},children:(0,r.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",fontSize:"12px",fontWeight:"500",borderRadius:"12px",backgroundColor:e.ativo?"#dcfce7":"#f3f4f6",color:e.ativo?"#16a34a":"#6b7280"},children:e.ativo?"Ativo":"Inativo"})}),(0,r.jsx)("td",{style:{padding:"16px 24px"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>J(e),style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:(0,r.jsx)(p.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})}),(0,r.jsx)("button",{onClick:()=>L(e.id),style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#fee2e2",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:(0,r.jsx)(x.Z,{style:{width:"16px",height:"16px",color:"#dc2626"}})})]})})]},e.id))})]})})]}),b&&(0,r.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,backdropFilter:"blur(4px)"},onClick:F,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"500px",margin:"16px"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#111827",marginBottom:"24px"},children:m?"Editar Banco":"Novo Banco"}),(0,r.jsxs)("form",{onSubmit:D(A,e=>{e.codigo?Z(e.codigo.message,"warning"):e.nome&&Z(e.nome.message,"warning")}),style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"C\xf3digo * (3 d\xedgitos)"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("input",{...E("codigo"),value:z,style:{width:"100%",padding:"12px 40px 12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},placeholder:"000",maxLength:3,onChange:e=>{let o=e.target.value.replace(/\D/g,"");I(o),N("codigo",o)},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}}),z&&(0,r.jsx)("button",{type:"button",onClick:()=>{I(""),N("codigo","")},style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"18px",lineHeight:1},onMouseOver:e=>e.currentTarget.style.color="#6b7280",onMouseOut:e=>e.currentTarget.style.color="#9ca3af",children:"\xd7"})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"4px",fontSize:"12px",color:z.length>=3?"#10b981":"#9ca3af"},children:[z.length,"/3"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Nome do Banco *"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("input",{...E("nome"),value:O,style:{width:"100%",padding:"12px 40px 12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s",textTransform:"uppercase"},placeholder:"NOME COMPLETO DO BANCO",maxLength:100,onChange:e=>{let o=e.target.value.toUpperCase();B(o),N("nome",o)},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}}),O&&(0,r.jsx)("button",{type:"button",onClick:()=>{B(""),N("nome","")},style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"18px",lineHeight:1},onMouseOver:e=>e.currentTarget.style.color="#6b7280",onMouseOut:e=>e.currentTarget.style.color="#9ca3af",children:"\xd7"})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"4px",fontSize:"12px",color:O.length>=100?"#ef4444":"#9ca3af"},children:[O.length,"/100"]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("input",{type:"checkbox",...E("ativo"),id:"ativo",style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#1555D6"}}),(0,r.jsx)("label",{htmlFor:"ativo",style:{fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer"},children:"Banco ativo"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",paddingTop:"8px"},children:[(0,r.jsx)("button",{type:"button",onClick:F,style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",style:{flex:1,padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:m?"Atualizar":"Criar"})]})]})]})}),(0,r.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:k.map(e=>{let{borderColor:o,icon:t,iconColor:n}=R(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:"4px solid ".concat(o),padding:"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",minWidth:"300px",animation:"scaleIn 0.3s ease-out"},children:[(0,r.jsx)(t,{style:{width:"24px",height:"24px",flexShrink:0,color:n}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151"},children:e.message})]},e.id)})}),(0,r.jsx)("style",{children:"\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        @keyframes scaleIn {\n          from {\n            transform: scale(0.8);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      "})]})}},1180:function(e,o,t){"use strict";t.d(o,{O:function(){return r}});let r=(0,t(20046).eI)("https://tkefmbjqiljejkmwrwsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZWZtYmpxaWxqZWprbXdyd3N3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzEyODAsImV4cCI6MjA3NTg0NzI4MH0.fwV8APDBs7YTx3ap8km-qnhXOJx0EcXX0P68eLXgEsU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"sodcapital"}})},92940:function(e,o,t){"use strict";t.d(o,{Z:function(){return r}});let r=(0,t(78030).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},71935:function(e,o,t){"use strict";t.d(o,{Z:function(){return r}});let r=(0,t(78030).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])}},function(e){e.O(0,[46,468,589,971,23,744],function(){return e(e.s=78246)}),_N_E=e.O()}]);