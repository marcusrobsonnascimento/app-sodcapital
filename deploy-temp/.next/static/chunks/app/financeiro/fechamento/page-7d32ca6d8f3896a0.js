(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[213],{47934:function(e,t,o){Promise.resolve().then(o.bind(o,33406))},33406:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return f}});var a=o(57437),n=o(2265),i=o(1180),r=o(39343),s=o(92940),d=o(71935),l=o(36127),c=o(78030);let p=(0,c.Z)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),x=(0,c.Z)("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);var h=o(74697);function f(){let[e,t]=(0,n.useState)(!1),[o,c]=(0,n.useState)({atual:0,total:0,mensagem:""}),[f,m]=(0,n.useState)(!1),[g,u]=(0,n.useState)(!1),[b,y]=(0,n.useState)(!1),[j,v]=(0,n.useState)({title:"",message:"",type:"warning"}),[_,w]=(0,n.useState)({show:!1,message:"",type:"success"}),[S,z]=(0,n.useState)(""),[k,C]=(0,n.useState)(""),[I,A]=(0,n.useState)([]),[R,W]=(0,n.useState)([]),[E,B]=(0,n.useState)({data:"",empresa_id:"",tipo_conta:""}),{register:D,handleSubmit:q,reset:O,formState:{errors:N}}=(0,r.cI)(),{register:Z,handleSubmit:P,reset:F,formState:{errors:T}}=(0,r.cI)();(0,n.useEffect)(()=>{M()},[]);let M=async()=>{try{let{data:{user:e}}=await i.O.auth.getUser();if(e){C(e.id);let{data:t}=await i.O.from("profiles").select("full_name").eq("id",e.id).single();t&&z(t.full_name)}let{data:t}=await i.O.from("empresas").select("id, nome").eq("ativo",!0).order("nome");W(t||[])}catch(e){console.error("Erro ao carregar dados:",e)}},J=async()=>{try{let e=i.O.from("fechamentos_bancarios").select("\n          *,\n          bancos_contas (\n            banco_nome,\n            banco_codigo,\n            numero_conta,\n            agencia,\n            tipo_conta,\n            empresa_id,\n            empresas (nome),\n            bancos (nome)\n          )\n        ").eq("fechado",!0);if(E.data&&(e=e.eq("data_fechamento",E.data)),E.empresa_id&&(e=e.eq("bancos_contas.empresa_id",E.empresa_id)),E.tipo_conta&&(e=e.eq("bancos_contas.tipo_conta",E.tipo_conta)),!E.data){let{data:t,error:o}=await i.O.from("fechamentos_bancarios").select("data_fechamento").eq("fechado",!0).order("data_fechamento",{ascending:!1}).limit(1).single();if(o&&"PGRST116"!==o.code)throw o;t&&(e=e.eq("data_fechamento",t.data_fechamento))}let{data:t,error:o}=await e.neq("saldo_final",0);if(o)throw o;let a=t||[];E.empresa_id&&(a=a.filter(e=>{var t;return(null===(t=e.bancos_contas)||void 0===t?void 0:t.empresa_id)===E.empresa_id}));let n=a.sort((e,t)=>{var o,a,n,i;let r=(null===(a=e.bancos_contas)||void 0===a?void 0:null===(o=a.empresas)||void 0===o?void 0:o.nome)||"",s=(null===(i=t.bancos_contas)||void 0===i?void 0:null===(n=i.empresas)||void 0===n?void 0:n.nome)||"";return r.localeCompare(s)}),r=Array.from(new Set(n.map(e=>e.usuario_fechamento).filter(Boolean)));if(r.length>0){let{data:e}=await i.O.from("profiles").select("id, full_name").in("id",r),t=new Map((null==e?void 0:e.map(e=>[e.id,e.full_name]))||[]),o=n.map(e=>({...e,usuario_nome:t.get(e.usuario_fechamento)||"-"}));A(o)}else A(n.map(e=>({...e,usuario_nome:"-"})))}catch(e){console.error("Erro ao buscar fechamentos:",e),A([])}},X=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";w({show:!0,message:e,type:t}),setTimeout(()=>w({show:!1,message:"",type:"success"}),3e3)},U=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"warning";v({title:e,message:t,type:o}),y(!0)},V=async e=>{try{t(!0),c({atual:0,total:0,mensagem:"Iniciando..."});let o=e.data_fechamento,a=new Date;a.setHours(0,0,0,0);let n=new Date(a);n.setDate(n.getDate()-3);let r=new Date(o+"T00:00:00");if(r<n){U("Data Inv\xe1lida","Permitido fechar apenas os \xfaltimos 3 dias.","warning"),t(!1);return}if(r>a){U("Data Inv\xe1lida","N\xe3o \xe9 poss\xedvel fechar datas futuras.","warning"),t(!1);return}c({atual:0,total:0,mensagem:"Validando data..."});let{data:s,error:d}=await i.O.from("fechamentos_bancarios").select("data_fechamento").eq("fechado",!0).gt("data_fechamento",o).limit(1);if(d)throw d;if(s&&s.length>0){U("Data Inv\xe1lida","J\xe1 existe um fechamento mais recente que a data selecionada. Feche as datas em ordem cronol\xf3gica.","warning"),t(!1);return}let{data:l,error:p}=await i.O.from("fechamentos_bancarios").select("id").eq("data_fechamento",o).eq("fechado",!0).limit(1);if(p)throw p;if(l&&l.length>0){U("Data j\xe1 Fechada","Esta data j\xe1 possui fechamento realizado.","warning"),t(!1);return}c({atual:0,total:0,mensagem:"Carregando contas banc\xe1rias..."});let{data:x,error:h}=await i.O.from("bancos_contas").select("id, saldo_inicial").eq("ativo",!0);if(h)throw h;if(!x||0===x.length){U("Sem Contas","N\xe3o h\xe1 contas banc\xe1rias ativas para fechar.","warning"),t(!1);return}c({atual:0,total:x.length,mensagem:"Processando fechamentos..."});let f=[];for(let e=0;e<x.length;e++){let t=x[e];c({atual:e+1,total:x.length,mensagem:"Processando conta ".concat(e+1," de ").concat(x.length,"...")});let{data:a,error:n}=await i.O.from("fechamentos_bancarios").select("saldo_final, data_fechamento").eq("banco_conta_id",t.id).eq("fechado",!0).lt("data_fechamento",o).order("data_fechamento",{ascending:!1}).limit(1);n&&console.error("Erro ao buscar fechamento anterior:",n);let r=0;a&&a.length>0?(r=Number(a[0].saldo_final)||0,a[0].data_fechamento):r=Number(t.saldo_inicial)||0;let{data:s,error:d}=await i.O.from("movimentos_bancarios").select("tipo_movimento, valor").eq("banco_conta_id",t.id).eq("data_movimento",o);d&&console.error("Erro ao buscar movimentos:",d);let l=0,p=0;s&&s.length>0&&s.forEach(e=>{let t=Number(e.valor)||0;"ENTRADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?l+=t:("SAIDA"===e.tipo_movimento||"TRANSFERENCIA_ENVIADA"===e.tipo_movimento)&&(p+=t)});let h=r+l-p;f.push({banco_conta_id:t.id,data_fechamento:o,saldo_anterior:r,total_entradas:l,total_saidas:p,saldo_final:h,fechado:!0,usuario_fechamento:k||null,observacoes:null})}c({atual:x.length,total:x.length,mensagem:"Salvando fechamentos..."});let{error:g}=await i.O.from("fechamentos_bancarios").insert(f);if(g)throw console.error("Erro ao inserir fechamentos:",g),g;X("Fechamento realizado com sucesso para ".concat(f.length," contas!"),"success"),m(!1),O(),c({atual:0,total:0,mensagem:""}),await J()}catch(e){console.error("Erro ao realizar fechamento:",e),X((null==e?void 0:e.message)||"Erro ao realizar fechamento","error")}finally{t(!1),c({atual:0,total:0,mensagem:""})}},L=async e=>{try{t(!0);let o=e.data_reabertura,{data:a,error:n}=await i.O.from("fechamentos_bancarios").select("id, banco_conta_id").eq("data_fechamento",o).eq("fechado",!0);if(n)throw n;if(!a||0===a.length){U("Data n\xe3o Fechada","Esta data n\xe3o possui fechamento para reabrir.","warning"),t(!1);return}let{error:r}=await i.O.from("fechamentos_bancarios").update({fechado:!1}).eq("data_fechamento",o).eq("fechado",!0);if(r)throw r;X("Per\xedodo ".concat(o," reaberto com sucesso!"),"success"),u(!1),F(),await J()}catch(e){console.error("Erro ao reabrir per\xedodo:",e),X("Erro ao reabrir per\xedodo","error")}finally{t(!1)}},Y=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),H=e=>new Date(e+"T00:00:00").toLocaleDateString("pt-BR");return(0,a.jsxs)("div",{style:{padding:"20px",maxWidth:"1400px",margin:"0 auto"},children:[_.show&&(0,a.jsxs)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"success"===_.type?"#10b981":"error"===_.type?"#ef4444":"#f59e0b",color:"white",padding:"16px 24px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",zIndex:1e4,display:"flex",alignItems:"center",gap:"12px",minWidth:"300px"},children:["success"===_.type&&(0,a.jsx)(s.Z,{size:24}),"error"===_.type&&(0,a.jsx)(d.Z,{size:24}),"warning"===_.type&&(0,a.jsx)(l.Z,{size:24}),(0,a.jsx)("span",{style:{fontSize:"15px",fontWeight:"500"},children:_.message})]}),b&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10001,padding:"20px"},children:(0,a.jsxs)("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"400px",width:"100%",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px"},children:["success"===j.type&&(0,a.jsx)(s.Z,{size:24,color:"#10b981"}),"error"===j.type&&(0,a.jsx)(d.Z,{size:24,color:"#ef4444"}),"warning"===j.type&&(0,a.jsx)(l.Z,{size:24,color:"#f59e0b"}),(0,a.jsx)("h3",{style:{fontSize:"18px",fontWeight:"600",margin:0},children:j.title})]}),(0,a.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"20px",lineHeight:"1.5"},children:j.message}),(0,a.jsx)("button",{onClick:()=>y(!1),style:{width:"100%",padding:"10px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"OK"})]})}),(0,a.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,a.jsx)("h1",{style:{fontSize:"24px",fontWeight:"600",color:"#111827",marginBottom:"8px"},children:"Fechamento Di\xe1rio de Bancos"}),(0,a.jsx)("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie o fechamento e reabertura de per\xedodos banc\xe1rios"})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",marginBottom:"24px"},children:[(0,a.jsxs)("button",{onClick:()=>m(!0),style:{padding:"10px 20px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)(p,{size:18}),"Realizar Fechamento"]}),(0,a.jsxs)("button",{onClick:()=>u(!0),style:{padding:"10px 20px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)(x,{size:18}),"Reabrir Per\xedodo"]})]}),(0,a.jsx)("div",{style:{background:"white",padding:"20px",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"24px"},children:(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data"}),(0,a.jsx)("input",{type:"date",value:E.data,onChange:e=>B({...E,data:e.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,a.jsxs)("select",{value:E.empresa_id,onChange:e=>B({...E,empresa_id:e.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[(0,a.jsx)("option",{value:"",children:"Todas"}),R.map(e=>(0,a.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo Conta"}),(0,a.jsxs)("select",{value:E.tipo_conta,onChange:e=>B({...E,tipo_conta:e.target.value}),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"},children:[(0,a.jsx)("option",{value:"",children:"Todos"}),(0,a.jsx)("option",{value:"CC",children:"CC"}),(0,a.jsx)("option",{value:"CP",children:"CP"}),(0,a.jsx)("option",{value:"POUPANCA",children:"POUPAN\xc7A"})]})]}),(0,a.jsx)("div",{style:{display:"flex",alignItems:"flex-end"},children:(0,a.jsx)("button",{onClick:J,style:{width:"100%",padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Atualizar"})})]})}),(0,a.jsx)("div",{style:{background:"white",borderRadius:"8px",border:"1px solid #e5e7eb",overflow:"hidden"},children:(0,a.jsx)("div",{style:{overflowX:"auto"},children:(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{style:{background:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[(0,a.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Data"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Banco"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Conta"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Tipo Conta"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Empresa"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Saldo Anterior"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Entradas"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Sa\xeddas"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Saldo Final"}),(0,a.jsx)("th",{style:{padding:"10px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#374151"},children:"Usu\xe1rio"})]})}),(0,a.jsx)("tbody",{children:0===I.length?(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:10,style:{padding:"40px",textAlign:"center",color:"#9ca3af",fontSize:"13px"},children:"Nenhum fechamento encontrado"})}):I.map(e=>{var t,o,n,i,r,s,d,l;return(0,a.jsxs)("tr",{style:{borderBottom:"1px solid #e5e7eb"},children:[(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151"},children:H(e.data_fechamento)}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151"},children:(null===(t=e.bancos_contas)||void 0===t?void 0:t.banco_nome)||(null===(n=e.bancos_contas)||void 0===n?void 0:null===(o=n.bancos)||void 0===o?void 0:o.nome)||"-"}),(0,a.jsxs)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151"},children:["Ag: ",null===(i=e.bancos_contas)||void 0===i?void 0:i.agencia," - Conta: ",null===(r=e.bancos_contas)||void 0===r?void 0:r.numero_conta]}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151"},children:(null===(s=e.bancos_contas)||void 0===s?void 0:s.tipo_conta)||"-"}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151"},children:(null===(l=e.bancos_contas)||void 0===l?void 0:null===(d=l.empresas)||void 0===d?void 0:d.nome)||"-"}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151",textAlign:"right"},children:Y(e.saldo_anterior)}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#10b981",textAlign:"right",fontWeight:"500"},children:Y(e.total_entradas)}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#ef4444",textAlign:"right",fontWeight:"500"},children:Y(e.total_saidas)}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151",textAlign:"right",fontWeight:"600"},children:Y(e.saldo_final)}),(0,a.jsx)("td",{style:{padding:"10px",fontSize:"12px",color:"#374151"},children:e.usuario_nome||"-"})]},e.id)})})]})})}),f&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},children:(0,a.jsxs)("div",{style:{background:"white",borderRadius:"12px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[(0,a.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",margin:0},children:"Realizar Fechamento"}),(0,a.jsx)("button",{onClick:()=>{m(!1),O()},style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280"},children:(0,a.jsx)(h.Z,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:q(V),style:{padding:"20px"},children:[(0,a.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data de Fechamento *"}),(0,a.jsx)("input",{type:"date",...D("data_fechamento",{required:!0}),min:(()=>{let e=new Date;e.setDate(e.getDate()-3);let t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(o,"-").concat(a)})(),max:(()=>{let e=new Date,t=e.getFullYear(),o=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(o,"-").concat(a)})(),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}}),(0,a.jsx)("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"Permitido fechar datas at\xe9 3 dias atr\xe1s"})]}),(0,a.jsx)("div",{style:{padding:"12px",background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"6px",marginBottom:"16px"},children:(0,a.jsxs)("p",{style:{fontSize:"13px",color:"#92400e",margin:0},children:[(0,a.jsx)("strong",{children:"Aten\xe7\xe3o:"})," Todas as contas banc\xe1rias ativas ser\xe3o fechadas nesta data."]})}),e&&o.total>0&&(0,a.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,a.jsxs)("div",{style:{fontSize:"12px",color:"#374151",marginBottom:"6px",display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)("span",{children:o.mensagem}),(0,a.jsxs)("span",{children:[o.atual," / ",o.total]})]}),(0,a.jsx)("div",{style:{width:"100%",height:"8px",background:"#e5e7eb",borderRadius:"4px",overflow:"hidden"},children:(0,a.jsx)("div",{style:{width:"".concat(o.atual/o.total*100,"%"),height:"100%",background:"#3b82f6",transition:"width 0.3s ease"}})})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,a.jsx)("button",{type:"button",onClick:()=>{m(!1),O()},style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:e,style:{padding:"8px 16px",background:e?"#93c5fd":"#3b82f6",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:e?"not-allowed":"pointer"},children:e?"Processando...":"Confirmar Fechamento"})]})]})]})}),g&&(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},children:(0,a.jsxs)("div",{style:{background:"white",borderRadius:"12px",width:"100%",maxWidth:"500px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0,0,0,0.1)"},children:[(0,a.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsx)("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",margin:0},children:"Reabrir Per\xedodo"}),(0,a.jsx)("button",{onClick:()=>{u(!1),F()},style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#6b7280"},children:(0,a.jsx)(h.Z,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:P(L),style:{padding:"20px"},children:[(0,a.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,a.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data para Reabrir *"}),(0,a.jsx)("input",{type:"date",...Z("data_reabertura",{required:!0}),style:{width:"100%",padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"6px",fontSize:"14px"}})]}),(0,a.jsxs)("div",{style:{padding:"12px",background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"6px",marginBottom:"16px"},children:[(0,a.jsx)("p",{style:{fontSize:"13px",color:"#92400e",margin:0,marginBottom:"8px"},children:(0,a.jsx)("strong",{children:"Importante:"})}),(0,a.jsxs)("ul",{style:{fontSize:"13px",color:"#92400e",margin:0,paddingLeft:"20px"},children:[(0,a.jsx)("li",{children:"Esta data ser\xe1 marcada como n\xe3o fechada"}),(0,a.jsx)("li",{children:"Ao fechar novamente, todos os per\xedodos posteriores ser\xe3o recalculados automaticamente"})]})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,a.jsx)("button",{type:"button",onClick:()=>{u(!1),F()},style:{padding:"8px 16px",background:"#f3f4f6",color:"#374151",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:e,style:{padding:"8px 16px",background:e?"#6ee7b7":"#10b981",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:e?"not-allowed":"pointer"},children:e?"Processando...":"Confirmar Reabertura"})]})]})]})})]})}},1180:function(e,t,o){"use strict";o.d(t,{O:function(){return a}});let a=(0,o(20046).eI)("https://tkefmbjqiljejkmwrwsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZWZtYmpxaWxqZWprbXdyd3N3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzEyODAsImV4cCI6MjA3NTg0NzI4MH0.fwV8APDBs7YTx3ap8km-qnhXOJx0EcXX0P68eLXgEsU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"sodcapital"}})},92940:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});let a=(0,o(78030).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},71935:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});let a=(0,o(78030).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},74697:function(e,t,o){"use strict";o.d(t,{Z:function(){return a}});let a=(0,o(78030).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[46,468,971,23,744],function(){return e(e.s=47934)}),_N_E=e.O()}]);