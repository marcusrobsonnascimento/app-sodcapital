(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{27710:function(e,o,t){Promise.resolve().then(t.bind(t,97101))},97101:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return _}});var r=t(57437),n=t(2265),a=t(1180),i=t(37440),l=t(92940),s=t(36127),d=t(71935),p=t(92513),c=t(54817),x=t(18422),u=t(10883),g=t(39343),b=t(31885),f=t(80537);function h(e){var o,t,i;let{value:l,onChange:s,sentidoFilter:d,tipoFluxoFilter:p,error:c,showContraparte:x=!1,contraparteValue:u="",onContraparteChange:g,contrapartes:b=[],contraparteError:f}=e,[h,m]=(0,n.useState)([]),[y,j]=(0,n.useState)(!0),[v,S]=(0,n.useState)(""),[C,_]=(0,n.useState)(""),[w,T]=(0,n.useState)(""),[k,z]=(0,n.useState)([]),[B,R]=(0,n.useState)([]),[W,O]=(0,n.useState)([]);(0,n.useEffect)(()=>{E()},[]),(0,n.useEffect)(()=>{h.length>0&&A()},[d,p,h]),(0,n.useEffect)(()=>{if(l&&h.length>0){let e=h.find(e=>e.id===l);e&&(S(e.grupo),_(e.categoria),T(e.subcategoria),I(e))}else l||D()},[l,h]);let E=async()=>{try{let{data:e,error:o}=await a.O.from("plano_contas_fluxo").select("*").eq("ativo",!0).order("tipo_fluxo",{ascending:!0}).order("grupo",{ascending:!0}).order("categoria",{ascending:!0}).order("subcategoria",{ascending:!0});if(o)throw o;m(e||[])}catch(e){console.error("Erro ao carregar plano de contas:",e)}finally{j(!1)}},I=e=>{let o=h;d&&(o=o.filter(e=>e.sentido===d)),p&&(o=o.filter(e=>e.tipo_fluxo===p)),z(Array.from(new Set(o.map(e=>e.grupo))).sort()),R(Array.from(new Set(o.filter(o=>o.grupo===e.grupo).map(e=>e.categoria))).sort()),O(Array.from(new Set(o.filter(o=>o.grupo===e.grupo&&o.categoria===e.categoria).map(e=>e.subcategoria))).sort())},D=()=>{S(""),_(""),T(""),z([]),R([]),O([])},A=()=>{let e=h;d&&(e=e.filter(e=>e.sentido===d)),p&&(e=e.filter(e=>e.tipo_fluxo===p)),z(Array.from(new Set(e.map(e=>e.grupo))).sort()),l||(R([]),O([]),S(""),_(""),T(""))},F=e=>{if(S(e),_(""),T(""),s(""),!e){R([]),O([]);return}let o=h.filter(o=>o.grupo===e);d&&(o=o.filter(e=>e.sentido===d)),p&&(o=o.filter(e=>e.tipo_fluxo===p)),R(Array.from(new Set(o.map(e=>e.categoria))).sort()),O([])},q=e=>{if(_(e),T(""),s(""),!e){O([]);return}let o=h.filter(o=>o.grupo===v&&o.categoria===e);d&&(o=o.filter(e=>e.sentido===d)),p&&(o=o.filter(e=>e.tipo_fluxo===p)),O(Array.from(new Set(o.map(e=>e.subcategoria))).sort())},M=e=>{if(T(e),!e){s("");return}let o=h.find(o=>o.grupo===v&&o.categoria===C&&o.subcategoria===e);d&&o&&(o=h.find(o=>o.grupo===v&&o.categoria===C&&o.subcategoria===e&&o.sentido===d)),p&&o&&(o=h.find(o=>o.grupo===v&&o.categoria===C&&o.subcategoria===e&&o.tipo_fluxo===p)),o&&s(o.id)};if(y)return(0,r.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"Carregando plano de contas..."});let Z={width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer",backgroundColor:"white"},L={...Z,backgroundColor:"#f9fafb",cursor:"not-allowed",opacity:.6};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:x?"0.8fr 1fr 1fr 1.2fr":"repeat(3, 1fr)",gap:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Grupo ",(0,r.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:v,onChange:e=>F(e.target.value),disabled:!p,style:{...p?Z:L,borderColor:c&&!v?"#ef4444":"#e5e7eb"},onFocus:e=>{p&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=c&&!v?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),k.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Categoria ",(0,r.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:C,onChange:e=>q(e.target.value),disabled:!v,style:{...v?Z:L,borderColor:c&&!C?"#ef4444":"#e5e7eb"},onFocus:e=>{v&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=c&&!C?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),B.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Subcategoria ",(0,r.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:w,onChange:e=>M(e.target.value),disabled:!C,style:{...C?Z:L,borderColor:c&&!w?"#ef4444":"#e5e7eb"},onFocus:e=>{C&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=c&&!w?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),W.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),x&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Contraparte ",(0,r.jsx)("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:u||"",onChange:e=>null==g?void 0:g(e.target.value),style:{...Z,borderColor:f?"#ef4444":"#e5e7eb"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor=f?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),b.map(e=>(0,r.jsx)("option",{value:e.id,children:e.apelido||e.nome},e.id))]}),f&&(0,r.jsx)("p",{style:{marginTop:"4px",fontSize:"11px",color:"#ef4444",fontWeight:"500"},children:f})]})]}),l&&(0,r.jsxs)("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#f0f9ff",border:"1px solid #bfdbfe",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["C\xf3digo Financeiro:"," "]}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:null===(o=h.find(e=>e.id===l))||void 0===o?void 0:o.codigo_conta})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["Plano Cont\xe1bil:"," "]}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:(null===(t=h.find(e=>e.id===l))||void 0===t?void 0:t.cod_cont)||"1.00.00.00.001"}),(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:[" ","- ",(null===(i=h.find(e=>e.id===l))||void 0===i?void 0:i.conta_cont)||"Em Desenvolvimento"]})]})]}),c&&(0,r.jsx)("p",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:"500"},children:c})]})}let m=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),y=e=>{let o=e.replace(/\D/g,"");if(!o)return"";let t=parseInt(o,10)/100;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},j=e=>e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0,v=e=>e?e.split("T")[0]:"",S=f.Ry({tipo:f.Km(["Entrada","Saida"],{required_error:"Tipo \xe9 obrigat\xf3rio"}),empresa_id:f.Z_().min(1,"Empresa \xe9 obrigat\xf3ria"),tipo_fluxo:f.Z_().min(1,"Tipo de Fluxo \xe9 obrigat\xf3rio"),projeto_id:f.Z_().optional(),subprojeto_id:f.Z_().optional(),banco_conta_id:f.Z_().min(1,"Conta banc\xe1ria \xe9 obrigat\xf3ria"),contraparte_id:f.Z_().min(1,"Contraparte \xe9 obrigat\xf3ria"),plano_conta_id:f.Z_().min(1,"Plano de conta \xe9 obrigat\xf3rio"),valor_bruto:f.oQ.number().min(.01,"Valor bruto \xe9 obrigat\xf3rio"),data_emissao:f.Z_().min(1,"Data de emiss\xe3o \xe9 obrigat\xf3ria"),data_vencimento:f.Z_().min(1,"Data de vencimento \xe9 obrigat\xf3ria"),data_previsao_pagamento:f.Z_().optional(),documento_tipo:f.Z_().optional(),documento_numero:f.Z_().optional(),observacoes:f.Z_().optional()}).refine(e=>"Corporativo"===e.tipo_fluxo||!!e.projeto_id,{message:"Projeto \xe9 obrigat\xf3rio quando Tipo de Fluxo n\xe3o for Corporativo",path:["projeto_id"]}),C=[{value:"IRRF",label:"IRRF"},{value:"INSS",label:"INSS"},{value:"ISSQN",label:"ISSQN"},{value:"PIS",label:"PIS"},{value:"COFINS",label:"COFINS"},{value:"CSLL",label:"CSLL"},{value:"OUTRO",label:"Outro"}];function _(){var e,o;let[t,f]=(0,n.useState)([]),[_,w]=(0,n.useState)([]),[T,k]=(0,n.useState)([]),[z,B]=(0,n.useState)([]),[R,W]=(0,n.useState)([]),[O,E]=(0,n.useState)([]),[I,D]=(0,n.useState)([]),[A,F]=(0,n.useState)(!0),[q,M]=(0,n.useState)(!1),[Z,L]=(0,n.useState)(null),[N,P]=(0,n.useState)(!1),[V,X]=(0,n.useState)(0),[Y,J]=(0,n.useState)(!0),[G,H]=(0,n.useState)(!1),[Q,U]=(0,n.useState)(""),[$,K]=(0,n.useState)(""),[ee,eo]=(0,n.useState)(""),[et,er]=(0,n.useState)(""),[en,ea]=(0,n.useState)(""),[ei,el]=(0,n.useState)(""),[es,ed]=(0,n.useState)(""),[ep,ec]=(0,n.useState)(""),[ex,eu]=(0,n.useState)([]),[eg,eb]=(0,n.useState)(0),[ef,eh]=(0,n.useState)(""),[em,ey]=(0,n.useState)(0),[ej,ev]=(0,n.useState)([]),[eS,eC]=(0,n.useState)(0),[e_,ew]=(0,n.useState)({show:!1,id:null}),[eT,ek]=(0,n.useState)({show:!1,id:null}),[ez,eB]=(0,n.useState)(""),{register:eR,handleSubmit:eW,reset:eO,formState:{errors:eE},setValue:eI,watch:eD}=(0,g.cI)({resolver:(0,b.F)(S),defaultValues:{tipo:"Saida",empresa_id:"",tipo_fluxo:"",projeto_id:"",subprojeto_id:"",banco_conta_id:"",contraparte_id:"",plano_conta_id:"",valor_bruto:0,data_emissao:"",data_vencimento:"",data_previsao_pagamento:"",documento_tipo:"",documento_numero:"",observacoes:""}}),eA=eD("empresa_id"),eF=eD("tipo_fluxo"),eq=eD("projeto_id"),eM=eD("tipo"),eZ=(e,o)=>{eC(e=>e+1);let t={id:eS,message:e,type:o};ev(e=>[...e,t]),setTimeout(()=>{ev(e=>e.filter(e=>e.id!==eS))},"warning"===o?2e3:3e3)},eL=e=>{ev(o=>o.filter(o=>o.id!==e))},eN=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:l.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#f59e0b",icon:s.Z,iconColor:"#f59e0b"};case"error":return{borderColor:"#ef4444",icon:d.Z,iconColor:"#ef4444"}}};(0,n.useEffect)(()=>{"Corporativo"===eF&&(eI("projeto_id",""),eI("subprojeto_id",""))},[eF,eI]);let eP=async()=>{let{data:e,error:o}=await a.O.from("empresas").select("*").eq("ativo",!0).order("nome");o?(console.error("Erro ao carregar empresas:",o),eZ("Erro ao carregar empresas","error")):w(e||[])},eV=async e=>{let{data:o,error:t}=await a.O.from("projetos").select("*").eq("empresa_id",e).eq("ativo",!0).is("projeto_pai_id",null).order("nome");t?(console.error("Erro ao carregar projetos:",t),eZ("Erro ao carregar projetos","error")):k(o||[])},eX=async e=>{let{data:o,error:t}=await a.O.from("projetos").select("*").eq("projeto_pai_id",e).eq("ativo",!0).order("nome");t?(console.error("Erro ao carregar subprojetos:",t),eZ("Erro ao carregar subprojetos","error")):B(o||[])},eY=async e=>{let{data:o,error:t}=await a.O.from("bancos_contas").select("*").eq("empresa_id",e).eq("ativo",!0);t?(console.error("Erro ao carregar contas banc\xe1rias:",t),eZ("Erro ao carregar contas banc\xe1rias","error")):W(o||[])},eJ=async()=>{let{data:e,error:o}=await a.O.from("contrapartes").select("*").eq("ativo",!0).order("nome");o?(console.error("Erro ao carregar contrapartes:",o),eZ("Erro ao carregar contrapartes","error")):E(e||[])},eG=async()=>{let{data:e,error:o}=await a.O.from("plano_contas_fluxo").select("tipo_fluxo").eq("ativo",!0);o?(console.error("Erro ao carregar tipos de fluxo:",o),eZ("Erro ao carregar tipos de fluxo","error")):D(Array.from(new Set((e||[]).map(e=>e.tipo_fluxo))).sort())},eH=async e=>{let{data:o,error:t}=await a.O.from("lancamento_retencoes").select("*").eq("lancamento_id",e);t?console.error("Erro ao carregar reten\xe7\xf5es:",t):eu((o||[]).map(e=>({...e,valorFormatado:y((100*e.valor).toString())})))},eQ=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o?H(!0):F(!0);let t=a.O.from("lancamentos").select("\n        *,\n        empresa:empresas!lancamentos_empresa_id_fkey(nome),\n        projeto:projetos!lancamentos_projeto_id_fkey(nome),\n        subprojeto:projetos!lancamentos_subprojeto_id_fkey(nome),\n        contraparte:contrapartes(nome),\n        plano_conta:plano_contas_fluxo(*)\n      ").order("data_vencimento",{ascending:!1}).order("created_at",{ascending:!1}).range(50*e,(e+1)*50-1);Q&&(t=t.or("documento_numero.ilike.%".concat(Q,"%,observacoes.ilike.%").concat(Q,"%"))),$&&(t=t.eq("tipo",$)),ee&&(t=t.eq("status",ee)),et&&(t=t.eq("empresa_id",et)),en&&(t=t.eq("projeto_id",en)),ei&&(t=t.eq("contraparte_id",ei)),es&&(t=t.gte("data_vencimento",es)),ep&&(t=t.lte("data_vencimento",ep));let{data:r,error:n}=await t;if(n){console.error("Erro ao carregar lan\xe7amentos:",n),eZ("Erro ao carregar lan\xe7amentos","error"),o?H(!1):F(!1);return}let i=(r||[]).map(e=>{var o,t,r,n;return{...e,empresa_nome:null===(o=e.empresa)||void 0===o?void 0:o.nome,projeto_nome:null===(t=e.projeto)||void 0===t?void 0:t.nome,subprojeto_nome:null===(r=e.subprojeto)||void 0===r?void 0:r.nome,contraparte_nome:null===(n=e.contraparte)||void 0===n?void 0:n.nome}});o?f(e=>[...e,...i]):f(i),J(50===i.length),o?H(!1):F(!1)};(0,n.useEffect)(()=>{eP(),eJ(),eG(),eQ()},[]),(0,n.useEffect)(()=>{X(0),eQ(0,!1)},[Q,$,ee,et,en,ei,es,ep]),(0,n.useEffect)(()=>{eA?(eV(eA),eY(eA),eI("projeto_id",""),eI("subprojeto_id",""),eI("banco_conta_id","")):(k([]),W([]))},[eA,eI]),(0,n.useEffect)(()=>{eq?(eX(eq),eI("subprojeto_id","")):B([])},[eq,eI]);let eU=e=>{if(e){var o;L(e.id),P("PAGO_RECEBIDO"===e.status),eH(e.id),eI("tipo",e.tipo),eI("empresa_id",e.empresa_id),eI("tipo_fluxo",(null===(o=e.plano_conta)||void 0===o?void 0:o.tipo_fluxo)||""),eI("projeto_id",e.projeto_id||""),eI("subprojeto_id",e.subprojeto_id||""),eI("banco_conta_id",e.banco_conta_id||""),eI("contraparte_id",e.contraparte_id||""),eI("plano_conta_id",e.plano_conta_id),eI("valor_bruto",e.valor_bruto),eI("data_emissao",v(e.data_emissao)),eI("data_vencimento",v(e.data_vencimento)),eI("data_previsao_pagamento",v(e.data_previsao_pagamento)),eI("documento_tipo",e.documento_tipo||""),eI("documento_numero",e.documento_numero||""),eI("observacoes",e.observacoes||""),eb(e.valor_bruto),eh(y((100*e.valor_bruto).toString())),ey(e.valor_liquido)}else L(null),P(!1),eu([]),eb(0),eh(""),ey(0),eO();M(!0)},e$=()=>{M(!1),L(null),P(!1),eu([]),eb(0),eh(""),ey(0),eO()},eK=(e,o)=>e-o.reduce((e,o)=>e+o.valor,0);(0,n.useEffect)(()=>{ey(eK(eg,ex))},[eg,ex]);let e0=e=>{eu(ex.filter((o,t)=>t!==e))},e1=(e,o,t)=>{let r=[...ex];if("valorFormatado"===o){let o=y(t),n=j(o);r[e]={...r[e],valorFormatado:o,valor:n}}else r[e]={...r[e],[o]:t};eu(r)},e5=async e=>{let o={tipo:e.tipo,empresa_id:e.empresa_id,projeto_id:"Corporativo"===eF?null:e.projeto_id||null,subprojeto_id:e.subprojeto_id||null,banco_conta_id:e.banco_conta_id,contraparte_id:e.contraparte_id,plano_conta_id:e.plano_conta_id,valor_bruto:eg,valor_liquido:em,data_emissao:e.data_emissao,data_vencimento:e.data_vencimento,data_previsao_pagamento:e.data_previsao_pagamento||null,documento_tipo:e.documento_tipo||null,documento_numero:e.documento_numero||null,observacoes:e.observacoes||null,status:"ABERTO",sentido:"Entrada"===e.tipo?"Entrada":"Saida"};if(Z){let{error:e}=await a.O.from("lancamentos").update(o).eq("id",Z);if(e){console.error("Erro ao atualizar lan\xe7amento:",e),eZ("Erro ao atualizar lan\xe7amento","error");return}if(await a.O.from("lancamento_retencoes").delete().eq("lancamento_id",Z),ex.length>0){let e=ex.map(e=>({lancamento_id:Z,imposto:e.imposto,valor:e.valor,detalhe:e.detalhe}));await a.O.from("lancamento_retencoes").insert(e)}eZ("Lan\xe7amento atualizado com sucesso!","success")}else{let{data:e,error:t}=await a.O.from("lancamentos").insert([o]).select().single();if(t){console.error("Erro ao criar lan\xe7amento:",t),eZ("Erro ao criar lan\xe7amento","error");return}if(ex.length>0&&e){let o=ex.map(o=>({lancamento_id:e.id,imposto:o.imposto,valor:o.valor,detalhe:o.detalhe}));await a.O.from("lancamento_retencoes").insert(o)}eZ("Lan\xe7amento criado com sucesso!","success")}e$(),eQ()},e2=async()=>{if(!e_.id)return;let{error:e}=await a.O.from("lancamentos").delete().eq("id",e_.id);e?(console.error("Erro ao excluir lan\xe7amento:",e),eZ("Erro ao excluir lan\xe7amento","error")):(eZ("Lan\xe7amento exclu\xeddo com sucesso!","success"),eQ()),ew({show:!1,id:null})},e4=async()=>{if(!eT.id||!ez)return;let{error:e}=await a.O.from("lancamentos").update({status:"PAGO_RECEBIDO",data_liquidacao:ez}).eq("id",eT.id);e?(console.error("Erro ao liquidar lan\xe7amento:",e),eZ("Erro ao liquidar lan\xe7amento","error")):(eZ("Lan\xe7amento liquidado com sucesso!","success"),eQ()),ek({show:!1,id:null}),eB("")},e6=e=>{let o={ABERTO:{bg:"#fef3c7",text:"#92400e",label:"Aberto"},PAGO_RECEBIDO:{bg:"#d1fae5",text:"#065f46",label:"Liquidado"},CANCELADO:{bg:"#fee2e2",text:"#991b1b",label:"Cancelado"}};return o[e]||o.ABERTO},e3=e=>"Entrada"===e?{bg:"#d1fae5",text:"#065f46",label:"Recebimento"}:{bg:"#fee2e2",text:"#991b1b",label:"Pagamento"};return A?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px",color:"#6b7280"},children:"Carregando..."}):(0,r.jsxs)("div",{style:{padding:"24px",maxWidth:"1800px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,r.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#1f2937",margin:0},children:"Lan\xe7amentos Financeiros"}),(0,r.jsxs)("button",{onClick:()=>eU(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[(0,r.jsx)(p.Z,{size:20}),"Novo Lan\xe7amento"]})]}),(0,r.jsx)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Buscar"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)(c.Z,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),(0,r.jsx)("input",{type:"text",placeholder:"Documento, observa\xe7\xf5es...",value:Q,onChange:e=>U(e.target.value),style:{width:"100%",padding:"9px 10px 9px 38px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo"}),(0,r.jsxs)("select",{value:$,onChange:e=>K(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[(0,r.jsx)("option",{value:"",children:"Todos"}),(0,r.jsx)("option",{value:"Entrada",children:"Recebimento"}),(0,r.jsx)("option",{value:"Saida",children:"Pagamento"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Status"}),(0,r.jsxs)("select",{value:ee,onChange:e=>eo(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[(0,r.jsx)("option",{value:"",children:"Todos"}),(0,r.jsx)("option",{value:"ABERTO",children:"Aberto"}),(0,r.jsx)("option",{value:"PAGO_RECEBIDO",children:"Liquidado"}),(0,r.jsx)("option",{value:"CANCELADO",children:"Cancelado"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:et,onChange:e=>er(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[(0,r.jsx)("option",{value:"",children:"Todas"}),_.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento - De"}),(0,r.jsx)("input",{type:"date",value:es,onChange:e=>ed(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento - At\xe9"}),(0,r.jsx)("input",{type:"date",value:ep,onChange:e=>ec(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]})]})}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsx)("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tipo"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Empresa"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Projeto"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Contraparte"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Categoria"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Valor Bruto"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Valor L\xedquido"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Vencimento"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),(0,r.jsx)("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:t.map(e=>{var o;let t=e6(e.status),n=e3(e.tipo);return(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:[(0,r.jsx)("td",{style:{padding:"14px 16px"},children:(0,r.jsx)("span",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",backgroundColor:n.bg,color:n.text},children:n.label})}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#1f2937",fontWeight:"500"},children:e.empresa_nome}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:e.projeto_nome||"-"}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:e.contraparte_nome||"-"}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:(null===(o=e.plano_conta)||void 0===o?void 0:o.categoria)||"-"}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#1f2937",fontWeight:"600",textAlign:"right"},children:m(e.valor_bruto)}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#1f2937",fontWeight:"600",textAlign:"right"},children:m(e.valor_liquido)}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:(0,i.p6)(e.data_vencimento)}),(0,r.jsx)("td",{style:{padding:"14px 16px"},children:(0,r.jsx)("span",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",backgroundColor:t.bg,color:t.text},children:t.label})}),(0,r.jsx)("td",{style:{padding:"14px 16px",textAlign:"right"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:["ABERTO"===e.status&&(0,r.jsx)("button",{onClick:()=>ek({show:!0,id:e.id}),style:{padding:"6px 10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#059669",onMouseOut:e=>e.currentTarget.style.backgroundColor="#10b981",children:"Liquidar"}),(0,r.jsx)("button",{onClick:()=>eU(e),style:{padding:"6px",backgroundColor:"#e0e7ff",color:"#1555D6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#c7d2fe",onMouseOut:e=>e.currentTarget.style.backgroundColor="#e0e7ff",children:(0,r.jsx)(x.Z,{size:16})}),(0,r.jsx)("button",{onClick:()=>ew({show:!0,id:e.id}),style:{padding:"6px",backgroundColor:"#fee2e2",color:"#ef4444",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#fecaca",onMouseOut:e=>e.currentTarget.style.backgroundColor="#fee2e2",children:(0,r.jsx)(u.Z,{size:16})})]})})]},e.id)})})]})}),Y&&(0,r.jsx)("div",{style:{padding:"20px",textAlign:"center",borderTop:"1px solid #e5e7eb"},children:(0,r.jsx)("button",{onClick:()=>{let e=V+1;X(e),eQ(e,!0)},disabled:G,style:{padding:"10px 24px",backgroundColor:G?"#d1d5db":"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:G?"not-allowed":"pointer",transition:"all 0.2s"},children:G?"Carregando...":"Carregar Mais"})})]}),q&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)",overflowY:"auto",padding:"20px"},onClick:e$,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"100%",maxWidth:"1400px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{style:{position:"sticky",top:0,backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 20px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:10},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:Z?"Editar Lan\xe7amento":"Novo Lan\xe7amento"}),(0,r.jsx)("button",{onClick:e$,style:{background:"none",border:"none",fontSize:"24px",color:"#9ca3af",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#6b7280"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#9ca3af"},children:"\xd7"})]})}),(0,r.jsx)("div",{style:{padding:"18px",overflowY:"auto"},children:(0,r.jsxs)("form",{onSubmit:eW(e5,e=>{console.log("Erros de valida\xe7\xe3o:",e);let o=Object.values(e)[0];(null==o?void 0:o.message)&&eZ(o.message,"error")}),children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 120px 1fr",gap:"12px",marginBottom:"14px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa *"}),(0,r.jsxs)("select",{...eR("empresa_id"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),_.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo de Fluxo *"}),(0,r.jsxs)("select",{...eR("tipo_fluxo"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),I.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Projeto ","Corporativo"!==eF&&"*"]}),(0,r.jsxs)("select",{...eR("projeto_id"),disabled:!eA||"Corporativo"===eF,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eA&&"Corporativo"!==eF?"pointer":"not-allowed",opacity:eA&&"Corporativo"!==eF?1:.6},onFocus:e=>{eA&&"Corporativo"!==eF&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),T.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]},"projeto-".concat(Z||"new","-").concat(eA))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Subprojeto"}),(0,r.jsxs)("select",{...eR("subprojeto_id"),disabled:!eq||0===z.length,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eq&&z.length>0?"pointer":"not-allowed",opacity:eq&&z.length>0?1:.6},onFocus:e=>{eq&&z.length>0&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),z.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]},"subprojeto-".concat(Z||"new","-").concat(eq))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo *"}),(0,r.jsxs)("select",{...eR("tipo"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"Entrada",children:"Recebimento"}),(0,r.jsx)("option",{value:"Saida",children:"Pagamento"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria *"}),(0,r.jsxs)("select",{...eR("banco_conta_id"),disabled:!eA,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eA?"pointer":"not-allowed",opacity:eA?1:.6},onFocus:e=>{eA&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),R.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.nome_banco||"Banco"," - Ag: ",e.agencia," - Conta: ",e.numero_conta]},e.id))]},"banco-".concat(Z||"new","-").concat(eA))]})]}),(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:(0,r.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginTop:0,marginBottom:"14px"},children:"Plano de Contas"})}),(0,r.jsx)("div",{style:{marginBottom:"14px"},children:(0,r.jsx)(h,{value:eD("plano_conta_id"),onChange:e=>eI("plano_conta_id",e),sentidoFilter:eM,tipoFluxoFilter:eF,error:null===(e=eE.plano_conta_id)||void 0===e?void 0:e.message,showContraparte:!0,contraparteValue:eD("contraparte_id"),onContraparteChange:e=>eI("contraparte_id",e),contrapartes:O,contraparteError:null===(o=eE.contraparte_id)||void 0===o?void 0:o.message},"plano-conta-".concat(Z||"new","-").concat(eD("plano_conta_id")))}),(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:(0,r.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginTop:0,marginBottom:"14px"},children:"Datas, Documentos e Valores"})}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 0.8fr 0.6fr",gap:"12px",marginBottom:"14px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Emiss\xe3o *"}),(0,r.jsx)("input",{...eR("data_emissao"),type:"date",disabled:N,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:N?"#f9fafb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"},onFocus:e=>{N||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Vencimento *"}),(0,r.jsx)("input",{...eR("data_vencimento"),type:"date",disabled:N,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:N?"#f9fafb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"},onFocus:e=>{N||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Previs\xe3o Pgto"}),(0,r.jsx)("input",{...eR("data_previsao_pagamento"),type:"date",disabled:N,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:N?"#f9fafb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"},onFocus:e=>{N||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor Bruto *"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"R$"}),(0,r.jsx)("input",{type:"text",value:ef,disabled:N,onChange:e=>{let o=y(e.target.value);eh(o);let t=j(o);eb(t),eI("valor_bruto",t)},style:{width:"100%",padding:"9px 10px 9px 32px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",textAlign:"right",backgroundColor:N?"#f9fafb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"},onFocus:e=>{N||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo Doc"}),(0,r.jsx)("input",{...eR("documento_tipo"),type:"text",disabled:N,placeholder:"NF, Boleto...",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:N?"#f9fafb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"},onFocus:e=>{N||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"N\xba Doc"}),(0,r.jsx)("input",{...eR("documento_numero"),type:"text",disabled:N,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:N?"#f9fafb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"},onFocus:e=>{N||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"14px"},children:[(0,r.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0},children:"Reten\xe7\xf5es de Impostos"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{eu([...ex,{imposto:"IRRF",valor:0,valorFormatado:"",detalhe:null}])},disabled:N,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",backgroundColor:N?"#d1d5db":"#e0e7ff",color:N?"#6b7280":"#1555D6",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:N?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>{N||(e.currentTarget.style.backgroundColor="#c7d2fe")},onMouseOut:e=>{N||(e.currentTarget.style.backgroundColor="#e0e7ff")},children:[(0,r.jsx)(p.Z,{size:16}),"Adicionar Reten\xe7\xe3o"]})]}),ex.map((e,o)=>(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr 40px",gap:"12px",marginBottom:"12px",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo de Imposto"}),(0,r.jsx)("select",{value:e.imposto,onChange:e=>e1(o,"imposto",e.target.value),disabled:N,style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none",cursor:N?"not-allowed":"pointer",backgroundColor:N?"#e5e7eb":"white",color:N?"#9ca3af":"#1f2937"},children:C.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("span",{style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",fontSize:"12px",color:"#6b7280",fontWeight:"500"},children:"R$"}),(0,r.jsx)("input",{type:"text",value:e.valorFormatado,onChange:e=>e1(o,"valorFormatado",e.target.value),disabled:N,style:{width:"100%",padding:"8px 8px 8px 28px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none",textAlign:"right",backgroundColor:N?"#e5e7eb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"}})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Detalhe"}),(0,r.jsx)("input",{type:"text",value:e.detalhe||"",onChange:e=>e1(o,"detalhe",e.target.value),disabled:N,placeholder:"Descri\xe7\xe3o adicional...",style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none",backgroundColor:N?"#e5e7eb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"}})]}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"flex-end"},children:(0,r.jsx)("button",{type:"button",onClick:()=>e0(o),disabled:N,style:{padding:"8px",backgroundColor:N?"#d1d5db":"#fee2e2",color:N?"#6b7280":"#ef4444",border:"none",borderRadius:"6px",cursor:N?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>{N||(e.currentTarget.style.backgroundColor="#fecaca")},onMouseOut:e=>{N||(e.currentTarget.style.backgroundColor="#fee2e2")},children:(0,r.jsx)(u.Z,{size:16})})})]},o)),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"14px",backgroundColor:"#f0f9ff",borderRadius:"8px",marginTop:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Valor Bruto"}),(0,r.jsx)("div",{style:{fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:m(eg)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Total Reten\xe7\xf5es"}),(0,r.jsxs)("div",{style:{fontSize:"16px",fontWeight:"700",color:"#ef4444"},children:["- ",m(ex.reduce((e,o)=>e+o.valor,0))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Valor L\xedquido"}),(0,r.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"#10b981"},children:m(em)})]})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"14px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Observa\xe7\xf5es"}),(0,r.jsx)("textarea",{...eR("observacoes"),disabled:N,rows:3,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",resize:"vertical",fontFamily:"inherit",backgroundColor:N?"#f9fafb":"white",cursor:N?"not-allowed":"text",color:N?"#9ca3af":"#1f2937"},onFocus:e=>{N||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:[(0,r.jsx)("button",{type:"button",onClick:e$,style:{padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsxs)("button",{type:"submit",style:{padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[Z?"Atualizar":"Criar"," Lan\xe7amento"]})]})]})})]})}),e_.show&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>ew({show:!1,id:null}),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(s.Z,{style:{width:"28px",height:"28px",color:"#ef4444"}})}),(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Confirmar Exclus\xe3o"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",textAlign:"center",lineHeight:"1.5"},children:"Tem certeza que deseja excluir este lan\xe7amento? Esta a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsx)("button",{onClick:()=>ew({show:!1,id:null}),style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{onClick:e2,style:{flex:1,padding:"12px 24px",backgroundColor:"#ef4444",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseOut:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Excluir"})]})]})}),eT.show&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>{ek({show:!1,id:null}),eB("")},children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(l.Z,{style:{width:"28px",height:"28px",color:"#10b981"}})}),(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Liquidar Lan\xe7amento"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"20px",textAlign:"center",lineHeight:"1.5"},children:"Confirme a data de pagamento/recebimento:"}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Data de Liquida\xe7\xe3o *"}),(0,r.jsx)("input",{type:"date",value:ez,onChange:e=>eB(e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsx)("button",{onClick:()=>{ek({show:!1,id:null}),eB("")},style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{onClick:e4,disabled:!ez,style:{flex:1,padding:"12px 24px",backgroundColor:ez?"#10b981":"#d1d5db",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:ez?"pointer":"not-allowed",transition:"all 0.2s"},onMouseOver:e=>{ez&&(e.currentTarget.style.backgroundColor="#059669")},onMouseOut:e=>{ez&&(e.currentTarget.style.backgroundColor="#10b981")},children:"Confirmar Liquida\xe7\xe3o"})]})]})}),(0,r.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:ej.map(e=>{let{borderColor:o,icon:t,iconColor:n}=eN(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:"4px solid ".concat(o),padding:e.requiresConfirmation?"20px":"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:e.requiresConfirmation?"column":"row",alignItems:e.requiresConfirmation?"stretch":"center",gap:e.requiresConfirmation?"16px":"12px",minWidth:"400px",maxWidth:"600px",animation:"scaleIn 0.3s ease-out",pointerEvents:e.requiresConfirmation?"auto":"none"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)(t,{style:{width:"24px",height:"24px",flexShrink:0,color:n}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151",lineHeight:"1.5"},children:e.message})]}),e.requiresConfirmation&&(0,r.jsx)("button",{onClick:()=>eL(e.id),style:{padding:"10px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s",alignSelf:"center",minWidth:"100px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]},e.id)})}),(0,r.jsx)("style",{children:"\n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n    @keyframes scaleIn {\n      from {\n        transform: scale(0.8);\n        opacity: 0;\n      }\n      to {\n        transform: scale(1);\n        opacity: 1;\n      }\n    }\n  "})]})}},1180:function(e,o,t){"use strict";t.d(o,{O:function(){return r}});let r=(0,t(20046).eI)("https://tkefmbjqiljejkmwrwsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZWZtYmpxaWxqZWprbXdyd3N3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzEyODAsImV4cCI6MjA3NTg0NzI4MH0.fwV8APDBs7YTx3ap8km-qnhXOJx0EcXX0P68eLXgEsU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"sodcapital"}})},37440:function(e,o,t){"use strict";function r(e){if(!e)return"-";let o="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("pt-BR").format(o)}function n(e){return null==e?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}t.d(o,{p6:function(){return r},xG:function(){return n}})},92940:function(e,o,t){"use strict";t.d(o,{Z:function(){return r}});let r=(0,t(78030).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},71935:function(e,o,t){"use strict";t.d(o,{Z:function(){return r}});let r=(0,t(78030).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},36127:function(e,o,t){"use strict";t.d(o,{Z:function(){return r}});let r=(0,t(78030).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])}},function(e){e.O(0,[46,589,971,23,744],function(){return e(e.s=27710)}),_N_E=e.O()}]);