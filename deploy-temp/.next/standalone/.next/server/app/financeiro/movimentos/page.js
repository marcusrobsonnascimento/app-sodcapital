(()=>{var e={};e.id=893,e.ids=[893],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},97843:(e,o,t)=>{"use strict";t.r(o),t.d(o,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(67259),t(1246),t(35866);var r=t(23191),n=t(88716),i=t(37922),a=t.n(i),s=t(95231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);t.d(o,l);let d=["",{children:["financeiro",{children:["movimentos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,67259)),"C:\\Projetos\\app-sodcapital\\app\\financeiro\\movimentos\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1246)),"C:\\Projetos\\app-sodcapital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Projetos\\app-sodcapital\\app\\financeiro\\movimentos\\page.tsx"],p="/financeiro/movimentos/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/financeiro/movimentos/page",pathname:"/financeiro/movimentos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87139:(e,o,t)=>{Promise.resolve().then(t.bind(t,37744))},37744:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>f});var r=t(10326),n=t(17577),i=t(25472),a=t(71821),s=t(29163),l=t(17069),d=t(83855),c=t(88307),p=t(37358),x=t(44389),u=t(98091),m=t(74723),g=t(68284),h=t(770);let b=h.Ry({empresa_id:h.Z_().min(1,"Empresa \xe9 obrigat\xf3ria"),banco_conta_id:h.Z_().min(1,"Conta banc\xe1ria \xe9 obrigat\xf3ria"),tipo_movimento:h.Km(["ENTRADA","SAIDA"],{required_error:"Tipo de movimento \xe9 obrigat\xf3rio"}),data_movimento:h.Z_().min(1,"Data do movimento \xe9 obrigat\xf3ria"),valor:h.Z_().min(1,"Valor \xe9 obrigat\xf3rio"),historico:h.Z_().optional(),documento:h.Z_().optional()});function f(){let[e,o]=(0,n.useState)([]),[t,h]=(0,n.useState)([]),[f,y]=(0,n.useState)([]),[v,j]=(0,n.useState)([]),[_,S]=(0,n.useState)(!0),[C,w]=(0,n.useState)(!1),[T,k]=(0,n.useState)(!1),[A,R]=(0,n.useState)(null),[z,E]=(0,n.useState)(""),[D,B]=(0,n.useState)(""),[I,W]=(0,n.useState)(""),[N,q]=(0,n.useState)(""),[M,F]=(0,n.useState)(""),[P,O]=(0,n.useState)(""),[Z,L]=(0,n.useState)([]),[$,G]=(0,n.useState)(0),[V,H]=(0,n.useState)(0),[X,K]=(0,n.useState)(!0),[Y,J]=(0,n.useState)(0),{register:Q,handleSubmit:U,reset:ee,setValue:eo,formState:{errors:et},watch:er}=(0,m.cI)({resolver:(0,g.F)(b)}),en=er("empresa_id"),[ei,ea]=(0,n.useState)(""),es=e=>{let o=e.replace(/\D/g,"");return o?(parseFloat(o)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},el=e=>{let o=e.replace(/\D/g,"");return o?(parseFloat(o)/100).toString():"0"},ed=(e,o)=>{G(e=>e+1);let t={id:$,message:e,type:o};L(e=>[...e,t]),setTimeout(()=>{ec($)},4e3)},ec=e=>{L(o=>o.filter(o=>o.id!==e))},ep=e=>({success:{borderColor:"#10b981",icon:a.Z,iconColor:"#10b981"},error:{borderColor:"#ef4444",icon:s.Z,iconColor:"#ef4444"},warning:{borderColor:"#eab308",icon:l.Z,iconColor:"#eab308"}})[e],ex=async(e=0,t=!1)=>{try{0===e?(S(!0),H(0)):w(!0);let r=100*e,{data:n,error:a,count:s}=await i.O.from("movimentos_bancarios").select(`
          *,
          bancos_contas!movimentos_bancarios_banco_conta_id_fkey (
            numero_conta,
            banco_nome,
            empresas!bancos_contas_empresa_id_fkey (nome)
          )
        `,{count:"exact"}).range(r,r+100-1).order("data_movimento",{ascending:!1}).order("created_at",{ascending:!1});if(a)throw a;let l=(n||[]).map(e=>({...e,bancos_contas:e.bancos_contas?{...e.bancos_contas,empresas:Array.isArray(e.bancos_contas.empresas)?e.bancos_contas.empresas.length>0?e.bancos_contas.empresas[0]:null:e.bancos_contas.empresas}:null}));t?o(e=>[...e,...l]):o(l),J(s||0),K((s||0)>(e+1)*100),H(e)}catch(e){console.error("Erro ao carregar movimentos:",e),ed("Erro ao carregar movimentos banc\xe1rios","error")}finally{S(!1),w(!1)}},eu=async e=>{try{let{data:o,error:t}=await i.O.rpc("obter_ultima_data_fechamento",{p_banco_conta_id:e.banco_conta_id});if(t&&"PGRST116"!==t.code){console.error("Erro ao verificar fechamento:",t),ed("Erro ao verificar data de fechamento","error");return}if(o&&e.data_movimento<=o){ed(`N\xe3o \xe9 permitido lan\xe7ar movimentos em data igual ou anterior ao \xfaltimo fechamento (${new Date(o).toLocaleDateString("pt-BR")})`,"warning");return}let r={banco_conta_id:e.banco_conta_id,tipo_movimento:e.tipo_movimento,data_movimento:e.data_movimento,valor:parseFloat(e.valor),historico:e.historico||null,documento:e.documento||null,conciliado:!1};if(A){let{error:e}=await i.O.from("movimentos_bancarios").update(r).eq("id",A);if(e)throw Error(`Erro ao atualizar movimento: ${e.message}`);ed("Movimento atualizado com sucesso!","success")}else{let{error:e}=await i.O.from("movimentos_bancarios").insert([r]);if(e)throw Error(`Erro ao criar movimento: ${e.message}`);ed("Movimento criado com sucesso!","success")}eh(),ex()}catch(e){console.error("Erro ao salvar movimento:",e),ed(e.message||"Erro desconhecido ao salvar movimento","error")}},em=e=>{R(e.id);let o=f.find(o=>o.id===e.banco_conta_id);eo("empresa_id",o?.empresa_id||""),eo("banco_conta_id",e.banco_conta_id),eo("tipo_movimento",e.tipo_movimento),eo("data_movimento",e.data_movimento),eo("valor",e.valor.toString()),eo("historico",e.historico||""),eo("documento",e.documento||""),ea(e.valor.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),k(!0)},eg=async e=>{if(confirm("Tem certeza que deseja excluir este movimento?"))try{let{data:o,error:t}=await i.O.from("movimentos_bancarios").select("banco_conta_id, data_movimento").eq("id",e).single();if(t)throw t;let{data:r,error:n}=await i.O.rpc("obter_ultima_data_fechamento",{p_banco_conta_id:o.banco_conta_id});if(n&&"PGRST116"!==n.code)throw n;if(r&&o.data_movimento<=r){ed(`N\xe3o \xe9 permitido excluir movimentos em data igual ou anterior ao \xfaltimo fechamento (${new Date(r).toLocaleDateString("pt-BR")})`,"warning");return}let{error:a}=await i.O.from("movimentos_bancarios").delete().eq("id",e);if(a)throw a;ed("Movimento exclu\xeddo com sucesso!","success"),ex()}catch(e){console.error("Erro ao excluir movimento:",e),ed(e?.message||"Erro ao excluir movimento banc\xe1rio","error")}},eh=()=>{k(!1),R(null),j([]),ea(""),ee()},eb=e.filter(e=>"ENTRADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento).reduce((e,o)=>e+o.valor,0),ef=e.filter(e=>"SAIDA"===e.tipo_movimento||"TRANSFERENCIA_ENVIADA"===e.tipo_movimento).reduce((e,o)=>e+o.valor,0),ey=eb-ef,ev=e.filter(e=>{let o=f.find(o=>o.id===e.banco_conta_id),t=!D||o?.empresa_id===D,r=!I||e.banco_conta_id===I,n=!N||e.tipo_movimento===N,i=!M||e.data_movimento>=M,a=!P||e.data_movimento<=P,s=!z||e.bancos_contas?.empresas?.nome.toLowerCase().includes(z.toLowerCase())||e.bancos_contas?.banco_nome.toLowerCase().includes(z.toLowerCase())||e.bancos_contas?.numero_conta.toLowerCase().includes(z.toLowerCase())||e.historico?.toLowerCase().includes(z.toLowerCase())||e.documento?.toLowerCase().includes(z.toLowerCase());return t&&r&&n&&i&&a&&s}),ej=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),e_=e=>new Date(e+"T00:00:00").toLocaleDateString("pt-BR"),eS=e=>{switch(e){case"ENTRADA":return{bg:"#dcfce7",color:"#166534",label:"Entrada"};case"SAIDA":return{bg:"#fee2e2",color:"#991b1b",label:"Sa\xedda"};case"TRANSFERENCIA_ENVIADA":return{bg:"#fef3c7",color:"#92400e",label:"Transf. Enviada"};case"TRANSFERENCIA_RECEBIDA":return{bg:"#dbeafe",color:"#1e40af",label:"Transf. Recebida"};default:return{bg:"#f3f4f6",color:"#374151",label:e}}};return(0,r.jsxs)("div",{style:{padding:"24px",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#1f2937",marginBottom:"4px"},children:"Movimentos Banc\xe1rios"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie entradas e sa\xeddas das contas banc\xe1rias"})]}),(0,r.jsxs)("button",{onClick:()=>{R(null),j([]),ea(""),ee({empresa_id:"",banco_conta_id:"",tipo_movimento:"ENTRADA",data_movimento:"",valor:"",historico:"",documento:""}),k(!0)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[r.jsx(d.Z,{style:{width:"20px",height:"20px"}}),"Novo Movimento"]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px",marginBottom:"24px"},children:[r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"8px"},children:"Total Entradas"}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#10b981"},children:ej(eb)})]}),r.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dcfce7",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(l.Z,{style:{width:"24px",height:"24px",color:"#10b981"}})})]})}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"8px"},children:"Total Sa\xeddas"}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#ef4444"},children:ej(ef)})]}),r.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#fee2e2",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(s.Z,{style:{width:"24px",height:"24px",color:"#ef4444"}})})]})}),r.jsx("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"8px"},children:"Saldo L\xedquido"}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:ey>=0?"#1555D6":"#ef4444"},children:ej(ey)})]}),r.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:ey>=0?"#dbeafe":"#fee2e2",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(a.Z,{style:{width:"24px",height:"24px",color:ey>=0?"#1555D6":"#ef4444"}})})]})})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"16px"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:D,onChange:e=>B(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas as empresas"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria"}),(0,r.jsxs)("select",{value:I,onChange:e=>W(e.target.value),disabled:!D,style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:D?"pointer":"not-allowed",opacity:D?1:.6},children:[r.jsx("option",{value:"",children:D?"Todas as contas":"Selecione uma conta"}),f.filter(e=>!D||e.empresa_id===D).map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.banco_nome||"Banco"," - Ag: ",e.agencia," - Conta: ",e.numero_conta]},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo"}),(0,r.jsxs)("select",{value:N,onChange:e=>q(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos os tipos"}),r.jsx("option",{value:"ENTRADA",children:"Entrada"}),r.jsx("option",{value:"SAIDA",children:"Sa\xedda"}),r.jsx("option",{value:"TRANSFERENCIA_ENVIADA",children:"Transf. Enviada"}),r.jsx("option",{value:"TRANSFERENCIA_RECEBIDA",children:"Transf. Recebida"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Inicial"}),r.jsx("input",{type:"date",value:M,onChange:e=>F(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Final"}),r.jsx("input",{type:"date",value:P,onChange:e=>O(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})]}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx(c.Z,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"#9ca3af"}}),r.jsx("input",{type:"text",placeholder:"Buscar por empresa, banco, conta, hist\xf3rico ou documento...",value:z,onChange:e=>E(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})]}),r.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden"},children:_?r.jsx("div",{style:{padding:"60px",display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f4f6",borderTop:"4px solid #1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):0===ev.length?(0,r.jsxs)("div",{style:{padding:"60px",textAlign:"center",color:"#6b7280"},children:[r.jsx("p",{style:{fontSize:"16px",fontWeight:"500",marginBottom:"8px"},children:"Nenhum movimento encontrado"}),r.jsx("p",{style:{fontSize:"14px"},children:0===e.length?"Comece criando seu primeiro movimento banc\xe1rio":"Tente ajustar os filtros de busca"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Data"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Empresa / Conta"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tipo"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Valor"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Hist\xf3rico"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Documento"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"120px"},children:"A\xe7\xf5es"})]})}),r.jsx("tbody",{children:ev.map((e,o)=>{let t=eS(e.tipo_movimento);return(0,r.jsxs)("tr",{style:{borderTop:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:[r.jsx("td",{style:{padding:"16px"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(p.Z,{style:{width:"16px",height:"16px",color:"#9ca3af"}}),r.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:e_(e.data_movimento)})]})}),r.jsx("td",{style:{padding:"16px"},children:(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"2px"},children:e.bancos_contas?.empresas?.nome||"N/A"}),(0,r.jsxs)("p",{style:{fontSize:"13px",color:"#6b7280"},children:[e.bancos_contas?.banco_nome," â€¢ ",e.bancos_contas?.numero_conta]})]})}),r.jsx("td",{style:{padding:"16px"},children:r.jsx("span",{style:{display:"inline-block",padding:"4px 12px",backgroundColor:t.bg,color:t.color,borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:t.label})}),r.jsx("td",{style:{padding:"16px",textAlign:"right"},children:r.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"ENTRADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?"#10b981":"#ef4444"},children:ej(e.valor)})}),r.jsx("td",{style:{padding:"16px"},children:r.jsx("span",{style:{fontSize:"14px",color:"#374151",display:"block",maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.historico||"-"})}),r.jsx("td",{style:{padding:"16px"},children:r.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:e.documento||"-"})}),r.jsx("td",{style:{padding:"16px"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:[r.jsx("button",{onClick:()=>em(e),style:{padding:"8px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#1555D6";let o=e.currentTarget.querySelector("svg");o&&(o.style.color="white")},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#f3f4f6";let o=e.currentTarget.querySelector("svg");o&&(o.style.color="#6b7280")},children:r.jsx(x.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})}),r.jsx("button",{onClick:()=>eg(e.id),style:{padding:"8px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#ef4444";let o=e.currentTarget.querySelector("svg");o&&(o.style.color="white")},onMouseOut:e=>{e.currentTarget.style.backgroundColor="#f3f4f6";let o=e.currentTarget.querySelector("svg");o&&(o.style.color="#6b7280")},children:r.jsx(u.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})})]})})]},e.id)})})]})}),X&&r.jsx("div",{style:{borderTop:"1px solid #e5e7eb",padding:"20px",textAlign:"center"},children:r.jsx("button",{onClick:()=>{ex(V+1,!0)},disabled:C,style:{padding:"12px 24px",backgroundColor:C?"#e5e7eb":"#1555D6",color:C?"#9ca3af":"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:C?"not-allowed":"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"8px"},onMouseOver:e=>{C||(e.currentTarget.style.backgroundColor="#1044b5")},onMouseOut:e=>{C||(e.currentTarget.style.backgroundColor="#1555D6")},children:C?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #9ca3af",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Carregando..."]}):`Carregar Mais (${e.length} de ${Y})`})}),!X&&e.length>0&&(0,r.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",padding:"16px",textAlign:"center",color:"#6b7280",fontSize:"14px"},children:["Todos os ",Y," registros foram carregados"]})]})}),T&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:eh,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb"},children:r.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937"},children:A?"Editar Movimento":"Novo Movimento"})}),r.jsx("form",{onSubmit:U(eu),style:{padding:"24px"},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa *"}),(0,r.jsxs)("select",{...Q("empresa_id"),style:{width:"100%",padding:"10px 12px",border:et.empresa_id?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},children:[r.jsx("option",{value:"",children:"Selecione uma empresa"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]}),et.empresa_id&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:et.empresa_id.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria *"}),(0,r.jsxs)("select",{...Q("banco_conta_id"),disabled:!en||0===v.length,style:{width:"100%",padding:"10px 12px",border:et.banco_conta_id?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:en&&0!==v.length?"pointer":"not-allowed",backgroundColor:en&&0!==v.length?"white":"#f9fafb",color:en&&0!==v.length?"#374151":"#9ca3af"},children:[r.jsx("option",{value:"",children:en?0===v.length?"Nenhuma conta dispon\xedvel":"Selecione uma conta":"Selecione uma empresa primeiro"}),v.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.banco_nome_real||e.banco_nome||"Banco"," - Ag: ",e.agencia," - Conta: ",e.numero_conta,e.tipo_conta?` (${e.tipo_conta})`:""]},e.id))]}),et.banco_conta_id&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:et.banco_conta_id.message})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo *"}),(0,r.jsxs)("select",{...Q("tipo_movimento"),style:{width:"100%",padding:"10px 12px",border:et.tipo_movimento?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"ENTRADA",children:"Entrada"}),r.jsx("option",{value:"SAIDA",children:"Sa\xedda"})]}),et.tipo_movimento&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:et.tipo_movimento.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data *"}),r.jsx("input",{type:"date",...Q("data_movimento"),style:{width:"100%",padding:"10px 12px",border:et.data_movimento?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{et.data_movimento||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=et.data_movimento?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"}}),et.data_movimento&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:et.data_movimento.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor *"}),r.jsx("input",{type:"text",value:ei,onChange:e=>{let o=e.target.value;ea(es(o)),eo("valor",el(o))},placeholder:"0,00",style:{width:"100%",padding:"10px 12px",border:et.valor?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{et.valor||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=et.valor?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"}}),r.jsx("input",{type:"hidden",...Q("valor")}),et.valor&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:et.valor.message})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Hist\xf3rico"}),r.jsx("textarea",{...Q("historico"),rows:3,placeholder:"Descri\xe7\xe3o do movimento...",style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s",resize:"vertical",fontFamily:"inherit"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Documento"}),r.jsx("input",{...Q("documento"),placeholder:"N\xfamero do documento",style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"8px"},children:[r.jsx("button",{type:"button",onClick:eh,style:{padding:"10px 20px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#e5e7eb",onMouseOut:e=>e.currentTarget.style.backgroundColor="#f3f4f6",children:"Cancelar"}),r.jsx("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:A?"Atualizar":"Salvar"})]})]})})]})}),r.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:Z.map(e=>{let{borderColor:o,icon:t,iconColor:n}=ep(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:`4px solid ${o}`,padding:"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",minWidth:"400px",animation:"scaleIn 0.3s ease-out"},children:[r.jsx(t,{style:{width:"24px",height:"24px",flexShrink:0,color:n}}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151"},children:e.message})]},e.id)})}),r.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @keyframes scaleIn {
          from {
            transform: scale(0.8);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
      `})]})}},29163:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},67259:(e,o,t)=>{"use strict";t.r(o),t.d(o,{$$typeof:()=>a,__esModule:()=>i,default:()=>s});var r=t(68570);let n=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\movimentos\page.tsx`),{__esModule:i,$$typeof:a}=n;n.default;let s=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\movimentos\page.tsx#default`)}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),r=o.X(0,[948,550,109,93],()=>t(97843));module.exports=r})();