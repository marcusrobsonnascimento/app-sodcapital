(()=>{var e={};e.id=893,e.ids=[893],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},97843:(e,o,t)=>{"use strict";t.r(o),t.d(o,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(67259),t(1246),t(35866);var r=t(23191),i=t(88716),n=t(37922),a=t.n(n),s=t(95231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);t.d(o,l);let d=["",{children:["financeiro",{children:["movimentos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,67259)),"C:\\Projetos\\app-sodcapital\\app\\financeiro\\movimentos\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1246)),"C:\\Projetos\\app-sodcapital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Projetos\\app-sodcapital\\app\\financeiro\\movimentos\\page.tsx"],p="/financeiro/movimentos/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/financeiro/movimentos/page",pathname:"/financeiro/movimentos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87139:(e,o,t)=>{Promise.resolve().then(t.bind(t,37744))},37744:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>y});var r=t(10326),i=t(17577),n=t(25472),a=t(71821),s=t(29163),l=t(17069),d=t(83855),c=t(37358),p=t(88307),x=t(44389),m=t(98091),u=t(50949),g=t(74723),h=t(68284),f=t(770);let b=f.Ry({empresa_id:f.Z_().min(1,"Empresa \xe9 obrigat\xf3ria"),banco_conta_id:f.Z_().min(1,"Conta banc\xe1ria \xe9 obrigat\xf3ria"),tipo_movimento:f.Km(["ENTRADA","SAIDA"],{required_error:"Tipo de movimento \xe9 obrigat\xf3rio"}),data_movimento:f.Z_().min(1,"Data do movimento \xe9 obrigat\xf3ria"),valor:f.Z_().min(1,"Valor \xe9 obrigat\xf3rio"),historico:f.Z_().optional(),documento:f.Z_().optional()});function y(){let[e,o]=(0,i.useState)([]),[t,f]=(0,i.useState)([]),[y,v]=(0,i.useState)([]),[_,j]=(0,i.useState)([]),[C,S]=(0,i.useState)(!0),[A,E]=(0,i.useState)(!1),[w,R]=(0,i.useState)(!1),[T,k]=(0,i.useState)(null),[I,N]=(0,i.useState)(""),[D,z]=(0,i.useState)(""),[B,F]=(0,i.useState)(""),[W,M]=(0,i.useState)(""),[q,O]=(0,i.useState)(""),[P,Z]=(0,i.useState)(""),[L,V]=(0,i.useState)([]),[$,G]=(0,i.useState)(0),[H,K]=(0,i.useState)({show:!1,id:null}),[X,Y]=(0,i.useState)({show:!1,message:""}),[J,Q]=(0,i.useState)(0),[U,ee]=(0,i.useState)(!0),[eo,et]=(0,i.useState)(0),[er,ei]=(0,i.useState)(0),[en,ea]=(0,i.useState)(""),{register:es,handleSubmit:el,reset:ed,setValue:ec,formState:{errors:ep},watch:ex}=(0,g.cI)({resolver:(0,h.F)(b)}),em=ex("empresa_id"),[eu,eg]=(0,i.useState)(""),eh=e=>{let o=e.replace(/\D/g,"");return o?(parseFloat(o)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},ef=e=>{let o=e.replace(/\D/g,"");return o?(parseFloat(o)/100).toString():"0"},eb=(e,o)=>{G(e=>e+1);let t={id:$,message:e,type:o};V(e=>[...e,t]),setTimeout(()=>{ey($)},4e3)},ey=e=>{V(o=>o.filter(o=>o.id!==e))},ev=e=>({success:{borderColor:"#10b981",icon:a.Z,iconColor:"#10b981"},error:{borderColor:"#ef4444",icon:s.Z,iconColor:"#ef4444"},warning:{borderColor:"#eab308",icon:l.Z,iconColor:"#eab308"}})[e],e_=async(e,t,r=0,i=!1)=>{try{0===r?(S(!0),Q(0)):E(!0);let a=100*r;if(0===r&&e){let{data:o,error:t}=await n.O.from("fechamentos_bancarios").select("saldo_final, data_fechamento").eq("fechado",!0).lt("data_fechamento",e).order("data_fechamento",{ascending:!1});if(!t&&o){let e=o.reduce((e,o)=>e+Number(o.saldo_final),0);ei(e),o.length>0?ea(o[0].data_fechamento):ea("")}else ei(0),ea("")}let s=n.O.from("movimentos_bancarios").select(`
          *,
          bancos_contas!movimentos_bancarios_banco_conta_id_fkey (
            numero_conta,
            banco_nome,
            empresas!bancos_contas_empresa_id_fkey (nome)
          )
        `,{count:"exact"});e&&(s=s.gte("data_movimento",e)),t&&(s=s.lte("data_movimento",t));let{data:l,error:d,count:c}=await s.range(a,a+100-1).order("data_movimento",{ascending:!1}).order("created_at",{ascending:!1});if(d)throw d;let p=(l||[]).map(e=>({...e,bancos_contas:e.bancos_contas?{...e.bancos_contas,empresas:Array.isArray(e.bancos_contas.empresas)?e.bancos_contas.empresas.length>0?e.bancos_contas.empresas[0]:null:e.bancos_contas.empresas}:null}));i?o(e=>[...e,...p]):o(p),et(c||0),ee((c||0)>(r+1)*100),Q(r)}catch(e){console.error("Erro ao carregar movimentos:",e),eb("Erro ao carregar movimentos banc\xe1rios","error")}finally{S(!1),E(!1)}},ej=async e=>{try{let{data:o,error:t}=await n.O.from("fechamentos_bancarios").select("data_fechamento").eq("banco_conta_id",e.banco_conta_id).eq("fechado",!0).gte("data_fechamento",e.data_movimento).limit(1);if(t&&"PGRST116"!==t.code&&console.error("Erro ao verificar fechamento:",t),o&&o.length>0){let e=new Date(o[0].data_fechamento+"T00:00:00").toLocaleDateString("pt-BR");Y({show:!0,message:`N\xe3o \xe9 permitido lan\xe7ar movimentos em data igual ou anterior ao \xfaltimo fechamento (${e})!`,type:"warning"});return}let r={banco_conta_id:e.banco_conta_id,tipo_movimento:e.tipo_movimento,data_movimento:e.data_movimento,valor:parseFloat(e.valor),historico:e.historico||null,documento:e.documento||null,conciliado:!1};if(T){let{error:e}=await n.O.from("movimentos_bancarios").update(r).eq("id",T);if(e)throw Error(`Erro ao atualizar movimento: ${e.message}`);eb("Movimento atualizado com sucesso!","success")}else{let{error:e}=await n.O.from("movimentos_bancarios").insert([r]);if(e)throw Error(`Erro ao criar movimento: ${e.message}`);eb("Movimento criado com sucesso!","success")}e_(q,P),eA(),e_()}catch(e){console.error("Erro ao salvar movimento:",e),eb(e.message||"Erro desconhecido ao salvar movimento","error")}},eC=e=>{k(e.id);let o=y.find(o=>o.id===e.banco_conta_id);ec("empresa_id",o?.empresa_id||""),ec("banco_conta_id",e.banco_conta_id),ec("tipo_movimento",e.tipo_movimento),ec("data_movimento",e.data_movimento),ec("valor",e.valor.toString()),ec("historico",e.historico||""),ec("documento",e.documento||""),eg(e.valor.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),R(!0)},eS=async e=>{try{let{data:o,error:t}=await n.O.from("movimentos_bancarios").select("banco_conta_id, data_movimento").eq("id",e).single();if(t)throw t;let{data:r,error:i}=await n.O.from("fechamentos_bancarios").select("data_fechamento").eq("banco_conta_id",o.banco_conta_id).eq("fechado",!0).gte("data_fechamento",o.data_movimento).limit(1);if(i&&"PGRST116"!==i.code)throw i;if(r&&r.length>0){let e=new Date(r[0].data_fechamento+"T00:00:00").toLocaleDateString("pt-BR");Y({show:!0,message:`N\xe3o \xe9 permitido excluir movimentos em data igual ou anterior ao \xfaltimo fechamento (${e})!`,type:"warning"}),K({show:!1,id:null});return}let{error:a}=await n.O.from("movimentos_bancarios").delete().eq("id",e);e_(q,P),eb("Movimento exclu\xeddo com sucesso!","success"),K({show:!1,id:null}),e_()}catch(e){console.error("Erro ao excluir movimento:",e),eb(e?.message||"Erro ao excluir movimento banc\xe1rio","error"),K({show:!1,id:null})}},eA=()=>{R(!1),k(null),j([]),eg(""),ed()},eE=e.filter(e=>"ENTRADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento).reduce((e,o)=>e+o.valor,0),ew=e.filter(e=>"SAIDA"===e.tipo_movimento||"TRANSFERENCIA_ENVIADA"===e.tipo_movimento).reduce((e,o)=>e+o.valor,0),eR=er+eE-ew,eT=e.filter(e=>{let o=y.find(o=>o.id===e.banco_conta_id),t=!D||o?.empresa_id===D,r=!B||e.banco_conta_id===B,i=!W||e.tipo_movimento===W,n=!q||e.data_movimento>=q,a=!P||e.data_movimento<=P,s=!I||e.bancos_contas?.empresas?.nome.toLowerCase().includes(I.toLowerCase())||e.bancos_contas?.banco_nome.toLowerCase().includes(I.toLowerCase())||e.bancos_contas?.numero_conta.toLowerCase().includes(I.toLowerCase())||e.historico?.toLowerCase().includes(I.toLowerCase())||e.documento?.toLowerCase().includes(I.toLowerCase());return t&&r&&i&&n&&a&&s}),ek=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),eI=e=>new Date(e+"T00:00:00").toLocaleDateString("pt-BR"),eN=e=>{switch(e){case"ENTRADA":return{bg:"#dcfce7",color:"#166534",label:"Entrada"};case"SAIDA":return{bg:"#fee2e2",color:"#991b1b",label:"Sa\xedda"};case"TRANSFERENCIA_ENVIADA":return{bg:"#fef3c7",color:"#92400e",label:"Transf. Enviada"};case"TRANSFERENCIA_RECEBIDA":return{bg:"#dbeafe",color:"#1e40af",label:"Transf. Recebida"};default:return{bg:"#f3f4f6",color:"#374151",label:e}}};return(0,r.jsxs)("div",{style:{padding:"24px",maxWidth:"1400px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#1f2937",marginBottom:"4px"},children:"Movimentos Banc\xe1rios"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie entradas e sa\xeddas das contas banc\xe1rias"})]}),(0,r.jsxs)("button",{onClick:()=>{k(null),j([]),eg(""),ed({empresa_id:"",banco_conta_id:"",tipo_movimento:"ENTRADA",data_movimento:"",valor:"",historico:"",documento:""}),R(!0)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[r.jsx(d.Z,{style:{width:"20px",height:"20px"}}),"Novo Movimento"]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px",marginBottom:"24px"},children:[r.jsx("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"6px"},children:["Saldo Anterior ",en&&new Date(en+"T00:00:00").toLocaleDateString("pt-BR")]}),r.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:er>=0?"#6366f1":"#ef4444"},children:ek(er)})]}),r.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:er>=0?"#e0e7ff":"#fee2e2",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(c.Z,{style:{width:"20px",height:"20px",color:er>=0?"#6366f1":"#ef4444"}})})]})}),r.jsx("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"6px"},children:"Total Entradas"}),r.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#10b981"},children:ek(eE)})]}),r.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#dcfce7",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(l.Z,{style:{width:"20px",height:"20px",color:"#10b981"}})})]})}),r.jsx("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"6px"},children:"Total Sa\xeddas"}),r.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:"#ef4444"},children:ek(ew)})]}),r.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#fee2e2",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(s.Z,{style:{width:"20px",height:"20px",color:"#ef4444"}})})]})}),r.jsx("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginBottom:"6px"},children:"Saldo L\xedquido"}),r.jsx("p",{style:{fontSize:"20px",fontWeight:"700",color:eR>=0?"#1555D6":"#ef4444"},children:ek(eR)})]}),r.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:eR>=0?"#dbeafe":"#fee2e2",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(a.Z,{style:{width:"20px",height:"20px",color:eR>=0?"#1555D6":"#ef4444"}})})]})})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"16px"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:D,onChange:e=>z(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas as empresas"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria"}),(0,r.jsxs)("select",{value:B,onChange:e=>F(e.target.value),disabled:!D,style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:D?"pointer":"not-allowed",opacity:D?1:.6},children:[r.jsx("option",{value:"",children:D?"Todas as contas":"Selecione uma conta"}),y.filter(e=>!D||e.empresa_id===D).map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.banco_nome||"Banco"," - Ag: ",e.agencia," - Conta: ",e.numero_conta]},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo"}),(0,r.jsxs)("select",{value:W,onChange:e=>M(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos os tipos"}),r.jsx("option",{value:"ENTRADA",children:"Entrada"}),r.jsx("option",{value:"SAIDA",children:"Sa\xedda"}),r.jsx("option",{value:"TRANSFERENCIA_ENVIADA",children:"Transf. Enviada"}),r.jsx("option",{value:"TRANSFERENCIA_RECEBIDA",children:"Transf. Recebida"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Inicial"}),r.jsx("input",{type:"date",value:q,onChange:e=>O(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Final"}),r.jsx("input",{type:"date",value:P,onChange:e=>Z(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})]}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx(p.Z,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"#9ca3af"}}),r.jsx("input",{type:"text",placeholder:"Buscar por empresa, banco, conta, hist\xf3rico ou documento...",value:I,onChange:e=>N(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})]}),r.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden"},children:C?r.jsx("div",{style:{padding:"60px",display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f4f6",borderTop:"4px solid #1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):0===eT.length?(0,r.jsxs)("div",{style:{padding:"60px",textAlign:"center",color:"#6b7280"},children:[r.jsx("p",{style:{fontSize:"16px",fontWeight:"500",marginBottom:"8px"},children:"Nenhum movimento encontrado"}),r.jsx("p",{style:{fontSize:"14px"},children:0===e.length?"Comece criando seu primeiro movimento banc\xe1rio":"Tente ajustar os filtros de busca"})]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Data"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Empresa / Conta"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tipo"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Valor"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Hist\xf3rico"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Documento"}),r.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"120px"},children:"A\xe7\xf5es"})]})}),r.jsx("tbody",{children:eT.map((e,o)=>{let t=eN(e.tipo_movimento);return(0,r.jsxs)("tr",{style:{borderTop:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:[r.jsx("td",{style:{padding:"16px"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[r.jsx(c.Z,{style:{width:"16px",height:"16px",color:"#9ca3af"}}),r.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:eI(e.data_movimento)})]})}),r.jsx("td",{style:{padding:"16px"},children:(0,r.jsxs)("div",{children:[r.jsx("p",{style:{fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"2px"},children:e.bancos_contas?.empresas?.nome||"N/A"}),(0,r.jsxs)("p",{style:{fontSize:"13px",color:"#6b7280"},children:[e.bancos_contas?.banco_nome," â€¢ ",e.bancos_contas?.numero_conta]})]})}),r.jsx("td",{style:{padding:"16px"},children:r.jsx("span",{style:{display:"inline-block",padding:"4px 12px",backgroundColor:t.bg,color:t.color,borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:t.label})}),r.jsx("td",{style:{padding:"16px",textAlign:"right"},children:r.jsx("span",{style:{fontSize:"14px",fontWeight:"600",color:"ENTRADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?"#10b981":"#ef4444"},children:ek(e.valor)})}),r.jsx("td",{style:{padding:"16px"},children:r.jsx("span",{style:{fontSize:"14px",color:"#374151",display:"block",maxWidth:"300px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.historico||"-"})}),r.jsx("td",{style:{padding:"16px"},children:r.jsx("span",{style:{fontSize:"14px",color:"#374151"},children:e.documento||"-"})}),r.jsx("td",{style:{padding:"16px"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:[r.jsx("button",{onClick:()=>eC(e),disabled:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento,style:{padding:"8px",backgroundColor:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?"#e5e7eb":"#f3f4f6",border:"none",borderRadius:"6px",cursor:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?.5:1},onMouseOver:o=>{if("TRANSFERENCIA_ENVIADA"!==e.tipo_movimento&&"TRANSFERENCIA_RECEBIDA"!==e.tipo_movimento){o.currentTarget.style.backgroundColor="#1555D6";let e=o.currentTarget.querySelector("svg");e&&(e.style.color="white")}},onMouseOut:o=>{if("TRANSFERENCIA_ENVIADA"!==e.tipo_movimento&&"TRANSFERENCIA_RECEBIDA"!==e.tipo_movimento){o.currentTarget.style.backgroundColor="#f3f4f6";let e=o.currentTarget.querySelector("svg");e&&(e.style.color="#6b7280")}},children:r.jsx(x.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})}),r.jsx("button",{onClick:()=>K({show:!0,id:e.id}),disabled:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento,style:{padding:"8px",backgroundColor:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?"#e5e7eb":"#f3f4f6",border:"none",borderRadius:"6px",cursor:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:"TRANSFERENCIA_ENVIADA"===e.tipo_movimento||"TRANSFERENCIA_RECEBIDA"===e.tipo_movimento?.5:1},onMouseOver:o=>{if("TRANSFERENCIA_ENVIADA"!==e.tipo_movimento&&"TRANSFERENCIA_RECEBIDA"!==e.tipo_movimento){o.currentTarget.style.backgroundColor="#ef4444";let e=o.currentTarget.querySelector("svg");e&&(e.style.color="white")}},onMouseOut:o=>{if("TRANSFERENCIA_ENVIADA"!==e.tipo_movimento&&"TRANSFERENCIA_RECEBIDA"!==e.tipo_movimento){o.currentTarget.style.backgroundColor="#f3f4f6";let e=o.currentTarget.querySelector("svg");e&&(e.style.color="#6b7280")}},children:r.jsx(m.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})})]})})]},e.id)})})]})}),U&&r.jsx("div",{style:{borderTop:"1px solid #e5e7eb",padding:"20px",textAlign:"center"},children:r.jsx("button",{onClick:()=>{e_(q,P,J+1,!0)},disabled:A,style:{padding:"12px 24px",backgroundColor:A?"#e5e7eb":"#1555D6",color:A?"#9ca3af":"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:A?"not-allowed":"pointer",transition:"all 0.2s",display:"inline-flex",alignItems:"center",gap:"8px"},onMouseOver:e=>{A||(e.currentTarget.style.backgroundColor="#1044b5")},onMouseOut:e=>{A||(e.currentTarget.style.backgroundColor="#1555D6")},children:A?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #9ca3af",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Carregando..."]}):`Carregar Mais (${e.length} de ${eo})`})}),!U&&e.length>0&&(0,r.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",padding:"16px",textAlign:"center",color:"#6b7280",fontSize:"14px"},children:["Todos os ",eo," registros foram carregados"]})]})}),w&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:eA,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{padding:"24px",borderBottom:"1px solid #e5e7eb"},children:r.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937"},children:T?"Editar Movimento":"Novo Movimento"})}),r.jsx("form",{onSubmit:el(ej),style:{padding:"24px"},children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa *"}),(0,r.jsxs)("select",{...es("empresa_id"),style:{width:"100%",padding:"10px 12px",border:ep.empresa_id?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},children:[r.jsx("option",{value:"",children:"Selecione uma empresa"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]}),ep.empresa_id&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:ep.empresa_id.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria *"}),(0,r.jsxs)("select",{...es("banco_conta_id"),disabled:!em||0===_.length,style:{width:"100%",padding:"10px 12px",border:ep.banco_conta_id?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:em&&0!==_.length?"pointer":"not-allowed",backgroundColor:em&&0!==_.length?"white":"#f9fafb",color:em&&0!==_.length?"#374151":"#9ca3af"},children:[r.jsx("option",{value:"",children:em?0===_.length?"Nenhuma conta dispon\xedvel":"Selecione uma conta":"Selecione uma empresa primeiro"}),_.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.banco_nome_real||e.banco_nome||"Banco"," - Ag: ",e.agencia," - Conta: ",e.numero_conta,e.tipo_conta?` (${e.tipo_conta})`:""]},e.id))]}),ep.banco_conta_id&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:ep.banco_conta_id.message})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo *"}),(0,r.jsxs)("select",{...es("tipo_movimento"),style:{width:"100%",padding:"10px 12px",border:ep.tipo_movimento?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"ENTRADA",children:"Entrada"}),r.jsx("option",{value:"SAIDA",children:"Sa\xedda"})]}),ep.tipo_movimento&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:ep.tipo_movimento.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data *"}),r.jsx("input",{type:"date",...es("data_movimento"),style:{width:"100%",padding:"10px 12px",border:ep.data_movimento?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{ep.data_movimento||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=ep.data_movimento?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"}}),ep.data_movimento&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:ep.data_movimento.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor *"}),r.jsx("input",{type:"text",value:eu,onChange:e=>{let o=e.target.value;eg(eh(o)),ec("valor",ef(o))},placeholder:"0,00",style:{width:"100%",padding:"10px 12px",border:ep.valor?"1px solid #ef4444":"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{ep.valor||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=ep.valor?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"}}),r.jsx("input",{type:"hidden",...es("valor")}),ep.valor&&r.jsx("span",{style:{fontSize:"12px",color:"#ef4444",marginTop:"4px",display:"block"},children:ep.valor.message})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Hist\xf3rico"}),r.jsx("textarea",{...es("historico"),rows:3,placeholder:"Descri\xe7\xe3o do movimento...",style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s",resize:"vertical",fontFamily:"inherit"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Documento"}),r.jsx("input",{...es("documento"),placeholder:"N\xfamero do documento",style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"8px"},children:[r.jsx("button",{type:"button",onClick:eA,style:{padding:"10px 20px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#e5e7eb",onMouseOut:e=>e.currentTarget.style.backgroundColor="#f3f4f6",children:"Cancelar"}),r.jsx("button",{type:"submit",style:{padding:"10px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:T?"Atualizar":"Salvar"})]})]})})]})}),X.show&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1001,backdropFilter:"blur(4px)"},onClick:()=>Y({show:!1,message:""}),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"warning"===X.type?"#fef3c7":"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(u.Z,{style:{width:"28px",height:"28px",color:"warning"===X.type?"#f59e0b":"#ef4444"}})}),r.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Aten\xe7\xe3o"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",textAlign:"center",lineHeight:"1.5"},children:X.message}),r.jsx("button",{onClick:()=>Y({show:!1,message:""}),style:{width:"100%",padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]})}),H.show&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>K({show:!1,id:null}),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(u.Z,{style:{width:"28px",height:"28px",color:"#ef4444"}})}),r.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Confirmar Exclus\xe3o"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",textAlign:"center",lineHeight:"1.5"},children:"Tem certeza que deseja excluir este movimento? Esta a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{onClick:()=>K({show:!1,id:null}),style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),r.jsx("button",{onClick:()=>H.id&&eS(H.id),style:{flex:1,padding:"12px 24px",backgroundColor:"#ef4444",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseOut:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Excluir"})]})]})}),r.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:L.map(e=>{let{borderColor:o,icon:t,iconColor:i}=ev(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:`4px solid ${o}`,padding:"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",minWidth:"400px",animation:"scaleIn 0.3s ease-out"},children:[r.jsx(t,{style:{width:"24px",height:"24px",flexShrink:0,color:i}}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151"},children:e.message})]},e.id)})}),r.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @keyframes scaleIn {
          from {
            transform: scale(0.8);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
      `})]})}},29163:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},67259:(e,o,t)=>{"use strict";t.r(o),t.d(o,{$$typeof:()=>a,__esModule:()=>n,default:()=>s});var r=t(68570);let i=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\movimentos\page.tsx`),{__esModule:n,$$typeof:a}=i;i.default;let s=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\movimentos\page.tsx#default`)}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),r=o.X(0,[377,904,199,109,93],()=>t(97843));module.exports=r})();