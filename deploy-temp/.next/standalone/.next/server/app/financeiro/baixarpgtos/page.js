(()=>{var e={};e.id=948,e.ids=[948],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},14439:(e,t,o)=>{"use strict";o.r(t),o.d(t,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>p,routeModule:()=>g,tree:()=>d}),o(96728),o(1246),o(35866);var r=o(23191),n=o(88716),i=o(37922),a=o.n(i),s=o(95231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);o.d(t,l);let d=["",{children:["financeiro",{children:["baixarpgtos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,96728)),"C:\\Projetos\\app-sodcapital\\app\\financeiro\\baixarpgtos\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,1246)),"C:\\Projetos\\app-sodcapital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Projetos\\app-sodcapital\\app\\financeiro\\baixarpgtos\\page.tsx"],c="/financeiro/baixarpgtos/page",x={require:o,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/financeiro/baixarpgtos/page",pathname:"/financeiro/baixarpgtos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},23420:(e,t,o)=>{Promise.resolve().then(o.bind(o,14373))},14373:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>m});var r=o(10326),n=o(17577),i=o(25472),a=o(21405),s=o(95964),l=o(71821),d=o(66307),p=o(88307),c=o(41291),x=o(69669),g=o(94019);function m(){let[e,t]=(0,n.useState)([]),[o,m]=(0,n.useState)(new Set),[u,f]=(0,n.useState)(!0),[h,b]=(0,n.useState)(!1),[y,j]=(0,n.useState)([]),[_,v]=(0,n.useState)([]),[S,z]=(0,n.useState)(""),[C,w]=(0,n.useState)(""),[k,W]=(0,n.useState)("Saida"),[q,A]=(0,n.useState)(""),[T,R]=(0,n.useState)(""),[E,P]=(0,n.useState)(""),[B,I]=(0,n.useState)(!1),[O,Z]=(0,n.useState)(""),[$,M]=(0,n.useState)(!1),[L,N]=(0,n.useState)(""),[V,D]=(0,n.useState)([]),[F,G]=(0,n.useState)(0),H=(e,t="success")=>{G(e=>e+1),D(o=>[...o,{id:F,message:e,type:t}]),setTimeout(()=>{D(e=>e.filter(e=>e.id!==F))},5e3)},X=e=>{D(t=>t.filter(t=>t.id!==e))},U=e=>{N(e),M(!0)},Q=e=>{let t=new Date;t.setHours(0,0,0,0);let o=new Date(e);o.setHours(0,0,0,0);let r=Math.ceil((t.getTime()-o.getTime())/864e5);return r>0?r:0},J=async()=>{try{f(!0);let e=i.O.from("lancamentos").select(`
          id,
          tipo,
          empresa_id,
          valor_bruto,
          valor_liquido,
          data_vencimento,
          data_previsao_pagamento,
          documento_tipo,
          documento_numero,
          pagamento_terceiro,
          empresas!lancamentos_empresa_id_fkey(nome),
          empresa_pagadora:empresas!lancamentos_empresa_pagadora_id_fkey(nome),
          projeto:projetos!projeto_id(nome),
          contrapartes(nome)
        `).eq("status","ABERTO").order("data_vencimento",{ascending:!0});S&&(e=e.eq("empresa_id",S)),C&&(e=e.eq("contraparte_id",C)),"Todos"!==k&&(e=e.eq("tipo",k)),q&&(e=e.gte("data_vencimento",q)),T&&(e=e.lte("data_vencimento",T));let{data:o,error:r}=await e;if(r)throw r;let n=(o||[]).map(e=>({id:e.id,tipo:e.tipo,empresa_id:e.empresa_id,empresa_nome:Array.isArray(e.empresas)?e.empresas[0]?.nome:e.empresas?.nome,projeto_nome:e.projeto?.nome||null,contraparte_nome:Array.isArray(e.contrapartes)?e.contrapartes[0]?.nome:e.contrapartes?.nome,valor_bruto:e.valor_bruto,valor_liquido:e.valor_liquido,data_vencimento:e.data_vencimento,data_previsao_pagamento:e.data_previsao_pagamento,documento_tipo:e.documento_tipo,documento_numero:e.documento_numero,pagamento_terceiro:e.pagamento_terceiro||!1,empresa_pagadora_nome:Array.isArray(e.empresa_pagadora)?e.empresa_pagadora[0]?.nome:e.empresa_pagadora?.nome,dias_atraso:Q(e.data_vencimento)}));t(n)}catch(e){console.error("Erro ao carregar lan\xe7amentos pendentes:",e),H("Erro ao carregar lan\xe7amentos pendentes. Verifique sua conex\xe3o","error")}finally{f(!1)}},K=e=>{let t=new Set(o);t.has(e)?t.delete(e):t.add(e),m(t)},Y=async()=>{if(0===o.size){H("Selecione ao menos um lan\xe7amento","warning");return}if(!O){H("Informe a data de liquida\xe7\xe3o","warning");return}b(!0);try{let e=Array.from(o),{data:t,error:r}=await i.O.from("lancamentos").select(`
          id,
          tipo,
          empresa_id,
          banco_conta_id,
          contraparte_id,
          projeto_id,
          subprojeto_id,
          plano_conta_id,
          valor_liquido,
          pagamento_terceiro,
          empresa_pagadora_id,
          contrapartes(nome),
          projeto:projetos!projeto_id(nome),
          subprojeto:projetos!subprojeto_id(nome)
        `).in("id",e);if(r){console.error("Erro ao buscar lan\xe7amentos:",r),U("Erro ao buscar dados dos lan\xe7amentos. Verifique sua conex\xe3o e tente novamente");return}if(!t||0===t.length){H("Nenhum lan\xe7amento encontrado para processar.","warning");return}let n=new Set;t.forEach(e=>{e.empresa_id&&n.add(e.empresa_id),e.pagamento_terceiro&&e.empresa_pagadora_id&&n.add(e.empresa_pagadora_id)});let a=Array.from(n),s=new Map;if(a.length>0){let{data:e}=await i.O.from("empresas").select("id, nome").in("id",a);e?.forEach(e=>{s.set(e.id,e.nome)})}let l=new Set;t.forEach(e=>{e.plano_conta_id&&l.add(e.plano_conta_id)});let d=Array.from(l),p=new Map;if(d.length>0){let{data:e}=await i.O.from("plano_contas_fluxo").select("id, categoria, subcategoria").in("id",d);e?.forEach(e=>{p.set(e.id,e)})}let c=new Set;for(let e of(t?.forEach(e=>{e.banco_conta_id&&c.add(e.banco_conta_id)}),Array.from(c))){let{data:t,error:o}=await i.O.from("fechamento_bancarios").select("data_fechamento").eq("banco_conta_id",e).order("data_fechamento",{ascending:!1}).limit(1);if(o){console.error("Erro ao verificar fechamento:",o);continue}if(t&&t.length>0){let e=t[0].data_fechamento;if(O<=e){let[t,o,r]=e.split("-");U(`N\xe3o \xe9 poss\xedvel baixar lan\xe7amentos na data informada. O per\xedodo est\xe1 fechado at\xe9 ${r}/${o}/${t}`);return}}}let x=[];for(let e of t||[]){let t=p.get(e.plano_conta_id),o="Saida"===e.tipo?"Pagamento":"Recebimento",r=`${o} --> `;if(e.pagamento_terceiro&&e.empresa_id){let t=s.get(e.empresa_id);t&&(r+=`Por conta e ordem da ${t}`)}e.projeto?.nome&&(r.endsWith(" --> ")||(r+=" - "),r+=e.projeto.nome),e.subprojeto?.nome&&(r.endsWith(" --> ")||(r+=" - "),r+=e.subprojeto.nome),t?.categoria&&(r.endsWith(" --> ")||(r+=" - "),r+=t.categoria),t?.subcategoria&&(r.endsWith(" --> ")||(r+=" - "),r+=t.subcategoria);let n=Array.isArray(e.contrapartes)?e.contrapartes[0]?.nome:e.contrapartes?.nome;if(n&&(r.endsWith(" --> ")||(r+=" - "),r+=n),!e.banco_conta_id){console.warn(`Lan\xe7amento ${e.id} n\xe3o possui banco_conta_id`);continue}if(!e.valor_liquido||e.valor_liquido<=0){console.warn(`Lan\xe7amento ${e.id} possui valor inv\xe1lido`);continue}x.push({tipo_movimento:"Saida"===e.tipo?"SAIDA":"ENTRADA",lancamento_id:e.id,banco_conta_id:e.banco_conta_id,data_movimento:O,valor:e.valor_liquido,historico:r})}if(0===x.length){H("Nenhum movimento v\xe1lido para registrar. Verifique se os lan\xe7amentos possuem conta banc\xe1ria","error");return}let{error:g}=await i.O.from("movimentos_bancarios").insert(x);if(g){console.error("Erro ao inserir movimentos:",g);let e=g.message||"",t=e.replace(/(\d{4})-(\d{2})-(\d{2})/g,(e,t,o,r)=>`${r}/${o}/${t}`),o=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();g.message?.includes("column")||"42703"===g.code?U("Estrutura da tabela movimentos_bancarios est? incorreta. Verifique se todas as colunas necess?rias existem (tipo_movimento, lancamento_id, banco_conta_id, data_movimento, valor, historico)"):"23503"===g.code?U("Refer?ncia inv?lida. Verifique se o banco_conta_id est? correto"):"23505"===g.code?U("Movimento banc?rio j? existe para este lan?amento"):o.includes("ultimo fechamento")?U(t):U(`Erro ao registrar movimentos banc?rios: ${t||"Verifique os dados e tente novamente"}`);return}let u=e.map(e=>i.O.from("lancamentos").update({status:"PAGO_RECEBIDO",data_liquidacao:O}).eq("id",e)),f=(await Promise.all(u)).filter(e=>e.error);if(f.length>0){console.error("Erros ao atualizar lan\xe7amentos:",f),U(`Erro ao atualizar ${f.length} lan\xe7amento(s). Os movimentos foram registrados mas o status n\xe3o foi atualizado. Verifique as permiss\xf5es`);return}H(`${o.size} lan\xe7amento(s) baixado(s) com sucesso!`,"success"),m(new Set),I(!1),Z(""),J()}catch(e){console.error("Erro ao processar baixa:",e),U(`Falha ao processar baixa de pagamentos: ${e?.message||"Erro desconhecido"}. Por favor, tente novamente`)}finally{b(!1)}},ee=e.filter(e=>{if(!E)return!0;let t=E.toLowerCase();return e.empresa_nome?.toLowerCase().includes(t)||e.contraparte_nome?.toLowerCase().includes(t)||e.projeto_nome?.toLowerCase().includes(t)||e.documento_numero?.toLowerCase().includes(t)}),et=Array.from(o).reduce((t,o)=>{let r=e.find(e=>e.id===o);return t+(r?.valor_liquido||0)},0),eo=ee.reduce((e,t)=>e+t.valor_liquido,0),er=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),en=e=>{if(!e)return"-";let[t,o,r]=e.split("-");return`${r}/${o}/${t}`},ei=e=>0===e?{bg:"#dcfce7",text:"#166534",label:"No prazo"}:e<=7?{bg:"#fef3c7",text:"#92400e",label:`${e}d atraso`}:{bg:"#fee2e2",text:"#991b1b",label:`${e}d atraso`};return(0,r.jsxs)("div",{style:{padding:"24px",backgroundColor:"#f9fafb",minHeight:"100vh"},children:[(0,r.jsxs)("div",{style:{marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#111827",marginBottom:"8px"},children:"Baixar Pagamentos"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie e processe baixas de pagamentos e recebimentos em lote"})]}),(0,r.jsxs)("button",{onClick:J,disabled:u,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:u?"not-allowed":"pointer",opacity:u?.6:1},children:[r.jsx(a.Z,{size:18,style:{animation:u?"spin 1s linear infinite":"none"}}),"Atualizar"]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",marginBottom:"24px"},children:[(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{style:{fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"Total Pendente"}),r.jsx(s.Z,{size:20,style:{color:"#1555D6"}})]}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#111827"},children:ee.length}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"lan\xe7amentos"})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{style:{fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"Valor Total"}),r.jsx(l.Z,{size:20,style:{color:"#059669"}})]}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#111827"},children:er(eo)}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"a liquidar"})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{style:{fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"Selecionados"}),r.jsx(d.Z,{size:20,style:{color:"#0284c7"}})]}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#111827"},children:o.size}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"lan\xe7amentos"})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{style:{fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"Valor Selecionado"}),r.jsx(l.Z,{size:20,style:{color:"#7c3aed"}})]}),r.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#111827"},children:er(et)}),r.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:"para baixar"})]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"16px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, 1fr)",gap:"12px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Tipo"}),(0,r.jsxs)("select",{value:k,onChange:e=>W(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"Todos",children:"Todos"}),r.jsx("option",{value:"Saida",children:"Pagamentos"}),r.jsx("option",{value:"Entrada",children:"Recebimentos"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:S,onChange:e=>z(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),y.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Contraparte"}),(0,r.jsxs)("select",{value:C,onChange:e=>w(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),_.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Venc. In\xedcio"}),r.jsx("input",{type:"date",value:q,onChange:e=>A(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"13px",outline:"none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Venc. Fim"}),r.jsx("input",{type:"date",value:T,onChange:e=>R(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"13px",outline:"none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Buscar"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx(p.Z,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),r.jsx("input",{type:"text",placeholder:"Buscar...",value:E,onChange:e=>P(e.target.value),style:{width:"100%",padding:"8px 10px 8px 36px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"13px",outline:"none"}})]})]})]}),o.size>0&&r.jsx("div",{style:{display:"flex",justifyContent:"flex-end",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:(0,r.jsxs)("button",{onClick:()=>I(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#059669",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#047857",onMouseOut:e=>e.currentTarget.style.backgroundColor="#059669",children:[r.jsx(d.Z,{size:18}),"Baixar ",o.size," Lan\xe7amento(s)"]})})]}),r.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",border:"1px solid #e5e7eb",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:u?r.jsx("div",{style:{padding:"60px",textAlign:"center",color:"#6b7280"},children:"Carregando lan\xe7amentos pendentes..."}):0===ee.length?(0,r.jsxs)("div",{style:{padding:"60px",textAlign:"center",color:"#6b7280"},children:[r.jsx(s.Z,{size:48,style:{color:"#d1d5db",margin:"0 auto 16px"}}),r.jsx("p",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"8px"},children:"Nenhum lan\xe7amento pendente"}),r.jsx("p",{style:{fontSize:"14px"},children:"N\xe3o h\xe1 pagamentos ou recebimentos pendentes no momento"})]}):r.jsx("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"2px solid #e5e7eb"},children:[r.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"50px"},children:r.jsx("input",{type:"checkbox",checked:o.size===ee.length&&ee.length>0,onChange:()=>{o.size===ee.length?m(new Set):m(new Set(ee.map(e=>e.id)))},style:{width:"16px",height:"16px",cursor:"pointer"}})}),r.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"TIPO"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"EMPRESA"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"CONTRAPARTE"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"PROJETO"}),r.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"VENCIMENTO"}),r.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"STATUS"}),r.jsx("th",{style:{padding:"12px",textAlign:"right",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"VALOR L\xcdQUIDO"}),r.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"PGTO TERC"}),r.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"DOCUMENTO"})]})}),r.jsx("tbody",{children:ee.map(e=>{let t=ei(e.dias_atraso),n=o.has(e.id);return(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",backgroundColor:n?"#eff6ff":"white",transition:"background-color 0.2s"},onMouseOver:e=>{n||(e.currentTarget.style.backgroundColor="#f9fafb")},onMouseOut:e=>{n||(e.currentTarget.style.backgroundColor="white")},children:[r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:r.jsx("input",{type:"checkbox",checked:n,onChange:()=>K(e.id),style:{width:"16px",height:"16px",cursor:"pointer"}})}),r.jsx("td",{style:{padding:"12px"},children:r.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",backgroundColor:"Entrada"===e.tipo?"#d1fae5":"#fee2e2",color:"Entrada"===e.tipo?"#065f46":"#991b1b"},children:"Entrada"===e.tipo?"Recebimento":"Pagamento"})}),r.jsx("td",{style:{padding:"12px",fontSize:"13px",color:"#1f2937",fontWeight:"500"},children:e.empresa_nome}),r.jsx("td",{style:{padding:"12px",fontSize:"13px",color:"#4b5563"},children:e.contraparte_nome}),r.jsx("td",{style:{padding:"12px",fontSize:"13px",color:"#6b7280"},children:e.projeto_nome||"-"}),r.jsx("td",{style:{padding:"12px",textAlign:"center",fontSize:"13px",color:"#374151",fontWeight:"500"},children:en(e.data_vencimento)}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:r.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",backgroundColor:t.bg,color:t.text},children:t.label})}),r.jsx("td",{style:{padding:"12px",textAlign:"right",fontSize:"14px",color:"#111827",fontWeight:"600"},children:er(e.valor_liquido)}),r.jsx("td",{style:{padding:"12px",textAlign:"center"},children:e.pagamento_terceiro?r.jsx("div",{style:{position:"relative",display:"inline-block"},children:r.jsx("span",{title:`Pago por: ${e.empresa_pagadora_nome||"N/A"}`,style:{display:"inline-block",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",backgroundColor:"#dbeafe",color:"#1e40af",cursor:"help"},children:"SIM"})}):r.jsx("span",{style:{fontSize:"11px",color:"#9ca3af",fontWeight:"500"},children:"N\xc3O"})}),r.jsx("td",{style:{padding:"12px",fontSize:"13px",color:"#6b7280"},children:e.documento_numero?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"2px"},children:e.documento_tipo||"Doc"}),e.documento_numero]}):"-"})]},e.id)})})]})})}),B&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>I(!1),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"24px",width:"90%",maxWidth:"500px",margin:"16px"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[r.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#dcfce7",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(d.Z,{size:24,style:{color:"#059669"}})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{style:{fontSize:"18px",fontWeight:"700",color:"#111827",marginBottom:"4px"},children:"Confirmar Baixa de Pagamentos"}),(0,r.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280"},children:[o.size," lan\xe7amento(s) selecionado(s)"]})]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"#f9fafb",padding:"16px",borderRadius:"8px",marginBottom:"20px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[r.jsx("span",{style:{fontSize:"13px",color:"#6b7280"},children:"Quantidade:"}),(0,r.jsxs)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#111827"},children:[o.size," lan\xe7amento(s)"]})]}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[r.jsx("span",{style:{fontSize:"13px",color:"#6b7280"},children:"Valor Total:"}),r.jsx("span",{style:{fontSize:"16px",fontWeight:"700",color:"#059669"},children:er(et)})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:"Data de Liquida\xe7\xe3o *"}),r.jsx("input",{type:"date",value:O,onChange:e=>Z(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[r.jsx("button",{onClick:()=>I(!1),disabled:h,style:{padding:"10px 20px",backgroundColor:"#f3f4f6",color:"#374151",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:h?"not-allowed":"pointer",opacity:h?.6:1},children:"Cancelar"}),r.jsx("button",{onClick:Y,disabled:h||!O,style:{padding:"10px 20px",backgroundColor:h||!O?"#9ca3af":"#059669",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:h||!O?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:h?(0,r.jsxs)(r.Fragment,{children:[r.jsx(a.Z,{size:16,style:{animation:"spin 1s linear infinite"}}),"Processando..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(d.Z,{size:16}),"Confirmar Baixa"]})})]})]})}),$&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>M(!1),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",padding:"0",width:"90%",maxWidth:"540px",margin:"16px",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{height:"4px",backgroundColor:"#f59e0b",width:"100%"}}),(0,r.jsxs)("div",{style:{padding:"24px"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px",marginBottom:"24px"},children:[r.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#fef3c7",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.jsx(c.Z,{size:28,style:{color:"#f59e0b"}})}),r.jsx("div",{style:{flex:1},children:r.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6",color:"#374151",margin:0},children:L})})]}),r.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:r.jsx("button",{onClick:()=>M(!1),style:{padding:"10px 24px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"OK"})})]})]})}),r.jsx("div",{style:{position:"fixed",top:"24px",right:"24px",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:V.map(e=>{let t={success:{bg:"#dcfce7",border:"#86efac",icon:d.Z,iconColor:"#059669"},warning:{bg:"#fef3c7",border:"#fcd34d",icon:c.Z,iconColor:"#d97706"},error:{bg:"#fee2e2",border:"#fca5a5",icon:x.Z,iconColor:"#dc2626"}}[e.type],o=t.icon;return(0,r.jsxs)("div",{style:{backgroundColor:t.bg,border:`1px solid ${t.border}`,borderRadius:"8px",padding:"12px 16px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",display:"flex",alignItems:"center",gap:"12px",minWidth:"320px",maxWidth:"480px",pointerEvents:"auto",animation:"slideIn 0.3s ease-out"},children:[r.jsx(o,{size:20,style:{color:t.iconColor,flexShrink:0}}),r.jsx("p",{style:{fontSize:"14px",color:"#1f2937",fontWeight:"500",flex:1},children:e.message}),r.jsx("button",{onClick:()=>X(e.id),style:{background:"none",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(g.Z,{size:16,style:{color:"#6b7280"}})})]},e.id)})}),r.jsx("style",{children:`
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @keyframes spin {
          from {
            transform: rotate(0deg);
          }
          to {
            transform: rotate(360deg);
          }
        }
      `})]})}},41291:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});let r=(0,o(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},66307:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});let r=(0,o(62881).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},69669:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});let r=(0,o(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},21405:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});let r=(0,o(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},88307:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});let r=(0,o(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},94019:(e,t,o)=>{"use strict";o.d(t,{Z:()=>r});let r=(0,o(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},96728:(e,t,o)=>{"use strict";o.r(t),o.d(t,{$$typeof:()=>a,__esModule:()=>i,default:()=>s});var r=o(68570);let n=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\baixarpgtos\page.tsx`),{__esModule:i,$$typeof:a}=n;n.default;let s=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\baixarpgtos\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[377,904,93],()=>o(14439));module.exports=r})();