(()=>{var e={};e.id=973,e.ids=[973],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},10271:(e,t,o)=>{"use strict";o.r(t),o.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>u,tree:()=>c}),o(67208),o(1246),o(35866);var a=o(23191),i=o(88716),r=o(37922),n=o.n(r),s=o(95231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);o.d(t,l);let c=["",{children:["financeiro",{children:["conciliacao",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,67208)),"C:\\Projetos\\app-sodcapital\\app\\financeiro\\conciliacao\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,1246)),"C:\\Projetos\\app-sodcapital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Projetos\\app-sodcapital\\app\\financeiro\\conciliacao\\page.tsx"],p="/financeiro/conciliacao/page",x={require:o,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/financeiro/conciliacao/page",pathname:"/financeiro/conciliacao",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},83453:(e,t,o)=>{Promise.resolve().then(o.bind(o,9909))},9909:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>_});var a=o(10326),i=o(17577),r=o(25472),n=o(66307),s=o(48998),l=o(62881);let c=(0,l.Z)("ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);var d=o(41291),p=o(21405);let x=(0,l.Z)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var u=o(31540),h=o(88307);let f=(0,l.Z)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);var g=o(94019);let m=(0,l.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var y=o(69669);let b=e=>{try{let t;let o=e.match(/<BANKID>(\d+)/),a=e.match(/<ACCTID>(\d+)/),i=e.match(/<DTSTART>(\d{8})/),r=e.match(/<DTEND>(\d{8})/),n=e.match(/<BALAMT>([\d.-]+)/),s=o?o[1]:"",l=a?a[1]:"",c=i?j(i[1]):"",d=r?j(r[1]):"",p=n?parseFloat(n[1]):0,x=[],u=/<STMTTRN>([\s\S]*?)<\/STMTTRN>/g;for(;null!==(t=u.exec(e));){let e=t[1],o=e.match(/<TRNTYPE>(\w+)/),a=e.match(/<DTPOSTED>(\d{8})/),i=e.match(/<TRNAMT>([\d.-]+)/),r=e.match(/<FITID>(\S+)/),n=e.match(/<CHECKNUM>(\S+)/),s=e.match(/<MEMO>([^\n<]+)/);o&&a&&i&&r&&x.push({fitid:r[1],data:j(a[1]),tipo:o[1],valor:parseFloat(i[1]),memo:s?s[1].trim():"",checknum:n?n[1]:""})}return{banco:s,conta:l,dataInicio:c,dataFim:d,saldoFinal:p,transacoes:x}}catch(e){return console.error("Erro ao parsear OFX:",e),null}},j=e=>`${e.substring(0,4)}-${e.substring(4,6)}-${e.substring(6,8)}`,v=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),C=e=>{if(!e)return"-";let[t,o,a]=e.split("-");return`${a}/${o}/${t}`},S=e=>({"001":"Banco do Brasil","033":"Santander",104:"Caixa Econ\xf4mica",237:"Bradesco",341:"Ita\xfa",356:"Banco Real",389:"Banco Mercantil",399:"HSBC",422:"Safra",453:"Banco Rural",633:"Rendimento",652:"Ita\xfa Unibanco",745:"Citibank","0341":"Ita\xfa"})[e]||`Banco ${e}`;function _(){let[e,t]=(0,i.useState)([]),[o,l]=(0,i.useState)([]),[j,_]=(0,i.useState)([]),[k,w]=(0,i.useState)([]),[z,I]=(0,i.useState)(""),[E,O]=(0,i.useState)(""),[q,D]=(0,i.useState)(null),[A,R]=(0,i.useState)(null),[T,B]=(0,i.useState)(""),[N,P]=(0,i.useState)(!1),[W,Z]=(0,i.useState)(!1),[M,F]=(0,i.useState)(!1),[L,G]=(0,i.useState)(!1),[$,V]=(0,i.useState)(""),[H,X]=(0,i.useState)(""),[K,U]=(0,i.useState)(!1),[Y,J]=(0,i.useState)(null),[Q,ee]=(0,i.useState)([]),[et,eo]=(0,i.useState)({show:!1,message:"",type:"success"}),[ea,ei]=(0,i.useState)(!1),[er,en]=(0,i.useState)(""),es=async e=>{try{Z(!0);let{data:t,error:o}=await r.O.from("extratos_bancarios").select("*").eq("banco_conta_id",e).order("data_lancamento",{ascending:!1});if(o)throw o;let a=(t||[]).map(e=>e.id),i=new Map;if(a.length>0){let{data:e}=await r.O.from("conciliacoes").select("*").in("extrato_id",a);e?.forEach(e=>{i.set(e.extrato_id,e)})}let n=(t||[]).map(e=>({...e,conciliacao:i.get(e.id)||null}));_(n)}catch(e){console.error("Erro ao carregar extratos:",e)}finally{Z(!1)}},el=async(e,t,o)=>{try{let a=r.O.from("lancamentos").select(`
          id,
          tipo,
          valor_liquido,
          data_vencimento,
          data_liquidacao,
          status,
          contrapartes(nome)
        `).eq("banco_conta_id",e).order("data_vencimento",{ascending:!1});t&&(a=a.gte("data_vencimento",t)),o&&(a=a.lte("data_vencimento",o));let{data:i,error:n}=await a;if(n)throw n;let s=(i||[]).map(e=>({id:e.id,tipo:e.tipo,valor_liquido:e.valor_liquido,data_vencimento:e.data_vencimento,data_liquidacao:e.data_liquidacao,status:e.status,contraparte_nome:Array.isArray(e.contrapartes)?e.contrapartes[0]?.nome:e.contrapartes?.nome||""}));w(s)}catch(e){console.error("Erro ao carregar lan\xe7amentos:",e)}},ec=(e,t="success")=>{eo({show:!0,message:e,type:t}),setTimeout(()=>eo({show:!1,message:"",type:"success"}),4e3)},ed=e=>{en(e),ei(!0)},ep=async e=>{e.preventDefault(),P(!1);let t=e.dataTransfer.files;t.length>0&&await eu(t[0])},ex=async e=>{let t=e.target.files;t&&t.length>0&&await eu(t[0])},eu=async e=>{if(!e.name.toLowerCase().endsWith(".ofx")){ed("Por favor, selecione um arquivo .OFX v\xe1lido");return}if(!E){ed("Selecione uma conta banc\xe1ria antes de importar o arquivo");return}F(!0),B(e.name);try{let t=await e.text(),o=b(t);if(!o){ed("N\xe3o foi poss\xedvel ler o arquivo OFX. Verifique se o formato est\xe1 correto.");return}if(0===o.transacoes.length){ed("Nenhuma transa\xe7\xe3o encontrada no arquivo OFX.");return}R(o),await el(E,o.dataInicio,o.dataFim),ec(`Arquivo processado com sucesso! ${o.transacoes.length} transa\xe7\xf5es encontradas.`,"success")}catch(e){console.error("Erro ao processar arquivo:",e),ed("Erro ao processar o arquivo. Tente novamente.")}finally{F(!1)}},eh=async()=>{if(A&&E&&q){G(!0);try{let e=q.org_id;for(let t of A.transacoes.map(t=>({org_id:e,banco_conta_id:E,data_lancamento:t.data,historico:t.memo,valor:t.valor,documento_ref:t.fitid}))){let{data:e}=await r.O.from("extratos_bancarios").select("id").eq("banco_conta_id",t.banco_conta_id).eq("documento_ref",t.documento_ref).single();if(!e){let{error:e}=await r.O.from("extratos_bancarios").insert(t);e&&console.error("Erro ao inserir extrato:",e)}}await ef(),await es(E),ec("Transa\xe7\xf5es importadas e concilia\xe7\xe3o autom\xe1tica realizada!","success"),R(null),B("")}catch(e){console.error("Erro ao importar:",e),ed(`Erro ao importar transa\xe7\xf5es: ${e.message}`)}finally{G(!1)}}},ef=async()=>{if(E&&q)try{let{data:e}=await r.O.from("extratos_bancarios").select("*").eq("banco_conta_id",E);if(!e||0===e.length)return;let{data:t}=await r.O.from("conciliacoes").select("extrato_id").eq("banco_conta_id",E),o=new Set((t||[]).map(e=>e.extrato_id)),a=e.filter(e=>!o.has(e.id));if(0===a.length)return;let{data:i}=await r.O.from("lancamentos").select("id, tipo, valor_liquido, data_liquidacao, data_vencimento").eq("banco_conta_id",E).eq("status","PAGO_RECEBIDO");if(!i)return;for(let e of a){let t=Math.abs(e.valor),o=e.valor>0,a=i.find(a=>{let i=Math.abs(a.valor_liquido),r=o&&"Entrada"===a.tipo||!o&&"Saida"===a.tipo,n=a.data_liquidacao===e.data_lancamento||a.data_vencimento===e.data_lancamento;return .01>Math.abs(i-t)&&r&&n});if(a){await r.O.from("conciliacoes").insert({org_id:q.org_id,banco_conta_id:E,extrato_id:e.id,lancamento_id:a.id,status:"CONCILIADO"});continue}let n=new Date(e.data_lancamento),s=i.find(e=>{let a=Math.abs(e.valor_liquido),i=o&&"Entrada"===e.tipo||!o&&"Saida"===e.tipo,r=new Date(e.data_liquidacao||e.data_vencimento),s=Math.abs((n.getTime()-r.getTime())/864e5);return .01>Math.abs(a-t)&&i&&s<=3});s&&await r.O.from("conciliacoes").insert({org_id:q.org_id,banco_conta_id:E,extrato_id:e.id,lancamento_id:s.id,status:"CONCILIADO"})}}catch(e){console.error("Erro na concilia\xe7\xe3o autom\xe1tica:",e)}},eg=e=>{J(e);let t=e.valor>0?"Entrada":"Saida";ee(k.filter(e=>e.tipo===t)),U(!0)},em=async e=>{if(Y&&q)try{let{data:t}=await r.O.from("conciliacoes").select("id").eq("extrato_id",Y.id).single();if(t){let{error:o}=await r.O.from("conciliacoes").update({lancamento_id:e.id,status:"CONCILIADO"}).eq("id",t.id);if(o)throw o}else{let{error:t}=await r.O.from("conciliacoes").insert({org_id:q.org_id,banco_conta_id:E,extrato_id:Y.id,lancamento_id:e.id,status:"CONCILIADO"});if(t)throw t}ec("Transa\xe7\xe3o vinculada com sucesso!","success"),U(!1),await es(E)}catch(e){ed(`Erro ao vincular: ${e.message}`)}},ey=async e=>{if(q)try{let{data:t}=await r.O.from("conciliacoes").select("id").eq("extrato_id",e.id).single();if(t){let{error:e}=await r.O.from("conciliacoes").update({status:"IGNORADO",lancamento_id:null}).eq("id",t.id);if(e)throw e}else{let{error:t}=await r.O.from("conciliacoes").insert({org_id:q.org_id,banco_conta_id:E,extrato_id:e.id,lancamento_id:null,status:"IGNORADO"});if(t)throw t}ec("Transa\xe7\xe3o marcada como ignorada","success"),await es(E)}catch(e){ed(`Erro ao ignorar: ${e.message}`)}},eb=async e=>{if(e.conciliacao)try{let{error:t}=await r.O.from("conciliacoes").delete().eq("id",e.conciliacao.id);if(t)throw t;ec("Concilia\xe7\xe3o desfeita","success"),await es(E)}catch(e){ed(`Erro ao desfazer: ${e.message}`)}},ej=j.filter(e=>{let t=e.conciliacao?.status||"PENDENTE";if($&&t!==$)return!1;if(H){let t=H.toLowerCase();return e.historico?.toLowerCase().includes(t)||e.documento_ref?.toLowerCase().includes(t)}return!0}),ev={total:j.length,conciliados:j.filter(e=>e.conciliacao?.status==="CONCILIADO").length,pendentes:j.filter(e=>!e.conciliacao||"PENDENTE"===e.conciliacao.status).length,ignorados:j.filter(e=>e.conciliacao?.status==="IGNORADO").length,divergentes:j.filter(e=>e.conciliacao?.status==="DIVERGENTE").length},eC=e=>{switch(e.conciliacao?.status||"PENDENTE"){case"CONCILIADO":return{bg:"#dcfce7",color:"#166534",icon:n.Z,label:"Conciliado"};case"PENDENTE":return{bg:"#fef3c7",color:"#92400e",icon:s.Z,label:"Pendente"};case"IGNORADO":return{bg:"#f3f4f6",color:"#6b7280",icon:c,label:"Ignorado"};case"DIVERGENTE":return{bg:"#fee2e2",color:"#991b1b",icon:d.Z,label:"Divergente"};default:return{bg:"#f3f4f6",color:"#374151",icon:s.Z,label:"Pendente"}}};return(0,a.jsxs)("div",{style:{padding:"24px",backgroundColor:"#f8fafc",minHeight:"100vh"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"#1e293b",marginBottom:"4px"},children:"Concilia\xe7\xe3o Banc\xe1ria"}),a.jsx("p",{style:{fontSize:"14px",color:"#64748b"},children:"Importe arquivos OFX e concilie com os lan\xe7amentos do sistema"})]}),j.length>0&&(0,a.jsxs)("button",{onClick:()=>es(E),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 16px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:[a.jsx(p.Z,{size:16}),"Atualizar"]})]}),a.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[(0,a.jsxs)("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Empresa *"}),(0,a.jsxs)("select",{value:z,onChange:e=>I(e.target.value),style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",cursor:"pointer"},children:[a.jsx("option",{value:"",children:"Selecione uma empresa"}),e.map(e=>a.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria *"}),(0,a.jsxs)("select",{value:E,onChange:e=>O(e.target.value),disabled:!z,style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",cursor:z?"pointer":"not-allowed",backgroundColor:z?"white":"#f9fafb"},children:[a.jsx("option",{value:"",children:"Selecione uma conta"}),o.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.banco_nome," - Ag: ",e.agencia," - CC: ",e.numero_conta]},e.id))]})]})]})}),E&&(0,a.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a.jsx("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#1e293b",marginBottom:"16px"},children:"Importar Arquivo OFX"}),(0,a.jsxs)("div",{onDragOver:e=>{e.preventDefault(),P(!0)},onDragLeave:e=>{e.preventDefault(),P(!1)},onDrop:ep,style:{border:`2px dashed ${N?"#1555D6":"#d1d5db"}`,borderRadius:"12px",padding:"40px",textAlign:"center",backgroundColor:N?"#eff6ff":"#f9fafb",transition:"all 0.2s",cursor:"pointer"},onClick:()=>document.getElementById("fileInput")?.click(),children:[a.jsx("input",{id:"fileInput",type:"file",accept:".ofx",onChange:ex,style:{display:"none"}}),M?(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[a.jsx(p.Z,{size:40,style:{color:"#1555D6",animation:"spin 1s linear infinite"}}),a.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Processando arquivo..."})]}):A?(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[a.jsx(n.Z,{size:40,style:{color:"#10b981"}}),a.jsx("p",{style:{fontSize:"14px",fontWeight:"600",color:"#1e293b"},children:T}),(0,a.jsxs)("p",{style:{fontSize:"13px",color:"#6b7280"},children:[A.transacoes.length," transa\xe7\xf5es • ",S(A.banco)," • Conta: ",A.conta]}),(0,a.jsxs)("p",{style:{fontSize:"13px",color:"#6b7280"},children:["Per\xedodo: ",C(A.dataInicio)," a ",C(A.dataFim)," • Saldo: ",v(A.saldoFinal)]})]}):(0,a.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"12px"},children:[a.jsx(x,{size:40,style:{color:"#9ca3af"}}),(0,a.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280"},children:["Arraste o arquivo OFX aqui ou ",a.jsx("span",{style:{color:"#1555D6",fontWeight:"600"},children:"clique para selecionar"})]}),a.jsx("p",{style:{fontSize:"12px",color:"#9ca3af"},children:"Formatos aceitos: .OFX (Open Financial Exchange)"})]})]}),A&&(0,a.jsxs)("div",{style:{marginTop:"16px",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[a.jsx("button",{onClick:()=>{R(null),B("")},style:{padding:"10px 20px",backgroundColor:"white",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Cancelar"}),a.jsx("button",{onClick:eh,disabled:L,style:{padding:"10px 20px",backgroundColor:L?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:L?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"8px"},children:L?(0,a.jsxs)(a.Fragment,{children:[a.jsx(p.Z,{size:16,style:{animation:"spin 1s linear infinite"}}),"Importando..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(u.Z,{size:16}),"Importar e Conciliar"]})})]})]}),j.length>0&&(0,a.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"16px",marginBottom:"24px"},children:[(0,a.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Total Importado"}),a.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#1e293b"},children:ev.total})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#dcfce7",padding:"16px",borderRadius:"12px"},children:[a.jsx("p",{style:{fontSize:"12px",color:"#166534",marginBottom:"4px"},children:"Conciliados"}),a.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#166534"},children:ev.conciliados})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#fef3c7",padding:"16px",borderRadius:"12px"},children:[a.jsx("p",{style:{fontSize:"12px",color:"#92400e",marginBottom:"4px"},children:"Pendentes"}),a.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#92400e"},children:ev.pendentes})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#f3f4f6",padding:"16px",borderRadius:"12px"},children:[a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Ignorados"}),a.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#6b7280"},children:ev.ignorados})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#fee2e2",padding:"16px",borderRadius:"12px"},children:[a.jsx("p",{style:{fontSize:"12px",color:"#991b1b",marginBottom:"4px"},children:"Divergentes"}),a.jsx("p",{style:{fontSize:"24px",fontWeight:"700",color:"#991b1b"},children:ev.divergentes})]})]}),j.length>0&&(0,a.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"16px",marginBottom:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"16px",alignItems:"center"},children:[(0,a.jsxs)("div",{style:{position:"relative",flex:1},children:[a.jsx(h.Z,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),a.jsx("input",{type:"text",placeholder:"Buscar por descri\xe7\xe3o...",value:H,onChange:e=>X(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px"}})]}),(0,a.jsxs)("select",{value:$,onChange:e=>V(e.target.value),style:{padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",cursor:"pointer",minWidth:"160px"},children:[a.jsx("option",{value:"",children:"Todos os Status"}),a.jsx("option",{value:"CONCILIADO",children:"Conciliados"}),a.jsx("option",{value:"PENDENTE",children:"Pendentes"}),a.jsx("option",{value:"IGNORADO",children:"Ignorados"}),a.jsx("option",{value:"DIVERGENTE",children:"Divergentes"})]})]}),j.length>0&&(0,a.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Data"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Descri\xe7\xe3o"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Tipo"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Valor"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Status"}),a.jsx("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"A\xe7\xf5es"})]})}),a.jsx("tbody",{children:ej.map(e=>{let t=eC(e),o=t.icon,i=e.valor>0,r=e.conciliacao?.status||"PENDENTE";return(0,a.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[a.jsx("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#374151"},children:C(e.data_lancamento)}),a.jsx("td",{style:{padding:"12px 16px",fontSize:"14px",color:"#374151",maxWidth:"300px"},children:e.historico||"-"}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"center"},children:a.jsx("span",{style:{display:"inline-block",padding:"4px 8px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",backgroundColor:i?"#dcfce7":"#fee2e2",color:i?"#166534":"#991b1b"},children:i?"Cr\xe9dito":"D\xe9bito"})}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"right",fontSize:"14px",fontWeight:"600",color:i?"#166534":"#991b1b",whiteSpace:"nowrap"},children:v(Math.abs(e.valor))}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"center"},children:(0,a.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 10px",borderRadius:"6px",fontSize:"11px",fontWeight:"600",backgroundColor:t.bg,color:t.color},children:[a.jsx(o,{size:12}),t.label]})}),a.jsx("td",{style:{padding:"12px 16px",textAlign:"center"},children:(0,a.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"center"},children:["PENDENTE"===r&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>eg(e),title:"Vincular manualmente",style:{padding:"6px 10px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(f,{size:12}),"Vincular"]}),(0,a.jsxs)("button",{onClick:()=>ey(e),title:"Ignorar transa\xe7\xe3o",style:{padding:"6px 10px",backgroundColor:"#f3f4f6",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(c,{size:12}),"Ignorar"]})]}),("CONCILIADO"===r||"IGNORADO"===r)&&(0,a.jsxs)("button",{onClick:()=>eb(e),title:"Desfazer",style:{padding:"6px 10px",backgroundColor:"#fef3c7",color:"#92400e",border:"1px solid #fcd34d",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(p.Z,{size:12}),"Desfazer"]})]})})]},e.id)})})]}),0===ej.length&&a.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"Nenhuma transa\xe7\xe3o encontrada com os filtros aplicados"})]}),K&&Y&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>U(!1),children:(0,a.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"800px",maxHeight:"80vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation(),children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[a.jsx("h2",{style:{fontSize:"18px",fontWeight:"700",color:"#1e293b"},children:"Vincular Transa\xe7\xe3o"}),a.jsx("button",{onClick:()=>U(!1),style:{background:"none",border:"none",cursor:"pointer"},children:a.jsx(g.Z,{size:24,style:{color:"#6b7280"}})})]}),(0,a.jsxs)("div",{style:{backgroundColor:"#f8fafc",padding:"16px",borderRadius:"8px",marginBottom:"20px"},children:[a.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Transa\xe7\xe3o do Extrato Banc\xe1rio"}),a.jsx("p",{style:{fontSize:"14px",fontWeight:"600",color:"#1e293b",marginBottom:"4px"},children:Y.historico||"Sem descri\xe7\xe3o"}),(0,a.jsxs)("div",{style:{display:"flex",gap:"24px"},children:[(0,a.jsxs)("p",{style:{fontSize:"13px",color:"#6b7280"},children:["Data: ",a.jsx("strong",{children:C(Y.data_lancamento)})]}),(0,a.jsxs)("p",{style:{fontSize:"13px",color:Y.valor>0?"#166534":"#991b1b"},children:["Valor: ",a.jsx("strong",{children:v(Math.abs(Y.valor))})]})]})]}),(0,a.jsxs)("div",{style:{flex:1,overflow:"auto"},children:[a.jsx("p",{style:{fontSize:"13px",color:"#6b7280",marginBottom:"12px"},children:"Selecione o lan\xe7amento do sistema para vincular:"}),0===Q.length?a.jsx("div",{style:{padding:"40px",textAlign:"center",color:"#6b7280"},children:"Nenhum lan\xe7amento compat\xedvel encontrado"}):(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[a.jsx("thead",{children:(0,a.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[a.jsx("th",{style:{padding:"10px",textAlign:"left",fontSize:"11px",color:"#6b7280"},children:"Data Venc."}),a.jsx("th",{style:{padding:"10px",textAlign:"left",fontSize:"11px",color:"#6b7280"},children:"Contraparte"}),a.jsx("th",{style:{padding:"10px",textAlign:"right",fontSize:"11px",color:"#6b7280"},children:"Valor"}),a.jsx("th",{style:{padding:"10px",textAlign:"center",fontSize:"11px",color:"#6b7280"},children:"Status"}),a.jsx("th",{style:{padding:"10px",textAlign:"center",fontSize:"11px",color:"#6b7280"},children:"A\xe7\xe3o"})]})}),a.jsx("tbody",{children:Q.map(e=>(0,a.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6"},children:[a.jsx("td",{style:{padding:"10px",fontSize:"13px"},children:C(e.data_vencimento)}),a.jsx("td",{style:{padding:"10px",fontSize:"13px",maxWidth:"200px"},children:e.contraparte_nome}),a.jsx("td",{style:{padding:"10px",fontSize:"13px",textAlign:"right",fontWeight:"600"},children:v(e.valor_liquido)}),a.jsx("td",{style:{padding:"10px",textAlign:"center"},children:a.jsx("span",{style:{padding:"2px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"600",backgroundColor:"PAGO_RECEBIDO"===e.status?"#dcfce7":"#fef3c7",color:"PAGO_RECEBIDO"===e.status?"#166534":"#92400e"},children:"PAGO_RECEBIDO"===e.status?"Liquidado":"Aberto"})}),a.jsx("td",{style:{padding:"10px",textAlign:"center"},children:(0,a.jsxs)("button",{onClick:()=>em(e),style:{padding:"6px 12px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[a.jsx(m,{size:14}),"Vincular"]})})]},e.id))})]})]})]})}),ea&&a.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>ei(!1),children:(0,a.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",overflow:"hidden",width:"90%",maxWidth:"500px"},onClick:e=>e.stopPropagation(),children:[a.jsx("div",{style:{height:"4px",backgroundColor:"#f59e0b"}}),(0,a.jsxs)("div",{style:{padding:"24px"},children:[(0,a.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"16px",marginBottom:"24px"},children:[a.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"#fef3c7",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:a.jsx(d.Z,{size:28,style:{color:"#f59e0b"}})}),a.jsx("p",{style:{fontSize:"16px",lineHeight:"1.6",color:"#374151"},children:er})]}),a.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:a.jsx("button",{onClick:()=>ei(!1),style:{padding:"10px 24px",backgroundColor:"#f59e0b",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"OK"})})]})]})}),et.show&&(0,a.jsxs)("div",{style:{position:"fixed",bottom:"24px",right:"24px",padding:"16px 24px",borderRadius:"8px",backgroundColor:"success"===et.type?"#dcfce7":"error"===et.type?"#fee2e2":"#fef3c7",color:"success"===et.type?"#166534":"error"===et.type?"#991b1b":"#92400e",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",display:"flex",alignItems:"center",gap:"12px",zIndex:9999},children:["success"===et.type?a.jsx(n.Z,{size:20}):"error"===et.type?a.jsx(y.Z,{size:20}):a.jsx(d.Z,{size:20}),a.jsx("span",{style:{fontWeight:"500"},children:et.message})]}),a.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
          }
        `}})]})}},41291:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},66307:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},69669:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},48998:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},31540:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},21405:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},88307:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},94019:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});let a=(0,o(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},67208:(e,t,o)=>{"use strict";o.r(t),o.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>s});var a=o(68570);let i=(0,a.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\conciliacao\page.tsx`),{__esModule:r,$$typeof:n}=i;i.default;let s=(0,a.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\conciliacao\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),a=t.X(0,[377,904,93],()=>o(10271));module.exports=a})();