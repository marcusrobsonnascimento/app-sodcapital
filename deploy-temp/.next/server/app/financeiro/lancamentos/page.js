(()=>{var e={};e.id=114,e.ids=[114],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},90504:(e,o,t)=>{"use strict";t.r(o),t.d(o,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>d}),t(26609),t(1246),t(35866);var r=t(23191),a=t(88716),n=t(37922),i=t.n(n),l=t(95231),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);t.d(o,s);let d=["",{children:["financeiro",{children:["lancamentos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26609)),"C:\\Projetos\\app-sodcapital\\app\\financeiro\\lancamentos\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1246)),"C:\\Projetos\\app-sodcapital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Projetos\\app-sodcapital\\app\\financeiro\\lancamentos\\page.tsx"],c="/financeiro/lancamentos/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/financeiro/lancamentos/page",pathname:"/financeiro/lancamentos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63723:(e,o,t)=>{Promise.resolve().then(t.bind(t,1101))},1101:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>C});var r=t(10326),a=t(17577),n=t(25472),i=t(30361),l=t(50949),s=t(69669),d=t(83855),p=t(88307),c=t(21405),x=t(94019),u=t(44389),g=t(98091),b=t(74723);function h({value:e,onChange:o,sentidoFilter:t,tipoFluxoFilter:n,error:i,showContraparte:l=!1,contraparteValue:s="",onContraparteChange:d,contrapartes:p=[],contraparteError:c}){let[x,u]=(0,a.useState)([]),[g,b]=(0,a.useState)(!0),h=(0,a.useRef)(!1),f=(0,a.useRef)(!1),[m,y]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[w,C]=(0,a.useState)(""),[S,_]=(0,a.useState)([]),[k,T]=(0,a.useState)([]),[z,R]=(0,a.useState)([]),W=e=>{if(f.current=!0,y(e),v(""),C(""),h.current=!0,o(""),!e){T([]),R([]),f.current=!1;return}let r=x.filter(o=>o.grupo===e);t&&(r=r.filter(e=>e.sentido===t)),n&&(r=r.filter(e=>e.tipo_fluxo===n)),T(Array.from(new Set(r.map(e=>e.categoria))).sort()),R([])},B=e=>{if(f.current=!0,v(e),C(""),h.current=!0,o(""),!e){R([]),f.current=!1;return}let r=x.filter(o=>o.grupo===m&&o.categoria===e);t&&(r=r.filter(e=>e.sentido===t)),n&&(r=r.filter(e=>e.tipo_fluxo===n)),R(Array.from(new Set(r.map(e=>e.subcategoria))).sort())},O=e=>{if(C(e),!e){o(""),f.current=!1;return}let r=x.find(o=>o.grupo===m&&o.categoria===j&&o.subcategoria===e);t&&r&&(r=x.find(o=>o.grupo===m&&o.categoria===j&&o.subcategoria===e&&o.sentido===t)),n&&r&&(r=x.find(o=>o.grupo===m&&o.categoria===j&&o.subcategoria===e&&o.tipo_fluxo===n)),r&&(f.current=!1,o(r.id))};if(g)return r.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"Carregando plano de contas..."});let A={width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer",backgroundColor:"white"},q={...A,backgroundColor:"#f9fafb",cursor:"not-allowed",opacity:.6};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:l?"0.8fr 1fr 1fr 1.2fr":"repeat(3, 1fr)",gap:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Grupo ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:m,onChange:e=>W(e.target.value),disabled:!n,style:{...n?A:q,borderColor:i&&!m?"#ef4444":"#e5e7eb"},onFocus:e=>{n&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=i&&!m?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),S.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Categoria ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:j,onChange:e=>B(e.target.value),disabled:!m,style:{...m?A:q,borderColor:i&&!j?"#ef4444":"#e5e7eb"},onFocus:e=>{m&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=i&&!j?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),k.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Subcategoria ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:w,onChange:e=>O(e.target.value),disabled:!j,style:{...j?A:q,borderColor:i&&!w?"#ef4444":"#e5e7eb"},onFocus:e=>{j&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=i&&!w?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),z.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),l&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Contraparte ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:s||"",onChange:e=>d?.(e.target.value),style:{...A,borderColor:c?"#ef4444":"#e5e7eb"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor=c?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),p.map(e=>r.jsx("option",{value:e.id,children:e.apelido||e.nome},e.id))]}),c&&r.jsx("p",{style:{marginTop:"4px",fontSize:"11px",color:"#ef4444",fontWeight:"500"},children:c})]})]}),e&&(0,r.jsxs)("div",{style:{marginTop:"12px",padding:"12px 16px",backgroundColor:"#f0f9ff",border:"1px solid #bfdbfe",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",boxSizing:"border-box"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["C\xf3digo Financeiro:"," "]}),(0,r.jsxs)("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:[x.find(o=>o.id===e)?.codigo_conta,x.find(o=>o.id===e)?.classificacao&&` - ${x.find(o=>o.id===e)?.classificacao}`]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["Plano Cont\xe1bil:"," "]}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:x.find(o=>o.id===e)?.cod_cont||"1.00.00.00.001"}),(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:[" ","- ",x.find(o=>o.id===e)?.conta_cont||"Em Desenvolvimento"]})]})]}),i&&r.jsx("p",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:"500"},children:i})]})}let f=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),m=e=>{let o=e.replace(/\D/g,"");if(!o)return"";let t=parseInt(o,10)/100;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},y=e=>e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0,j=e=>e?e.split("T")[0]:"",v=e=>{if(!e)return"";let[o,t,r]=e.split("T")[0].split("-");return`${r}/${t}/${o}`},w=[{value:"COFINS",label:"COFINS"},{value:"CSLL",label:"CSLL"},{value:"INSS",label:"INSS"},{value:"IRRF",label:"IRRF"},{value:"ISSQN",label:"ISSQN"},{value:"OUTRO",label:"Outro"},{value:"PIS",label:"PIS"}];function C(){let[e,o]=(0,a.useState)([]),[t,C]=(0,a.useState)([]),[S,_]=(0,a.useState)([]),[k,T]=(0,a.useState)([]),[z,R]=(0,a.useState)([]),[W,B]=(0,a.useState)([]),[O,A]=(0,a.useState)([]),[q,I]=(0,a.useState)([]),[E,M]=(0,a.useState)(!0),[D,F]=(0,a.useState)(!1),[P,L]=(0,a.useState)(null),[Z,N]=(0,a.useState)(!1),[V,$]=(0,a.useState)(null),[H,G]=(0,a.useState)(0),[Y,X]=(0,a.useState)(!0),[U,Q]=(0,a.useState)(!1),[K,J]=(0,a.useState)(""),[ee,eo]=(0,a.useState)(""),[et,er]=(0,a.useState)(""),[ea,en]=(0,a.useState)(""),[ei,el]=(0,a.useState)(""),[es,ed]=(0,a.useState)(""),[ep,ec]=(0,a.useState)(""),[ex,eu]=(0,a.useState)(""),[eg,eb]=(0,a.useState)(""),[eh,ef]=(0,a.useState)(""),[em,ey]=(0,a.useState)(""),[ej,ev]=(0,a.useState)(""),[ew,eC]=(0,a.useState)(""),[eS,e_]=(0,a.useState)(""),[ek,eT]=(0,a.useState)(""),[ez,eR]=(0,a.useState)(""),[eW,eB]=(0,a.useState)(""),[eO,eA]=(0,a.useState)(""),[eq,eI]=(0,a.useState)(""),[eE,eM]=(0,a.useState)(""),[eD,eF]=(0,a.useState)([]),[eP,eL]=(0,a.useState)([]),[eZ,eN]=(0,a.useState)([]),[eV,e$]=(0,a.useState)(""),[eH,eG]=(0,a.useState)(!1),[eY,eX]=(0,a.useState)(""),[eU,eQ]=(0,a.useState)([]),[eK,eJ]=(0,a.useState)(0),[e0,e1]=(0,a.useState)(""),[e5,e4]=(0,a.useState)(0),[e2,e3]=(0,a.useState)([]),[e6,e7]=(0,a.useState)(0),[e8,e9]=(0,a.useState)({show:!1,id:null}),[oe,oo]=(0,a.useState)({show:!1,id:null}),[ot,or]=(0,a.useState)(""),[oa,on]=(0,a.useState)({show:!1,message:""}),{register:oi,handleSubmit:ol,reset:os,formState:{errors:od},setValue:op,watch:oc}=(0,b.cI)({defaultValues:{tipo:"Saida",empresa_id:"",tipo_fluxo:"",projeto_id:"",subprojeto_id:"",pagamento_terceiro:!1,empresa_pagadora_id:"",banco_conta_id:"",contraparte_id:"",plano_conta_id:"",valor_bruto:0,data_emissao:"",data_vencimento:"",data_previsao_pagamento:"",documento_tipo:"",documento_numero:"",observacoes:""}});oc("tipo");let ox=oc("empresa_id"),ou=oc("tipo_fluxo"),og=oc("projeto_id"),ob=oc("pagamento_terceiro"),oh=oc("empresa_pagadora_id"),of=(e,o="success",t=!1)=>{e7(e=>e+1),e3(r=>[...r,{id:e6,message:e,type:o,requiresConfirmation:t}]),t||setTimeout(()=>{om(e6)},3e3)},om=e=>{e3(o=>o.filter(o=>o.id!==e))},oy=e=>{let o=e.replace(/\D/g,"");if(!o)return"";let t=parseInt(o,10)/100;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},oj=e=>e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0,ov=()=>{ey(""),ev(""),eC(""),e_(""),eT(""),eR(""),eB(""),eA(""),eI(""),eM("")},ow=em||ej||ew||eS||ek||ez||eW||eO||eq||eE,oC=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:i.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#f59e0b",icon:l.Z,iconColor:"#f59e0b"};case"error":return{borderColor:"#ef4444",icon:s.Z,iconColor:"#ef4444"}}},oS=e=>{switch(e){case"ABERTO":return{bg:"#fef3c7",text:"#92400e",label:"Aberto"};case"PAGO_RECEBIDO":return{bg:"#d1fae5",text:"#065f46",label:"Liquidado"};case"CANCELADO":return{bg:"#fee2e2",text:"#991b1b",label:"Cancelado"};default:return{bg:"#f3f4f6",text:"#1f2937",label:e}}},o_=e=>{switch(e){case"Entrada":return{bg:"#d1fae5",text:"#065f46",label:"Recebimento"};case"Saida":return{bg:"#fee2e2",text:"#991b1b",label:"Pagamento"};default:return{bg:"#f3f4f6",text:"#1f2937",label:e}}},ok=e=>{eQ(eU.filter((o,t)=>t!==e))},oT=(e,o,t)=>{let r=[...eU];if("valorFormatado"===o){let o=m(t),a=y(o);r[e].valorFormatado=o,r[e].valor=a}else"imposto"===o?r[e].imposto=t:"detalhe"===o&&(r[e].detalhe=t);eQ(r)},oz=async e=>{try{let{data:o,error:t}=await n.O.from("empresas").select("id, nome").eq("ativo",!0).neq("id",e).order("nome");if(t)throw t;B(o||[])}catch(e){console.error("Erro ao carregar empresas pagadoras:",e)}},oR=async e=>{try{let{data:o,error:t}=await n.O.from("projetos").select("id, empresa_id, nome, projeto_pai_id").eq("empresa_id",e).eq("ativo",!0).is("projeto_pai_id",null).order("nome");if(t)throw t;_(o||[])}catch(e){console.error("Erro ao carregar projetos:",e)}},oW=async e=>{try{let{data:o,error:t}=await n.O.from("projetos").select("id, empresa_id, nome, projeto_pai_id").eq("projeto_pai_id",e).eq("ativo",!0).order("nome");if(t)throw t;T(o||[])}catch(e){console.error("Erro ao carregar subprojetos:",e)}},oB=async e=>{try{let{data:o,error:t}=await n.O.from("projetos").select("id, empresa_id, nome, projeto_pai_id").eq("empresa_id",e).eq("ativo",!0).is("projeto_pai_id",null).order("nome");if(t)throw t;eF(o||[])}catch(e){console.error("Erro ao carregar projetos para filtro:",e)}},oO=async e=>{try{let{data:o,error:t}=await n.O.from("projetos").select("id, empresa_id, nome, projeto_pai_id").eq("projeto_pai_id",e).eq("ativo",!0).order("nome");if(t)throw t;eL(o||[])}catch(e){console.error("Erro ao carregar subprojetos para filtro:",e)}},oA=async e=>{try{let{data:o,error:t}=await n.O.from("bancos_contas").select(`
          id,
          empresa_id,
          banco_nome,
          numero_conta,
          agencia,
          tipo_conta,
          banco_id,
          bancos:banco_id (
            nome
          )
        `).eq("empresa_id",e).eq("ativo",!0).eq("tipo_conta","CC").order("banco_nome");if(t)throw t;R(o||[])}catch(e){console.error("Erro ao carregar bancos contas:",e)}},oq=async(e=0,t=!1)=>{try{0===e?M(!0):Q(!0);let r=n.O.from("lancamentos").select(`
          id,
          tipo,
          empresa_id,
          projeto_id,
          subprojeto_id,
          banco_conta_id,
          contraparte_id,
          plano_conta_id,
          pagamento_terceiro,
          empresa_pagadora_id,
          valor_bruto,
          valor_liquido,
          data_emissao,
          data_vencimento,
          data_previsao_pagamento,
          data_liquidacao,
          status,
          documento_tipo,
          documento_numero,
          observacoes,
          created_at,
          empresas!lancamentos_empresa_id_fkey(nome),
          empresa_pagadora:empresas!lancamentos_empresa_pagadora_id_fkey(nome),
          projeto:projetos!projeto_id(nome),
          subprojeto:projetos!subprojeto_id(nome),
          contrapartes(nome, apelido),
          plano_contas_fluxo!inner(
            id,
            codigo_conta,
            categoria,
            subcategoria,
            tipo_fluxo
          )
        `);ee&&(r=r.eq("tipo",ee)),et&&(r=r.eq("status",et)),ea&&(r=r.eq("empresa_id",ea)),ei&&(r=r.eq("projeto_id",ei)),es&&(r=r.eq("subprojeto_id",es)),ep&&(r=r.eq("contraparte_id",ep)),ex&&(r=r.eq("plano_contas_fluxo.categoria",ex)),eg&&(r=r.gte("data_vencimento",eg)),eh&&(r=r.lte("data_vencimento",eh)),K&&(r=r.or(`documento_numero.ilike.%${K}%,observacoes.ilike.%${K}%`));let a=50*e;r=r.order("data_vencimento",{ascending:!1}).order("created_at",{ascending:!1}).range(a,a+50-1);let{data:i,error:l}=await r;if(l)throw l;let s=(i||[]).map(e=>({...e,empresa_nome:e.empresas?.nome,empresa_pagadora_nome:Array.isArray(e.empresa_pagadora)?e.empresa_pagadora[0]?.nome:e.empresa_pagadora?.nome,projeto_nome:e.projeto?.nome,subprojeto_nome:e.subprojeto?.nome,contraparte_nome:Array.isArray(e.contrapartes)?e.contrapartes[0]?.apelido||e.contrapartes[0]?.nome:e.contrapartes?.apelido||e.contrapartes?.nome,plano_conta:e.plano_contas_fluxo})),d=await Promise.all(s.map(async e=>{let{data:o,error:t}=await n.O.from("lancamento_retencoes").select("*").eq("lancamento_id",e.id);return t?(console.error("Erro ao buscar reten\xe7\xf5es:",t),{...e,retencoes:[]}):{...e,retencoes:o||[]}}));t||0===e?o(d):o(e=>[...e,...d]),X(50===d.length)}catch(e){console.error("Erro ao carregar lan\xe7amentos:",e),of("Erro ao carregar lan\xe7amentos","error")}finally{M(!1),Q(!1)}},oI=async e=>{if(e){L(e.id),N("PAGO_RECEBIDO"===e.status),$(e.status),await oR(e.empresa_id),await oz(e.empresa_id),e.pagamento_terceiro&&e.empresa_pagadora_id?await oA(e.empresa_pagadora_id):await oA(e.empresa_id),e.projeto_id&&await oW(e.projeto_id),op("tipo",e.tipo),op("empresa_id",e.empresa_id),op("projeto_id",e.projeto_id||""),op("subprojeto_id",e.subprojeto_id||""),op("pagamento_terceiro",e.pagamento_terceiro||!1),op("empresa_pagadora_id",e.empresa_pagadora_id||""),op("banco_conta_id",e.banco_conta_id||""),op("contraparte_id",e.contraparte_id||""),op("plano_conta_id",e.plano_conta_id),op("data_emissao",j(e.data_emissao)),op("data_vencimento",j(e.data_vencimento)),op("data_previsao_pagamento",j(e.data_previsao_pagamento)),op("documento_tipo",e.documento_tipo||""),op("documento_numero",e.documento_numero||""),op("observacoes",e.observacoes||""),eJ(e.valor_bruto),e1(m(e.valor_bruto.toFixed(2))),op("valor_bruto",e.valor_bruto),e.plano_conta&&op("tipo_fluxo",e.plano_conta.tipo_fluxo);let{data:o,error:t}=await n.O.from("lancamento_retencoes").select("*").eq("lancamento_id",e.id);if(t?(console.error("Erro ao carregar reten\xe7\xf5es:",t),eQ([])):eQ((o||[]).map(e=>({...e,valorFormatado:m(e.valor.toFixed(2))}))),e.contraparte_id){if(e.contraparte_nome)eX(e.contraparte_nome);else{let o=O.find(o=>o.id===e.contraparte_id);o&&eX(o.apelido||o.nome)}}else eX("")}else L(null),N(!1),$(null),os(),eQ([]),eJ(0),e1(""),e4(0),eX("");F(!0)},oE=()=>{F(!1),L(null),N(!1),$(null),os(),eQ([]),eJ(0),e1(""),e4(0),eX("")},oM=async e=>{try{let o=[];if(e.empresa_id||o.push("Empresa"),e.tipo_fluxo||o.push("Tipo de Fluxo"),"Corporativo"===e.tipo_fluxo||e.projeto_id||o.push("Projeto"),e.pagamento_terceiro&&!e.empresa_pagadora_id&&o.push("Empresa Pagadora"),e.banco_conta_id||o.push("Conta Banc\xe1ria"),e.contraparte_id||o.push("Contraparte"),e.plano_conta_id||o.push("Plano de Conta"),(!eK||eK<=0)&&o.push("Valor Bruto"),e.data_emissao||o.push("Data Emiss\xe3o"),e.data_vencimento||o.push("Data Vencimento"),o.length>0){let e=o.join(", ");on({show:!0,message:e});return}let t={tipo:e.tipo,empresa_id:e.empresa_id,projeto_id:e.projeto_id||null,subprojeto_id:e.subprojeto_id||null,pagamento_terceiro:e.pagamento_terceiro||!1,empresa_pagadora_id:e.pagamento_terceiro&&e.empresa_pagadora_id||null,banco_conta_id:e.banco_conta_id,contraparte_id:e.contraparte_id,plano_conta_id:e.plano_conta_id,valor_bruto:eK,valor_liquido:e5,data_emissao:e.data_emissao,data_vencimento:e.data_vencimento,data_previsao_pagamento:e.data_previsao_pagamento||null,documento_tipo:e.documento_tipo||null,documento_numero:e.documento_numero||null,observacoes:e.observacoes||null};if(P){let{error:e}=await n.O.from("lancamentos").update(t).eq("id",P);if(e)throw e;if(await n.O.from("lancamento_retencoes").delete().eq("lancamento_id",P),eU.length>0){let e=eU.map(e=>({lancamento_id:P,imposto:e.imposto,valor:e.valor,detalhe:e.detalhe})),{error:o}=await n.O.from("lancamento_retencoes").insert(e);if(o)throw o}of("Lan\xe7amento atualizado com sucesso!")}else{let{data:e,error:o}=await n.O.from("lancamentos").insert([t]).select().single();if(o)throw o;if(eU.length>0){let o=eU.map(o=>({lancamento_id:e.id,imposto:o.imposto,valor:o.valor,detalhe:o.detalhe})),{error:t}=await n.O.from("lancamento_retencoes").insert(o);if(t)throw t}of("Lan\xe7amento criado com sucesso!")}oE(),oq()}catch(e){console.error("Erro ao salvar lan\xe7amento:",e),of("Erro ao salvar lan\xe7amento","error",!0)}},oD=async e=>{try{await n.O.from("lancamento_retencoes").delete().eq("lancamento_id",e);let{error:o}=await n.O.from("lancamentos").delete().eq("id",e);if(o)throw o;of("Lan\xe7amento exclu\xeddo com sucesso!"),e9({show:!1,id:null}),oq()}catch(e){console.error("Erro ao excluir lan\xe7amento:",e),of("Erro ao excluir lan\xe7amento","error",!0)}},oF=async()=>{if(oe.id&&ot)try{let{error:e}=await n.O.from("lancamentos").update({status:"PAGO_RECEBIDO",data_liquidacao:ot}).eq("id",oe.id);if(e)throw e;of("Lan\xe7amento liquidado com sucesso!"),oo({show:!1,id:null}),or(""),oq()}catch(e){console.error("Erro ao liquidar lan\xe7amento:",e),of("Erro ao liquidar lan\xe7amento","error",!0)}},oP=O.filter(e=>""===eV||e.nome.toLowerCase().includes(eV.toLowerCase())).sort((e,o)=>{let t=e.nome.toLowerCase(),r=o.nome.toLowerCase();return t.localeCompare(r)}),oL=e=>{op("contraparte_id",e.id),eX(e.nome),e$(""),eG(!1)},oZ=e.filter(e=>{if(em&&e.tipo!==em)return!1;if(ej){let o=e.pagamento_terceiro;if("SIM"===ej&&!o||"NAO"===ej&&o)return!1}if(ew&&e.empresa_id!==ew||eS&&e.projeto_id!==eS)return!1;if(ek&&""!==ek.trim()){let o=ek.toLowerCase();if(!(e.contraparte_nome||"").toLowerCase().includes(o))return!1}if(ez&&e.plano_conta?.categoria!==ez)return!1;if(eW){let o=oj(eW);if(o>0&&e.valor_bruto!==o)return!1}if(eO){let o=oj(eO);if(o>0&&e.valor_liquido!==o)return!1}return(!eq||e.data_vencimento===eq)&&(!eE||e.status===eE)}),oN=Array.from(new Set(e.map(e=>e.valor_bruto))).sort((e,o)=>e-o),oV=Array.from(new Set(e.map(e=>e.valor_liquido))).sort((e,o)=>e-o);return(0,r.jsxs)("div",{style:{padding:"24px",backgroundColor:"#f8fafc",minHeight:"100vh"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[r.jsx("h1",{style:{fontSize:"26px",fontWeight:"700",color:"#1f2937",margin:0},children:"Lan\xe7amentos Financeiros"}),(0,r.jsxs)("button",{onClick:()=>oI(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[r.jsx(d.Z,{size:16}),"Novo Lan\xe7amento"]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Buscar"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx(p.Z,{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),r.jsx("input",{type:"text",placeholder:"Doc ou Observa\xe7\xe3o...",value:K,onChange:e=>J(e.target.value),style:{width:"100%",padding:"9px 10px 9px 36px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo"}),(0,r.jsxs)("select",{value:ee,onChange:e=>eo(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"Entrada",children:"Recebimento"}),r.jsx("option",{value:"Saida",children:"Pagamento"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Status"}),(0,r.jsxs)("select",{value:et,onChange:e=>er(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"ABERTO",children:"Aberto"}),r.jsx("option",{value:"PAGO_RECEBIDO",children:"Liquidado"}),r.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:ea,onChange:e=>{en(e.target.value),el(""),ed(""),e.target.value?oB(e.target.value):(eF([]),eL([]))},style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Projeto"}),(0,r.jsxs)("select",{value:ei,onChange:e=>{el(e.target.value),ed(""),e.target.value?oO(e.target.value):eL([])},disabled:!ea,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:ea?"pointer":"not-allowed",backgroundColor:ea?"white":"#f9fafb",color:ea?"#1f2937":"#9ca3af"},children:[r.jsx("option",{value:"",children:"Todos"}),eD.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Subprojeto"}),(0,r.jsxs)("select",{value:es,onChange:e=>ed(e.target.value),disabled:!ei,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:ei?"pointer":"not-allowed",backgroundColor:ei?"white":"#f9fafb",color:ei?"#1f2937":"#9ca3af"},children:[r.jsx("option",{value:"",children:"Todos"}),eP.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Contraparte"}),(0,r.jsxs)("select",{value:ep,onChange:e=>ec(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),O.map(e=>r.jsx("option",{value:e.id,children:e.apelido||e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Categoria"}),(0,r.jsxs)("select",{value:ex,onChange:e=>eu(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),eZ.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento (In\xedcio)"}),r.jsx("input",{type:"date",value:eg,onChange:e=>eb(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento (Fim)"}),r.jsx("input",{type:"date",value:eh,onChange:e=>ef(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[r.jsx("button",{onClick:()=>{J(""),eo(""),er(""),en(""),el(""),ed(""),ec(""),eu(""),eb(""),ef(""),eF([]),eL([]),ov()},style:{padding:"9px 18px",backgroundColor:"white",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Limpar Filtros"}),(0,r.jsxs)("button",{onClick:()=>oq(),disabled:E,style:{display:"flex",alignItems:"center",gap:"6px",padding:"9px 18px",backgroundColor:E?"#d1d5db":"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:E?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>{E||(e.currentTarget.style.backgroundColor="#1044b5")},onMouseOut:e=>{E||(e.currentTarget.style.backgroundColor="#1555D6")},children:[r.jsx(c.Z,{size:13,style:{animation:E?"spin 1s linear infinite":"none"}}),E?"Atualizando...":"Atualizar"]})]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[ow&&(0,r.jsxs)("div",{style:{padding:"8px 16px",backgroundColor:"#eff6ff",borderBottom:"1px solid #bfdbfe",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsxs)("span",{style:{fontSize:"13px",color:"#1e40af"},children:[r.jsx("strong",{children:oZ.length})," de ",r.jsx("strong",{children:e.length})," lan\xe7amentos exibidos (filtros de coluna ativos)"]}),r.jsx("button",{onClick:ov,style:{padding:"4px 12px",fontSize:"12px",fontWeight:"600",color:"#1e40af",backgroundColor:"white",border:"1px solid #93c5fd",borderRadius:"6px",cursor:"pointer"},children:"Limpar filtros de coluna"})]}),r.jsx("div",{style:{overflowX:"auto",width:"100%"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,r.jsxs)("thead",{children:[(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[r.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"TIPO"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"PGTO TERC"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"EMPRESA"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"PROJETO"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"CONTRAPARTE"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"CATEGORIA"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"VALOR BRUTO"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"VALOR L\xcdQUIDO"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"VENCIMENTO"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"STATUS"}),r.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"A\xc7\xd5ES"})]}),(0,r.jsxs)("tr",{style:{backgroundColor:"#ffffff",borderBottom:"2px solid #e5e7eb"},children:[r.jsx("td",{style:{padding:"4px 8px"},children:(0,r.jsxs)("select",{value:em,onChange:e=>ey(e.target.value),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"Saida",children:"Pagamento"}),r.jsx("option",{value:"Entrada",children:"Recebimento"})]})}),r.jsx("td",{style:{padding:"4px 8px"},children:(0,r.jsxs)("select",{value:ej,onChange:e=>ev(e.target.value),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"SIM",children:"Sim"}),r.jsx("option",{value:"NAO",children:"N\xe3o"})]})}),r.jsx("td",{style:{padding:"4px 8px"},children:(0,r.jsxs)("select",{value:ew,onChange:e=>eC(e.target.value),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})}),r.jsx("td",{style:{padding:"4px 8px"},children:(0,r.jsxs)("select",{value:eS,onChange:e=>e_(e.target.value),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),eD.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})}),(0,r.jsxs)("td",{style:{padding:"4px 8px"},children:[r.jsx("input",{list:"contrapartes-list",value:ek,onChange:e=>eT(e.target.value),placeholder:"Digite...",style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px"}}),(0,r.jsxs)("datalist",{id:"contrapartes-list",children:[r.jsx("option",{value:"",children:"Todas"}),O.sort((e,o)=>{let t=(e.apelido||e.nome).toLowerCase(),r=(o.apelido||o.nome).toLowerCase();return t.localeCompare(r)}).map(e=>r.jsx("option",{value:e.apelido||e.nome},e.id))]})]}),r.jsx("td",{style:{padding:"4px 8px"},children:(0,r.jsxs)("select",{value:ez,onChange:e=>eR(e.target.value),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),eZ.map(e=>r.jsx("option",{value:e,children:e},e))]})}),(0,r.jsxs)("td",{style:{padding:"4px 8px"},children:[r.jsx("input",{type:"text",list:"valores-brutos-list",placeholder:"0,00",value:eW,onChange:e=>eB(oy(e.target.value)),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",textAlign:"right"}}),r.jsx("datalist",{id:"valores-brutos-list",children:oN.map((e,o)=>r.jsx("option",{value:f(e).replace("R$","").trim()},o))})]}),(0,r.jsxs)("td",{style:{padding:"4px 8px"},children:[r.jsx("input",{type:"text",list:"valores-liquidos-list",placeholder:"0,00",value:eO,onChange:e=>eA(oy(e.target.value)),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",textAlign:"right"}}),r.jsx("datalist",{id:"valores-liquidos-list",children:oV.map((e,o)=>r.jsx("option",{value:f(e).replace("R$","").trim()},o))})]}),r.jsx("td",{style:{padding:"4px 8px"},children:r.jsx("input",{type:"date",value:eq,onChange:e=>eI(e.target.value),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px"}})}),r.jsx("td",{style:{padding:"4px 8px"},children:(0,r.jsxs)("select",{value:eE,onChange:e=>eM(e.target.value),style:{width:"100%",padding:"4px 6px",fontSize:"12px",fontWeight:"400",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"4px",backgroundColor:"white",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"ABERTO",children:"Aberto"}),r.jsx("option",{value:"PAGO_RECEBIDO",children:"Liquidado"}),r.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})}),r.jsx("td",{style:{padding:"4px 8px"},children:ow&&(0,r.jsxs)("button",{onClick:ov,title:"Limpar todos os filtros",style:{width:"100%",padding:"4px 8px",fontSize:"11px",fontWeight:"500",color:"#dc2626",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[r.jsx(x.Z,{size:12}),"Limpar"]})})]})]}),r.jsx("tbody",{children:oZ.map(e=>{let o=oS(e.status),t=o_(e.tipo);return(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:[r.jsx("td",{style:{padding:"6px 8px"},children:r.jsx("span",{style:{display:"inline-block",padding:"2px 6px",borderRadius:"4px",fontSize:"8px",fontWeight:"600",backgroundColor:t.bg,color:t.text,whiteSpace:"nowrap"},children:t.label})}),r.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:e.pagamento_terceiro?r.jsx("div",{style:{position:"relative",display:"inline-block"},children:r.jsx("span",{className:"tooltip-btn","data-tooltip":`Pago por: ${e.empresa_pagadora_nome||"N/A"}`,style:{display:"inline-block",padding:"2px 6px",borderRadius:"4px",fontSize:"8px",fontWeight:"600",backgroundColor:"#dbeafe",color:"#1e40af",whiteSpace:"nowrap",cursor:"help"},children:"SIM"})}):r.jsx("span",{style:{display:"inline-block",padding:"2px 6px",fontSize:"8px",fontWeight:"500",color:"#6b7280"},children:"N\xc3O"})}),r.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#1f2937",fontWeight:"500",wordWrap:"break-word",wordBreak:"break-word",whiteSpace:"normal",lineHeight:"1.4"},children:e.empresa_nome}),r.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#6b7280",wordWrap:"break-word",wordBreak:"break-word",whiteSpace:"normal",lineHeight:"1.4"},children:e.projeto_nome||"-"}),r.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#6b7280",wordWrap:"break-word",wordBreak:"break-word",whiteSpace:"normal",lineHeight:"1.4"},children:e.contraparte_nome||"-"}),r.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#6b7280",wordWrap:"break-word",wordBreak:"break-word",whiteSpace:"normal",lineHeight:"1.4"},children:e.plano_conta?.categoria||"-"}),r.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#1f2937",fontWeight:"600",textAlign:"right",whiteSpace:"nowrap"},children:f(e.valor_bruto)}),r.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#1f2937",fontWeight:"600",textAlign:"right",whiteSpace:"nowrap"},children:f(e.valor_liquido)}),r.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#6b7280",whiteSpace:"nowrap",textAlign:"center"},children:v(e.data_vencimento)}),r.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:r.jsx("span",{style:{display:"inline-block",padding:"2px 6px",borderRadius:"4px",fontSize:"8px",fontWeight:"600",backgroundColor:o.bg,color:o.text,whiteSpace:"nowrap"},children:o.label})}),r.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"6px",justifyContent:"center"},children:["ABERTO"===e.status&&r.jsx("div",{style:{position:"relative",display:"inline-block"},children:r.jsx("button",{onClick:()=>oo({show:!0,id:e.id}),className:"tooltip-btn","data-tooltip":"Liquidar",style:{padding:"4px",backgroundColor:"#d1fae5",color:"#10b981",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#a7f3d0",onMouseOut:e=>e.currentTarget.style.backgroundColor="#d1fae5",children:r.jsx(i.Z,{size:13})})}),r.jsx("div",{style:{position:"relative",display:"inline-block"},children:r.jsx("button",{onClick:()=>oI(e),className:"tooltip-btn","data-tooltip":"Editar",style:{padding:"4px",backgroundColor:"#e0e7ff",color:"#1555D6",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#c7d2fe",onMouseOut:e=>e.currentTarget.style.backgroundColor="#e0e7ff",children:r.jsx(u.Z,{size:13})})}),r.jsx("div",{style:{position:"relative",display:"inline-block"},children:r.jsx("button",{onClick:()=>e9({show:!0,id:e.id}),className:"tooltip-btn","data-tooltip":"Excluir",style:{padding:"4px",backgroundColor:"#fee2e2",color:"#ef4444",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#fecaca",onMouseOut:e=>e.currentTarget.style.backgroundColor="#fee2e2",children:r.jsx(g.Z,{size:13})})})]})})]},e.id)})})]})}),Y&&r.jsx("div",{style:{padding:"20px",textAlign:"center",borderTop:"1px solid #e5e7eb"},children:r.jsx("button",{onClick:()=>{let e=H+1;G(e),oq(e,!1)},disabled:U,style:{padding:"10px 24px",backgroundColor:U?"#d1d5db":"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"600",cursor:U?"not-allowed":"pointer",transition:"all 0.2s"},children:U?"Carregando...":"Carregar Mais"})})]}),D&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:oE,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"100%",maxHeight:"90vh",margin:"16px",display:"flex",flexDirection:"column",animation:"scaleIn 0.2s ease-out",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{position:"sticky",top:0,backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"20px",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[r.jsx("h2",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:0},children:P?"Editar Lan\xe7amento":"Novo Lan\xe7amento"}),r.jsx("button",{onClick:oE,style:{padding:"6px",backgroundColor:"#f3f4f6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#e5e7eb",onMouseOut:e=>e.currentTarget.style.backgroundColor="#f3f4f6",children:r.jsx(x.Z,{size:18,color:"#6b7280"})})]}),(0,r.jsxs)("form",{onSubmit:ol(oM),style:{flex:1,overflowY:"auto",padding:"20px"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"14px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa *"}),(0,r.jsxs)("select",{...oi("empresa_id"),disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:Z?"not-allowed":"pointer",backgroundColor:Z?"#f9fafb":"white",color:Z?"#9ca3af":"#1f2937"},children:[r.jsx("option",{value:"",children:"Selecione..."}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo de Fluxo *"}),(0,r.jsxs)("select",{...oi("tipo_fluxo"),disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:Z?"not-allowed":"pointer",backgroundColor:Z?"#f9fafb":"white",color:Z?"#9ca3af":"#1f2937"},children:[r.jsx("option",{value:"",children:"Selecione..."}),q.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo *"}),(0,r.jsxs)("select",{...oi("tipo"),disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:Z?"not-allowed":"pointer",backgroundColor:Z?"#f9fafb":"white",color:Z?"#9ca3af":"#1f2937"},children:[r.jsx("option",{value:"Entrada",children:"Recebimento"}),r.jsx("option",{value:"Saida",children:"Pagamento"})]})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1.2fr 0.8fr 1fr 1.3fr",gap:"14px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Projeto ","Corporativo"!==ou&&"*"]}),(0,r.jsxs)("select",{...oi("projeto_id"),disabled:!ox||Z||"Corporativo"===ou,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:ox&&!Z&&"Corporativo"!==ou?"pointer":"not-allowed",backgroundColor:ox&&!Z&&"Corporativo"!==ou?"white":"#f9fafb",color:ox&&!Z&&"Corporativo"!==ou?"#1f2937":"#9ca3af"},children:[r.jsx("option",{value:"",children:"Selecione..."}),S.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Subprojeto"}),(0,r.jsxs)("select",{...oi("subprojeto_id"),disabled:!og||Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:og&&!Z?"pointer":"not-allowed",backgroundColor:og&&!Z?"white":"#f9fafb",color:og&&!Z?"#1f2937":"#9ca3af"},children:[r.jsx("option",{value:"",children:"Selecione..."}),k.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Pgto Conta/Ordem?"}),(0,r.jsxs)("select",{...oi("pagamento_terceiro"),disabled:Z,onChange:e=>{let o="true"===e.target.value;op("pagamento_terceiro",o),!o&&(op("empresa_pagadora_id",""),op("banco_conta_id",""),ox&&oA(ox))},style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:Z?"not-allowed":"pointer",backgroundColor:Z?"#f9fafb":"white",color:Z?"#9ca3af":"#1f2937"},children:[r.jsx("option",{value:"false",children:"N\xe3o"}),r.jsx("option",{value:"true",children:"Sim"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Empresa Pagadora ",ob&&"*"]}),(0,r.jsxs)("select",{...oi("empresa_pagadora_id"),disabled:!ob||Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:ob&&!Z?"pointer":"not-allowed",backgroundColor:ob&&!Z?"white":"#f9fafb",color:ob&&!Z?"#1f2937":"#9ca3af"},children:[r.jsx("option",{value:"",children:"Selecione..."}),W.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria *"}),(0,r.jsxs)("select",{...oi("banco_conta_id"),disabled:!ox||Z||ob&&!oh,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:ox&&!Z&&(!ob||oh)?"pointer":"not-allowed",backgroundColor:ox&&!Z&&(!ob||oh)?"white":"#f9fafb",color:ox&&!Z&&(!ob||oh)?"#1f2937":"#9ca3af"},children:[r.jsx("option",{value:"",children:"Selecione..."}),z.map(e=>{let o=Array.isArray(e.bancos)?e.bancos[0]:e.bancos,t=o?.nome||e.banco_nome||"Banco n\xe3o informado";return(0,r.jsxs)("option",{value:e.id,children:[t," - Ag: ",e.agencia," - Conta: ",e.numero_conta]},e.id)})]})]})]}),r.jsx("div",{style:{marginBottom:"16px"},children:(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"14px"},children:[r.jsx("div",{style:{gridColumn:"span 3"},children:r.jsx(h,{value:oc("plano_conta_id"),onChange:e=>op("plano_conta_id",e),tipoFluxoFilter:oc("tipo_fluxo"),sentidoFilter:oc("tipo"),error:od.plano_conta_id?.message})}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Contraparte *"}),r.jsx("input",{type:"text",value:eY,onChange:e=>{eX(e.target.value),e$(e.target.value),eG(!0)},disabled:Z,placeholder:"Digite para buscar...",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{eG(!0),Z||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none",setTimeout(()=>eG(!1),200)}}),eH&&oP.length>0&&!Z&&r.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",maxHeight:"300px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:oP.map(e=>r.jsx("div",{onClick:()=>oL(e),style:{padding:"8px 10px",cursor:"pointer",fontSize:"13px",color:"#1f2937",borderBottom:"1px solid #f3f4f6"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:r.jsx("div",{style:{fontWeight:"500"},children:e.nome})},e.id))})]})]})}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"14px",marginBottom:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Emiss\xe3o *"}),r.jsx("input",{...oi("data_emissao"),type:"date",disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{Z||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Vencimento *"}),r.jsx("input",{...oi("data_vencimento"),type:"date",disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{Z||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Previs\xe3o Pag."}),r.jsx("input",{...oi("data_previsao_pagamento"),type:"date",disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{Z||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor Bruto *"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"R$"}),r.jsx("input",{type:"text",value:e0,disabled:Z,onChange:e=>{let o=m(e.target.value);e1(o);let t=y(o);eJ(t),op("valor_bruto",t)},style:{width:"100%",padding:"9px 10px 9px 32px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",textAlign:"right",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{Z||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo Doc"}),r.jsx("input",{...oi("documento_tipo"),type:"text",disabled:Z,placeholder:"NF, Boleto...",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{Z||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"N\xba Doc"}),r.jsx("input",{...oi("documento_numero"),type:"text",disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{Z||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"14px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0},children:"Reten\xe7\xf5es de Impostos"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{eQ(e=>[...e,{imposto:"IRRF",valor:0,valorFormatado:"0,00",detalhe:null}])},disabled:Z,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",backgroundColor:Z?"#d1d5db":"#e0e7ff",color:Z?"#9ca3af":"#1555D6",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:Z?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>{Z||(e.currentTarget.style.backgroundColor="#c7d2fe")},onMouseOut:e=>{Z||(e.currentTarget.style.backgroundColor="#e0e7ff")},children:[r.jsx(d.Z,{size:16}),"Adicionar Reten\xe7\xe3o"]})]}),eU.length>0&&r.jsx("div",{style:{marginBottom:"14px"},children:eU.map((e,o)=>(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"12px",alignItems:"end",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px",marginBottom:"8px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Imposto"}),r.jsx("select",{value:e.imposto,onChange:e=>oT(o,"imposto",e.target.value),disabled:Z,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:Z?"not-allowed":"pointer",backgroundColor:Z?"#f9fafb":"white",color:Z?"#9ca3af":"#1f2937"},children:w.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"R$"}),r.jsx("input",{type:"text",value:e.valorFormatado,onChange:e=>oT(o,"valorFormatado",e.target.value),disabled:Z,style:{width:"100%",padding:"9px 10px 9px 32px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",textAlign:"right",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"}})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Detalhe"}),r.jsx("input",{type:"text",value:e.detalhe||"",onChange:e=>oT(o,"detalhe",e.target.value),disabled:Z,placeholder:"Informa\xe7\xf5es adicionais...",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"}})]}),r.jsx("button",{type:"button",onClick:()=>ok(o),disabled:Z,style:{padding:"9px",backgroundColor:Z?"#d1d5db":"#fee2e2",color:Z?"#9ca3af":"#ef4444",border:"none",borderRadius:"8px",cursor:Z?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>{Z||(e.currentTarget.style.backgroundColor="#fecaca")},onMouseOut:e=>{Z||(e.currentTarget.style.backgroundColor="#fee2e2")},children:r.jsx(x.Z,{size:16})})]},o))}),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"14px",backgroundColor:"#f0f9ff",borderRadius:"8px",border:"1px solid #bae6fd"},children:[r.jsx("span",{style:{fontSize:"15px",fontWeight:"600",color:"#0369a1"},children:"Valor L\xedquido"}),r.jsx("span",{style:{fontSize:"17px",fontWeight:"700",color:"#0369a1"},children:f(e5)})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Observa\xe7\xf5es"}),r.jsx("textarea",{...oi("observacoes"),disabled:Z,rows:3,placeholder:"Informa\xe7\xf5es adicionais sobre o lan\xe7amento...",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",resize:"vertical",fontFamily:"inherit",backgroundColor:Z?"#f9fafb":"white",cursor:Z?"not-allowed":"text",color:Z?"#9ca3af":"#1f2937"},onFocus:e=>{Z||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{position:"sticky",bottom:0,backgroundColor:"white",borderTop:"1px solid #e5e7eb",padding:"16px 20px",display:"flex",justifyContent:"flex-end",gap:"12px",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"},children:[r.jsx("button",{type:"button",onClick:oE,style:{padding:"10px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsxs)("button",{type:"submit",style:{padding:"10px 24px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[P?"Atualizar":"Criar"," Lan\xe7amento"]})]})]})]})}),e8.show&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>e9({show:!1,id:null}),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(l.Z,{style:{width:"28px",height:"28px",color:"#ef4444"}})}),r.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Confirmar Exclus\xe3o"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",textAlign:"center",lineHeight:"1.5"},children:"Tem certeza que deseja excluir este lan\xe7amento? Esta a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{onClick:()=>e9({show:!1,id:null}),style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),r.jsx("button",{onClick:()=>e8.id&&oD(e8.id),style:{flex:1,padding:"12px 24px",backgroundColor:"#ef4444",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseOut:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Excluir"})]})]})}),oe.show&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>{oo({show:!1,id:null}),or("")},children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(i.Z,{style:{width:"28px",height:"28px",color:"#10b981"}})}),r.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Liquidar Lan\xe7amento"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"20px",textAlign:"center",lineHeight:"1.5"},children:"Confirme a data de pagamento/recebimento:"}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Data de Liquida\xe7\xe3o *"}),r.jsx("input",{type:"date",value:ot,onChange:e=>or(e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{onClick:()=>{oo({show:!1,id:null}),or("")},style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),r.jsx("button",{onClick:oF,disabled:!ot,style:{flex:1,padding:"12px 24px",backgroundColor:ot?"#10b981":"#d1d5db",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:ot?"pointer":"not-allowed",transition:"all 0.2s"},onMouseOver:e=>{ot&&(e.currentTarget.style.backgroundColor="#059669")},onMouseOut:e=>{ot&&(e.currentTarget.style.backgroundColor="#10b981")},children:"Confirmar Liquida\xe7\xe3o"})]})]})}),oa.show&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>on({show:!1,message:""}),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",borderTop:"4px solid #f59e0b",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"24px",width:"90%",maxWidth:"400px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",marginBottom:"20px"},children:[r.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:"#fef3c7",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,marginTop:"2px"},children:r.jsx(l.Z,{style:{width:"16px",height:"16px",color:"#f59e0b"}})}),r.jsx("div",{style:{flex:1},children:(0,r.jsxs)("p",{style:{fontSize:"14px",color:"#111827",margin:0,lineHeight:"1.5",fontWeight:"500"},children:["Faltam os seguintes campos obrigat\xf3rios: ",oa.message]})})]}),r.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:r.jsx("button",{onClick:()=>on({show:!1,message:""}),style:{padding:"8px 20px",backgroundColor:"#f59e0b",border:"none",borderRadius:"6px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#d97706",onMouseOut:e=>e.currentTarget.style.backgroundColor="#f59e0b",children:"OK"})})]})}),r.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:e2.map(e=>{let{borderColor:o,icon:t,iconColor:a}=oC(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:`4px solid ${o}`,padding:e.requiresConfirmation?"20px":"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:e.requiresConfirmation?"column":"row",alignItems:e.requiresConfirmation?"stretch":"center",gap:e.requiresConfirmation?"16px":"12px",minWidth:"400px",animation:"scaleIn 0.3s ease-out",pointerEvents:e.requiresConfirmation?"auto":"none"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx(t,{style:{width:"24px",height:"24px",flexShrink:0,color:a}}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151",lineHeight:"1.5",whiteSpace:"pre-line"},children:e.message})]}),e.requiresConfirmation&&r.jsx("button",{onClick:()=>om(e.id),style:{padding:"10px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s",alignSelf:"center",minWidth:"100px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]},e.id)})}),r.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    @keyframes scaleIn {
      from {
        transform: scale(0.8);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }
    
    /* Tooltips customizados */
    .tooltip-btn[data-tooltip] {
      position: relative;
    }
    
    .tooltip-btn[data-tooltip]::before {
      content: attr(data-tooltip);
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(-4px);
      padding: 4px 8px;
      background-color: #1f2937;
      color: white;
      font-size: 11px;
      font-weight: 500;
      white-space: nowrap;
      border-radius: 4px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s, transform 0.2s;
      z-index: 1000;
    }
    
    .tooltip-btn[data-tooltip]::after {
      content: "";
      position: absolute;
      bottom: 100%;
      left: 50%;
      transform: translateX(-50%) translateY(2px);
      border: 4px solid transparent;
      border-top-color: #1f2937;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s, transform 0.2s;
      z-index: 1000;
    }
    
    .tooltip-btn[data-tooltip]:hover::before {
      opacity: 1;
      transform: translateX(-50%) translateY(-8px);
    }
    
    .tooltip-btn[data-tooltip]:hover::after {
      opacity: 1;
      transform: translateX(-50%) translateY(-2px);
    }
  `})]})}},30361:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},44389:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},83855:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},21405:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},88307:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},98091:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},94019:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},26609:(e,o,t)=>{"use strict";t.r(o),t.d(o,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=t(68570);let a=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\lancamentos\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\lancamentos\page.tsx#default`)}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),r=o.X(0,[377,904,199,93],()=>t(90504));module.exports=r})();