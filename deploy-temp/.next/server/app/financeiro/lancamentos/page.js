(()=>{var e={};e.id=114,e.ids=[114],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},90504:(e,o,t)=>{"use strict";t.r(o),t.d(o,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>d}),t(26609),t(1246),t(35866);var r=t(23191),n=t(88716),a=t(37922),i=t.n(a),l=t(95231),s={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(s[e]=()=>l[e]);t.d(o,s);let d=["",{children:["financeiro",{children:["lancamentos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26609)),"C:\\Projetos\\app-sodcapital\\app\\financeiro\\lancamentos\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1246)),"C:\\Projetos\\app-sodcapital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],p=["C:\\Projetos\\app-sodcapital\\app\\financeiro\\lancamentos\\page.tsx"],c="/financeiro/lancamentos/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/financeiro/lancamentos/page",pathname:"/financeiro/lancamentos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},63723:(e,o,t)=>{Promise.resolve().then(t.bind(t,1101))},1101:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>_});var r=t(10326),n=t(17577),a=t(25472),i=t(77863),l=t(30361),s=t(50949),d=t(69669),p=t(83855),c=t(88307),x=t(44389),u=t(98091),g=t(74723),b=t(68284),f=t(770);function h({value:e,onChange:o,sentidoFilter:t,tipoFluxoFilter:a,error:i,showContraparte:l=!1,contraparteValue:s="",onContraparteChange:d,contrapartes:p=[],contraparteError:c}){let[x,u]=(0,n.useState)([]),[g,b]=(0,n.useState)(!0),[f,h]=(0,n.useState)(""),[m,y]=(0,n.useState)(""),[j,v]=(0,n.useState)(""),[S,C]=(0,n.useState)([]),[_,w]=(0,n.useState)([]),[T,k]=(0,n.useState)([]),z=e=>{if(h(e),y(""),v(""),o(""),!e){w([]),k([]);return}let r=x.filter(o=>o.grupo===e);t&&(r=r.filter(e=>e.sentido===t)),a&&(r=r.filter(e=>e.tipo_fluxo===a)),w(Array.from(new Set(r.map(e=>e.categoria))).sort()),k([])},B=e=>{if(y(e),v(""),o(""),!e){k([]);return}let r=x.filter(o=>o.grupo===f&&o.categoria===e);t&&(r=r.filter(e=>e.sentido===t)),a&&(r=r.filter(e=>e.tipo_fluxo===a)),k(Array.from(new Set(r.map(e=>e.subcategoria))).sort())},R=e=>{if(v(e),!e){o("");return}let r=x.find(o=>o.grupo===f&&o.categoria===m&&o.subcategoria===e);t&&r&&(r=x.find(o=>o.grupo===f&&o.categoria===m&&o.subcategoria===e&&o.sentido===t)),a&&r&&(r=x.find(o=>o.grupo===f&&o.categoria===m&&o.subcategoria===e&&o.tipo_fluxo===a)),r&&o(r.id)};if(g)return r.jsx("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"Carregando plano de contas..."});let W={width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer",backgroundColor:"white"},O={...W,backgroundColor:"#f9fafb",cursor:"not-allowed",opacity:.6};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:l?"0.8fr 1fr 1fr 1.2fr":"repeat(3, 1fr)",gap:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Grupo ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:f,onChange:e=>z(e.target.value),disabled:!a,style:{...a?W:O,borderColor:i&&!f?"#ef4444":"#e5e7eb"},onFocus:e=>{a&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=i&&!f?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),S.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Categoria ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:m,onChange:e=>B(e.target.value),disabled:!f,style:{...f?W:O,borderColor:i&&!m?"#ef4444":"#e5e7eb"},onFocus:e=>{f&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=i&&!m?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),_.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Subcategoria ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:j,onChange:e=>R(e.target.value),disabled:!m,style:{...m?W:O,borderColor:i&&!j?"#ef4444":"#e5e7eb"},onFocus:e=>{m&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor=i&&!j?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),T.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),l&&(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Contraparte ",r.jsx("span",{style:{color:"#ef4444"},children:"*"})]}),(0,r.jsxs)("select",{value:s||"",onChange:e=>d?.(e.target.value),style:{...W,borderColor:c?"#ef4444":"#e5e7eb"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor=c?"#ef4444":"#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),p.map(e=>r.jsx("option",{value:e.id,children:e.apelido||e.nome},e.id))]}),c&&r.jsx("p",{style:{marginTop:"4px",fontSize:"11px",color:"#ef4444",fontWeight:"500"},children:c})]})]}),e&&(0,r.jsxs)("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#f0f9ff",border:"1px solid #bfdbfe",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["C\xf3digo Financeiro:"," "]}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:x.find(o=>o.id===e)?.codigo_conta})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["Plano Cont\xe1bil:"," "]}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:x.find(o=>o.id===e)?.cod_cont||"1.00.00.00.001"}),(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:[" ","- ",x.find(o=>o.id===e)?.conta_cont||"Em Desenvolvimento"]})]})]}),i&&r.jsx("p",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:"500"},children:i})]})}let m=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),y=e=>{let o=e.replace(/\D/g,"");if(!o)return"";let t=parseInt(o,10)/100;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},j=e=>e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0,v=e=>e?e.split("T")[0]:"",S=f.Ry({tipo:f.Km(["Entrada","Saida"],{required_error:"Tipo \xe9 obrigat\xf3rio"}),empresa_id:f.Z_().min(1,"Empresa \xe9 obrigat\xf3ria"),tipo_fluxo:f.Z_().min(1,"Tipo de Fluxo \xe9 obrigat\xf3rio"),projeto_id:f.Z_().optional(),subprojeto_id:f.Z_().optional(),banco_conta_id:f.Z_().min(1,"Conta banc\xe1ria \xe9 obrigat\xf3ria"),contraparte_id:f.Z_().min(1,"Contraparte \xe9 obrigat\xf3ria"),plano_conta_id:f.Z_().min(1,"Plano de conta \xe9 obrigat\xf3rio"),valor_bruto:f.oQ.number().min(.01,"Valor bruto \xe9 obrigat\xf3rio"),data_emissao:f.Z_().min(1,"Data de emiss\xe3o \xe9 obrigat\xf3ria"),data_vencimento:f.Z_().min(1,"Data de vencimento \xe9 obrigat\xf3ria"),data_previsao_pagamento:f.Z_().optional(),documento_tipo:f.Z_().optional(),documento_numero:f.Z_().optional(),observacoes:f.Z_().optional()}).refine(e=>"Corporativo"===e.tipo_fluxo||!!e.projeto_id,{message:"Projeto \xe9 obrigat\xf3rio quando Tipo de Fluxo n\xe3o for Corporativo",path:["projeto_id"]}),C=[{value:"IRRF",label:"IRRF"},{value:"INSS",label:"INSS"},{value:"ISSQN",label:"ISSQN"},{value:"PIS",label:"PIS"},{value:"COFINS",label:"COFINS"},{value:"CSLL",label:"CSLL"},{value:"OUTRO",label:"Outro"}];function _(){let[e,o]=(0,n.useState)([]),[t,f]=(0,n.useState)([]),[_,w]=(0,n.useState)([]),[T,k]=(0,n.useState)([]),[z,B]=(0,n.useState)([]),[R,W]=(0,n.useState)([]),[O,D]=(0,n.useState)([]),[q,F]=(0,n.useState)(!0),[I,E]=(0,n.useState)(!1),[A,P]=(0,n.useState)(null),[M,Z]=(0,n.useState)(!1),[L,$]=(0,n.useState)(0),[N,V]=(0,n.useState)(!0),[G,Y]=(0,n.useState)(!1),[H,Q]=(0,n.useState)(""),[K,X]=(0,n.useState)(""),[U,J]=(0,n.useState)(""),[ee,eo]=(0,n.useState)(""),[et,er]=(0,n.useState)(""),[en,ea]=(0,n.useState)(""),[ei,el]=(0,n.useState)(""),[es,ed]=(0,n.useState)(""),[ep,ec]=(0,n.useState)([]),[ex,eu]=(0,n.useState)(0),[eg,eb]=(0,n.useState)(""),[ef,eh]=(0,n.useState)(0),[em,ey]=(0,n.useState)([]),[ej,ev]=(0,n.useState)(0),[eS,eC]=(0,n.useState)({show:!1,id:null}),[e_,ew]=(0,n.useState)({show:!1,id:null}),[eT,ek]=(0,n.useState)(""),{register:ez,handleSubmit:eB,reset:eR,formState:{errors:eW},setValue:eO,watch:eD}=(0,g.cI)({resolver:(0,b.F)(S),defaultValues:{tipo:"Saida",empresa_id:"",tipo_fluxo:"",projeto_id:"",subprojeto_id:"",banco_conta_id:"",contraparte_id:"",plano_conta_id:"",valor_bruto:0,data_emissao:"",data_vencimento:"",data_previsao_pagamento:"",documento_tipo:"",documento_numero:"",observacoes:""}}),eq=eD("empresa_id"),eF=eD("tipo_fluxo"),eI=eD("projeto_id"),eE=eD("tipo"),eA=(e,o)=>{ev(e=>e+1);let t={id:ej,message:e,type:o};ey(e=>[...e,t]),setTimeout(()=>{ey(e=>e.filter(e=>e.id!==ej))},"warning"===o?2e3:3e3)},eP=e=>{ey(o=>o.filter(o=>o.id!==e))},eM=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:l.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#f59e0b",icon:s.Z,iconColor:"#f59e0b"};case"error":return{borderColor:"#ef4444",icon:d.Z,iconColor:"#ef4444"}}},eZ=async e=>{let{data:o,error:t}=await a.O.from("lancamento_retencoes").select("*").eq("lancamento_id",e);t?console.error("Erro ao carregar reten\xe7\xf5es:",t):ec((o||[]).map(e=>({...e,valorFormatado:y((100*e.valor).toString())})))},eL=async(e=0,t=!1)=>{t?Y(!0):F(!0);let r=a.O.from("lancamentos").select(`
        *,
        empresa:empresas!lancamentos_empresa_id_fkey(nome),
        projeto:projetos!lancamentos_projeto_id_fkey(nome),
        subprojeto:projetos!lancamentos_subprojeto_id_fkey(nome),
        contraparte:contrapartes(nome),
        plano_conta:plano_contas_fluxo(*)
      `).order("data_vencimento",{ascending:!1}).order("created_at",{ascending:!1}).range(50*e,(e+1)*50-1);H&&(r=r.or(`documento_numero.ilike.%${H}%,observacoes.ilike.%${H}%`)),K&&(r=r.eq("tipo",K)),U&&(r=r.eq("status",U)),ee&&(r=r.eq("empresa_id",ee)),et&&(r=r.eq("projeto_id",et)),en&&(r=r.eq("contraparte_id",en)),ei&&(r=r.gte("data_vencimento",ei)),es&&(r=r.lte("data_vencimento",es));let{data:n,error:i}=await r;if(i){console.error("Erro ao carregar lan\xe7amentos:",i),eA("Erro ao carregar lan\xe7amentos","error"),t?Y(!1):F(!1);return}let l=(n||[]).map(e=>({...e,empresa_nome:e.empresa?.nome,projeto_nome:e.projeto?.nome,subprojeto_nome:e.subprojeto?.nome,contraparte_nome:e.contraparte?.nome}));t?o(e=>[...e,...l]):o(l),V(50===l.length),t?Y(!1):F(!1)},e$=e=>{e?(P(e.id),Z("PAGO_RECEBIDO"===e.status),eZ(e.id),eO("tipo",e.tipo),eO("empresa_id",e.empresa_id),eO("tipo_fluxo",e.plano_conta?.tipo_fluxo||""),eO("projeto_id",e.projeto_id||""),eO("subprojeto_id",e.subprojeto_id||""),eO("banco_conta_id",e.banco_conta_id||""),eO("contraparte_id",e.contraparte_id||""),eO("plano_conta_id",e.plano_conta_id),eO("valor_bruto",e.valor_bruto),eO("data_emissao",v(e.data_emissao)),eO("data_vencimento",v(e.data_vencimento)),eO("data_previsao_pagamento",v(e.data_previsao_pagamento)),eO("documento_tipo",e.documento_tipo||""),eO("documento_numero",e.documento_numero||""),eO("observacoes",e.observacoes||""),eu(e.valor_bruto),eb(y((100*e.valor_bruto).toString())),eh(e.valor_liquido)):(P(null),Z(!1),ec([]),eu(0),eb(""),eh(0),eR()),E(!0)},eN=()=>{E(!1),P(null),Z(!1),ec([]),eu(0),eb(""),eh(0),eR()},eV=e=>{ec(ep.filter((o,t)=>t!==e))},eG=(e,o,t)=>{let r=[...ep];if("valorFormatado"===o){let o=y(t),n=j(o);r[e]={...r[e],valorFormatado:o,valor:n}}else r[e]={...r[e],[o]:t};ec(r)},eY=async e=>{let o={tipo:e.tipo,empresa_id:e.empresa_id,projeto_id:"Corporativo"===eF?null:e.projeto_id||null,subprojeto_id:e.subprojeto_id||null,banco_conta_id:e.banco_conta_id,contraparte_id:e.contraparte_id,plano_conta_id:e.plano_conta_id,valor_bruto:ex,valor_liquido:ef,data_emissao:e.data_emissao,data_vencimento:e.data_vencimento,data_previsao_pagamento:e.data_previsao_pagamento||null,documento_tipo:e.documento_tipo||null,documento_numero:e.documento_numero||null,observacoes:e.observacoes||null,status:"ABERTO",sentido:"Entrada"===e.tipo?"Entrada":"Saida"};if(A){let{error:e}=await a.O.from("lancamentos").update(o).eq("id",A);if(e){console.error("Erro ao atualizar lan\xe7amento:",e),eA("Erro ao atualizar lan\xe7amento","error");return}if(await a.O.from("lancamento_retencoes").delete().eq("lancamento_id",A),ep.length>0){let e=ep.map(e=>({lancamento_id:A,imposto:e.imposto,valor:e.valor,detalhe:e.detalhe}));await a.O.from("lancamento_retencoes").insert(e)}eA("Lan\xe7amento atualizado com sucesso!","success")}else{let{data:e,error:t}=await a.O.from("lancamentos").insert([o]).select().single();if(t){console.error("Erro ao criar lan\xe7amento:",t),eA("Erro ao criar lan\xe7amento","error");return}if(ep.length>0&&e){let o=ep.map(o=>({lancamento_id:e.id,imposto:o.imposto,valor:o.valor,detalhe:o.detalhe}));await a.O.from("lancamento_retencoes").insert(o)}eA("Lan\xe7amento criado com sucesso!","success")}eN(),eL()},eH=async()=>{if(!eS.id)return;let{error:e}=await a.O.from("lancamentos").delete().eq("id",eS.id);e?(console.error("Erro ao excluir lan\xe7amento:",e),eA("Erro ao excluir lan\xe7amento","error")):(eA("Lan\xe7amento exclu\xeddo com sucesso!","success"),eL()),eC({show:!1,id:null})},eQ=async()=>{if(!e_.id||!eT)return;let{error:e}=await a.O.from("lancamentos").update({status:"PAGO_RECEBIDO",data_liquidacao:eT}).eq("id",e_.id);e?(console.error("Erro ao liquidar lan\xe7amento:",e),eA("Erro ao liquidar lan\xe7amento","error")):(eA("Lan\xe7amento liquidado com sucesso!","success"),eL()),ew({show:!1,id:null}),ek("")},eK=e=>{let o={ABERTO:{bg:"#fef3c7",text:"#92400e",label:"Aberto"},PAGO_RECEBIDO:{bg:"#d1fae5",text:"#065f46",label:"Liquidado"},CANCELADO:{bg:"#fee2e2",text:"#991b1b",label:"Cancelado"}};return o[e]||o.ABERTO},eX=e=>"Entrada"===e?{bg:"#d1fae5",text:"#065f46",label:"Recebimento"}:{bg:"#fee2e2",text:"#991b1b",label:"Pagamento"};return q?r.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"18px",color:"#6b7280"},children:"Carregando..."}):(0,r.jsxs)("div",{style:{padding:"24px",maxWidth:"1800px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[r.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#1f2937",margin:0},children:"Lan\xe7amentos Financeiros"}),(0,r.jsxs)("button",{onClick:()=>e$(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[r.jsx(p.Z,{size:20}),"Novo Lan\xe7amento"]})]}),r.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"20px",marginBottom:"20px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Buscar"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx(c.Z,{size:18,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),r.jsx("input",{type:"text",placeholder:"Documento, observa\xe7\xf5es...",value:H,onChange:e=>Q(e.target.value),style:{width:"100%",padding:"9px 10px 9px 38px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo"}),(0,r.jsxs)("select",{value:K,onChange:e=>X(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"Entrada",children:"Recebimento"}),r.jsx("option",{value:"Saida",children:"Pagamento"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Status"}),(0,r.jsxs)("select",{value:U,onChange:e=>J(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todos"}),r.jsx("option",{value:"ABERTO",children:"Aberto"}),r.jsx("option",{value:"PAGO_RECEBIDO",children:"Liquidado"}),r.jsx("option",{value:"CANCELADO",children:"Cancelado"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:ee,onChange:e=>eo(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[r.jsx("option",{value:"",children:"Todas"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento - De"}),r.jsx("input",{type:"date",value:ei,onChange:e=>el(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento - At\xe9"}),r.jsx("input",{type:"date",value:es,onChange:e=>ed(e.target.value),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]})]})}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[r.jsx("div",{style:{overflowX:"auto"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[r.jsx("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Tipo"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Empresa"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Projeto"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Contraparte"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Categoria"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Valor Bruto"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Valor L\xedquido"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Vencimento"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),r.jsx("th",{style:{padding:"14px 16px",textAlign:"right",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px"},children:"A\xe7\xf5es"})]})}),r.jsx("tbody",{children:e.map(e=>{let o=eK(e.status),t=eX(e.tipo);return(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:[r.jsx("td",{style:{padding:"14px 16px"},children:r.jsx("span",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",backgroundColor:t.bg,color:t.text},children:t.label})}),r.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#1f2937",fontWeight:"500"},children:e.empresa_nome}),r.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:e.projeto_nome||"-"}),r.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:e.contraparte_nome||"-"}),r.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:e.plano_conta?.categoria||"-"}),r.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#1f2937",fontWeight:"600",textAlign:"right"},children:m(e.valor_bruto)}),r.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#1f2937",fontWeight:"600",textAlign:"right"},children:m(e.valor_liquido)}),r.jsx("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:(0,i.p6)(e.data_vencimento)}),r.jsx("td",{style:{padding:"14px 16px"},children:r.jsx("span",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"6px",fontSize:"12px",fontWeight:"600",backgroundColor:o.bg,color:o.text},children:o.label})}),r.jsx("td",{style:{padding:"14px 16px",textAlign:"right"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:["ABERTO"===e.status&&r.jsx("button",{onClick:()=>ew({show:!0,id:e.id}),style:{padding:"6px 10px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#059669",onMouseOut:e=>e.currentTarget.style.backgroundColor="#10b981",children:"Liquidar"}),r.jsx("button",{onClick:()=>e$(e),style:{padding:"6px",backgroundColor:"#e0e7ff",color:"#1555D6",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#c7d2fe",onMouseOut:e=>e.currentTarget.style.backgroundColor="#e0e7ff",children:r.jsx(x.Z,{size:16})}),r.jsx("button",{onClick:()=>eC({show:!0,id:e.id}),style:{padding:"6px",backgroundColor:"#fee2e2",color:"#ef4444",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#fecaca",onMouseOut:e=>e.currentTarget.style.backgroundColor="#fee2e2",children:r.jsx(u.Z,{size:16})})]})})]},e.id)})})]})}),N&&r.jsx("div",{style:{padding:"20px",textAlign:"center",borderTop:"1px solid #e5e7eb"},children:r.jsx("button",{onClick:()=>{let e=L+1;$(e),eL(e,!0)},disabled:G,style:{padding:"10px 24px",backgroundColor:G?"#d1d5db":"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:G?"not-allowed":"pointer",transition:"all 0.2s"},children:G?"Carregando...":"Carregar Mais"})})]}),I&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)",overflowY:"auto",padding:"20px"},onClick:eN,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"100%",maxWidth:"1400px",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{position:"sticky",top:0,backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 20px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:10},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[r.jsx("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:A?"Editar Lan\xe7amento":"Novo Lan\xe7amento"}),r.jsx("button",{onClick:eN,style:{background:"none",border:"none",fontSize:"24px",color:"#9ca3af",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#6b7280"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#9ca3af"},children:"\xd7"})]})}),r.jsx("div",{style:{padding:"18px",overflowY:"auto"},children:(0,r.jsxs)("form",{onSubmit:eB(eY,e=>{console.log("Erros de valida\xe7\xe3o:",e);let o=Object.values(e)[0];o?.message&&eA(o.message,"error")}),children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 120px 1fr",gap:"12px",marginBottom:"14px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa *"}),(0,r.jsxs)("select",{...ez("empresa_id"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),t.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo de Fluxo *"}),(0,r.jsxs)("select",{...ez("tipo_fluxo"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),O.map(e=>r.jsx("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:["Projeto ","Corporativo"!==eF&&"*"]}),(0,r.jsxs)("select",{...ez("projeto_id"),disabled:!eq||"Corporativo"===eF,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eq&&"Corporativo"!==eF?"pointer":"not-allowed",opacity:eq&&"Corporativo"!==eF?1:.6},onFocus:e=>{eq&&"Corporativo"!==eF&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),_.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]},`projeto-${A||"new"}-${eq}`)]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Subprojeto"}),(0,r.jsxs)("select",{...ez("subprojeto_id"),disabled:!eI||0===T.length,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eI&&T.length>0?"pointer":"not-allowed",opacity:eI&&T.length>0?1:.6},onFocus:e=>{eI&&T.length>0&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),T.map(e=>r.jsx("option",{value:e.id,children:e.nome},e.id))]},`subprojeto-${A||"new"}-${eI}`)]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo *"}),(0,r.jsxs)("select",{...ez("tipo"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"Entrada",children:"Recebimento"}),r.jsx("option",{value:"Saida",children:"Pagamento"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria *"}),(0,r.jsxs)("select",{...ez("banco_conta_id"),disabled:!eq,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eq?"pointer":"not-allowed",opacity:eq?1:.6},onFocus:e=>{eq&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[r.jsx("option",{value:"",children:"Selecione"}),z.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.nome_banco||"Banco"," - Ag: ",e.agencia," - Conta: ",e.numero_conta]},e.id))]},`banco-${A||"new"}-${eq}`)]})]}),r.jsx("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginTop:0,marginBottom:"14px"},children:"Plano de Contas"})}),r.jsx("div",{style:{marginBottom:"14px"},children:r.jsx(h,{value:eD("plano_conta_id"),onChange:e=>eO("plano_conta_id",e),sentidoFilter:eE,tipoFluxoFilter:eF,error:eW.plano_conta_id?.message,showContraparte:!0,contraparteValue:eD("contraparte_id"),onContraparteChange:e=>eO("contraparte_id",e),contrapartes:R,contraparteError:eW.contraparte_id?.message},`plano-conta-${A||"new"}-${eD("plano_conta_id")}`)}),r.jsx("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginTop:0,marginBottom:"14px"},children:"Datas, Documentos e Valores"})}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 0.8fr 0.6fr",gap:"12px",marginBottom:"14px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Emiss\xe3o *"}),r.jsx("input",{...ez("data_emissao"),type:"date",disabled:M,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Vencimento *"}),r.jsx("input",{...ez("data_vencimento"),type:"date",disabled:M,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Previs\xe3o Pgto"}),r.jsx("input",{...ez("data_previsao_pagamento"),type:"date",disabled:M,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor Bruto *"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"R$"}),r.jsx("input",{type:"text",value:eg,disabled:M,onChange:e=>{let o=y(e.target.value);eb(o);let t=j(o);eu(t),eO("valor_bruto",t)},style:{width:"100%",padding:"9px 10px 9px 32px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",textAlign:"right",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo Doc"}),r.jsx("input",{...ez("documento_tipo"),type:"text",disabled:M,placeholder:"NF, Boleto...",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"N\xba Doc"}),r.jsx("input",{...ez("documento_numero"),type:"text",disabled:M,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"14px"},children:[r.jsx("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0},children:"Reten\xe7\xf5es de Impostos"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{ec([...ep,{imposto:"IRRF",valor:0,valorFormatado:"",detalhe:null}])},disabled:M,style:{display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",backgroundColor:M?"#d1d5db":"#e0e7ff",color:M?"#6b7280":"#1555D6",border:"none",borderRadius:"6px",fontSize:"13px",fontWeight:"500",cursor:M?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>{M||(e.currentTarget.style.backgroundColor="#c7d2fe")},onMouseOut:e=>{M||(e.currentTarget.style.backgroundColor="#e0e7ff")},children:[r.jsx(p.Z,{size:16}),"Adicionar Reten\xe7\xe3o"]})]}),ep.map((e,o)=>(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr 40px",gap:"12px",marginBottom:"12px",padding:"12px",backgroundColor:"#f9fafb",borderRadius:"8px"},children:[(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo de Imposto"}),r.jsx("select",{value:e.imposto,onChange:e=>eG(o,"imposto",e.target.value),disabled:M,style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none",cursor:M?"not-allowed":"pointer",backgroundColor:M?"#e5e7eb":"white",color:M?"#9ca3af":"#1f2937"},children:C.map(e=>r.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[r.jsx("span",{style:{position:"absolute",left:"8px",top:"50%",transform:"translateY(-50%)",fontSize:"12px",color:"#6b7280",fontWeight:"500"},children:"R$"}),r.jsx("input",{type:"text",value:e.valorFormatado,onChange:e=>eG(o,"valorFormatado",e.target.value),disabled:M,style:{width:"100%",padding:"8px 8px 8px 28px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none",textAlign:"right",backgroundColor:M?"#e5e7eb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"}})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Detalhe"}),r.jsx("input",{type:"text",value:e.detalhe||"",onChange:e=>eG(o,"detalhe",e.target.value),disabled:M,placeholder:"Descri\xe7\xe3o adicional...",style:{width:"100%",padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none",backgroundColor:M?"#e5e7eb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"}})]}),r.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:r.jsx("button",{type:"button",onClick:()=>eV(o),disabled:M,style:{padding:"8px",backgroundColor:M?"#d1d5db":"#fee2e2",color:M?"#6b7280":"#ef4444",border:"none",borderRadius:"6px",cursor:M?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>{M||(e.currentTarget.style.backgroundColor="#fecaca")},onMouseOut:e=>{M||(e.currentTarget.style.backgroundColor="#fee2e2")},children:r.jsx(u.Z,{size:16})})})]},o)),(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"16px",padding:"14px",backgroundColor:"#f0f9ff",borderRadius:"8px",marginTop:"12px"},children:[(0,r.jsxs)("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Valor Bruto"}),r.jsx("div",{style:{fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:m(ex)})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Total Reten\xe7\xf5es"}),(0,r.jsxs)("div",{style:{fontSize:"16px",fontWeight:"700",color:"#ef4444"},children:["- ",m(ep.reduce((e,o)=>e+o.valor,0))]})]}),(0,r.jsxs)("div",{children:[r.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Valor L\xedquido"}),r.jsx("div",{style:{fontSize:"18px",fontWeight:"700",color:"#10b981"},children:m(ef)})]})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"14px"},children:[r.jsx("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Observa\xe7\xf5es"}),r.jsx("textarea",{...ez("observacoes"),disabled:M,rows:3,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",resize:"vertical",fontFamily:"inherit",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"16px",borderTop:"1px solid #e5e7eb"},children:[r.jsx("button",{type:"button",onClick:eN,style:{padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsxs)("button",{type:"submit",style:{padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[A?"Atualizar":"Criar"," Lan\xe7amento"]})]})]})})]})}),eS.show&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>eC({show:!1,id:null}),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(s.Z,{style:{width:"28px",height:"28px",color:"#ef4444"}})}),r.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Confirmar Exclus\xe3o"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",textAlign:"center",lineHeight:"1.5"},children:"Tem certeza que deseja excluir este lan\xe7amento? Esta a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{onClick:()=>eC({show:!1,id:null}),style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),r.jsx("button",{onClick:eH,style:{flex:1,padding:"12px 24px",backgroundColor:"#ef4444",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseOut:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Excluir"})]})]})}),e_.show&&r.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>{ew({show:!1,id:null}),ek("")},children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[r.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center"},children:r.jsx(l.Z,{style:{width:"28px",height:"28px",color:"#10b981"}})}),r.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Liquidar Lan\xe7amento"}),r.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"20px",textAlign:"center",lineHeight:"1.5"},children:"Confirme a data de pagamento/recebimento:"}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[r.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Data de Liquida\xe7\xe3o *"}),r.jsx("input",{type:"date",value:eT,onChange:e=>ek(e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[r.jsx("button",{onClick:()=>{ew({show:!1,id:null}),ek("")},style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),r.jsx("button",{onClick:eQ,disabled:!eT,style:{flex:1,padding:"12px 24px",backgroundColor:eT?"#10b981":"#d1d5db",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:eT?"pointer":"not-allowed",transition:"all 0.2s"},onMouseOver:e=>{eT&&(e.currentTarget.style.backgroundColor="#059669")},onMouseOut:e=>{eT&&(e.currentTarget.style.backgroundColor="#10b981")},children:"Confirmar Liquida\xe7\xe3o"})]})]})}),r.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:em.map(e=>{let{borderColor:o,icon:t,iconColor:n}=eM(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:`4px solid ${o}`,padding:e.requiresConfirmation?"20px":"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:e.requiresConfirmation?"column":"row",alignItems:e.requiresConfirmation?"stretch":"center",gap:e.requiresConfirmation?"16px":"12px",minWidth:"400px",maxWidth:"600px",animation:"scaleIn 0.3s ease-out",pointerEvents:e.requiresConfirmation?"auto":"none"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[r.jsx(t,{style:{width:"24px",height:"24px",flexShrink:0,color:n}}),r.jsx("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151",lineHeight:"1.5"},children:e.message})]}),e.requiresConfirmation&&r.jsx("button",{onClick:()=>eP(e.id),style:{padding:"10px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s",alignSelf:"center",minWidth:"100px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]},e.id)})}),r.jsx("style",{children:`
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    @keyframes scaleIn {
      from {
        transform: scale(0.8);
        opacity: 0;
      }
      to {
        transform: scale(1);
        opacity: 1;
      }
    }
  `})]})}},77863:(e,o,t)=>{"use strict";function r(e){if(!e)return"-";let o="string"==typeof e?new Date(e):e;return new Intl.DateTimeFormat("pt-BR").format(o)}function n(e){return null==e?"R$ 0,00":new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)}t.d(o,{p6:()=>r,xG:()=>n})},30361:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},50949:(e,o,t)=>{"use strict";t.d(o,{Z:()=>r});let r=(0,t(62881).Z)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},26609:(e,o,t)=>{"use strict";t.r(o),t.d(o,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});var r=t(68570);let n=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\lancamentos\page.tsx`),{__esModule:a,$$typeof:i}=n;n.default;let l=(0,r.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\lancamentos\page.tsx#default`)}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),r=o.X(0,[948,550,109,93],()=>t(90504));module.exports=r})();