(()=>{var e={};e.id=366,e.ids=[366],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},90409:(e,o,t)=>{"use strict";t.r(o),t.d(o,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(35561),t(1246),t(35866);var i=t(23191),n=t(88716),r=t(37922),a=t.n(r),s=t(95231),l={};for(let e in s)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>s[e]);t.d(o,l);let d=["",{children:["financeiro",{children:["transferencias",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,35561)),"C:\\Projetos\\app-sodcapital\\app\\financeiro\\transferencias\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,1246)),"C:\\Projetos\\app-sodcapital\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Projetos\\app-sodcapital\\app\\financeiro\\transferencias\\page.tsx"],p="/financeiro/transferencias/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new i.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/financeiro/transferencias/page",pathname:"/financeiro/transferencias",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},91194:(e,o,t)=>{Promise.resolve().then(t.bind(t,28575))},28575:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>w});var i=t(10326),n=t(17577),r=t(25472),a=t(30361),s=t(50949),l=t(69669),d=t(83855),c=t(88307),p=t(21405);let x=(0,t(62881).Z)("arrow-right-left",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);var u=t(44389),g=t(98091),f=t(29163),m=t(17069),h=t(74723),b=t(68284),_=t(770);let y=_.Ry({empresa_origem_id:_.Z_().optional(),conta_origem_id:_.Z_().optional(),empresa_destino_id:_.Z_().optional(),conta_destino_id:_.Z_().optional(),data_transferencia:_.Z_().optional(),valor:_.Z_().optional(),historico:_.Z_().optional(),documento:_.Z_().optional()}),j=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),v=e=>{let[o,t,i]=e.split("T")[0].split("-");return`${i}/${t}/${o}`};function w(){let[e,o]=(0,n.useState)([]),[t,_]=(0,n.useState)([]),[w,C]=(0,n.useState)([]),[S,k]=(0,n.useState)([]),[z,T]=(0,n.useState)([]),[R,O]=(0,n.useState)(!0),[A,W]=(0,n.useState)(!1),[D,I]=(0,n.useState)(null),[q,E]=(0,n.useState)(""),[B,M]=(0,n.useState)(""),[Z,L]=(0,n.useState)(""),[P,N]=(0,n.useState)(""),[F,H]=(0,n.useState)(""),[$,X]=(0,n.useState)([]),[G,Y]=(0,n.useState)(0),[V,K]=(0,n.useState)({show:!1,id:null}),[J,Q]=(0,n.useState)({show:!1,message:""}),[U,ee]=(0,n.useState)(0),[eo,et]=(0,n.useState)(!0),[ei,en]=(0,n.useState)(""),{register:er,handleSubmit:ea,reset:es,setValue:el,formState:{errors:ed},watch:ec}=(0,h.cI)({resolver:(0,b.F)(y)}),ep=ec("empresa_origem_id"),ex=ec("empresa_destino_id"),eu=e=>{let o=e.replace(/\D/g,"");return o?(parseInt(o)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},eg=e=>e.replace(/\./g,"").replace(",","."),ef=(e,o,t=!1)=>{Y(e=>e+1),X(i=>[...i,{id:G,message:e,type:o,requiresConfirmation:t}]),t||setTimeout(()=>em(G),4e3)},em=e=>{X(o=>o.filter(o=>o.id!==e))},eh=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:a.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#f59e0b",icon:s.Z,iconColor:"#f59e0b"};case"error":return{borderColor:"#ef4444",icon:l.Z,iconColor:"#ef4444"}}},eb=async(e=0)=>{try{O(!0);let t=100*e,{data:i,error:n}=await r.O.from("movimentos_bancarios").select("*").eq("tipo_movimento","TRANSFERENCIA_ENVIADA").order("data_movimento",{ascending:!1}).range(t,t+100-1);if(n)throw n;if(!i||0===i.length){o([]),et(!1);return}let a=new Set,s=[];i.forEach(e=>{e.banco_conta_id&&a.add(e.banco_conta_id),s.push(e.id)});let{data:l,error:d}=await r.O.from("bancos_contas").select(`
          id,
          numero_conta,
          banco_nome,
          agencia,
          tipo_conta,
          empresas(nome),
          bancos(nome, codigo)
        `).in("id",Array.from(a));if(d)throw d;let{data:c,error:p}=await r.O.from("movimentos_bancarios").select("id, banco_conta_id, transferencia_id").eq("tipo_movimento","TRANSFERENCIA_RECEBIDA").in("transferencia_id",s);if(p)throw p;let x=c?.map(e=>e.banco_conta_id).filter(e=>e&&!a.has(e))||[],u=[];if(x.length>0){let{data:e,error:o}=await r.O.from("bancos_contas").select(`
            id,
            numero_conta,
            banco_nome,
            agencia,
            tipo_conta,
            empresas(nome),
            bancos(nome, codigo)
          `).in("id",x);!o&&e&&(u=e)}let g=new Map;l?.forEach(e=>g.set(e.id,e)),u?.forEach(e=>g.set(e.id,e));let f=new Map;c?.forEach(e=>{e.transferencia_id&&f.set(e.transferencia_id,e)});let m=i.map(e=>{let o=g.get(e.banco_conta_id),t=f.get(e.id),i=t?g.get(t.banco_conta_id):null;return{id:e.id,org_id:e.org_id,conta_origem_id:e.banco_conta_id,conta_destino_id:t?.banco_conta_id||null,data_transferencia:e.data_movimento,valor:e.valor,historico:e.historico,documento:e.documento,created_at:e.created_at,conta_origem:o||null,conta_destino:i||null}});0===e?o(m):o(e=>[...e,...m]),et(100===i.length),ee(e)}catch(e){ef("Erro ao carregar transfer\xeancias: "+e.message,"error")}finally{O(!1)}},e_=e=>{if(e){I(e.id),console.log("Transferencia:",e),console.log("Conta origem ID:",e.conta_origem_id),console.log("Conta destino ID:",e.conta_destino_id);let o=w.find(o=>o.id===e.conta_origem_id),t=w.find(o=>o.id===e.conta_destino_id);console.log("Conta origem encontrada:",o),console.log("Conta destino encontrada:",t),el("empresa_origem_id",o?.empresa_id||""),el("empresa_destino_id",t?.empresa_id||""),setTimeout(()=>{console.log("Setando conta_origem_id:",e.conta_origem_id),console.log("Setando conta_destino_id:",e.conta_destino_id),el("conta_origem_id",e.conta_origem_id||""),el("conta_destino_id",e.conta_destino_id||"")},200),el("data_transferencia",e.data_transferencia),el("valor",e.valor.toString()),el("historico",e.historico||""),el("documento",e.documento||""),en(e.valor.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}))}else I(null),en(""),es({empresa_origem_id:"",conta_origem_id:"",empresa_destino_id:"",conta_destino_id:"",data_transferencia:new Date().toISOString().split("T")[0],valor:"",historico:"",documento:""});W(!0)},ey=()=>{W(!1),I(null),en(""),es()},ej=async e=>{let o=[];if(e.empresa_origem_id||o.push("Empresa de Origem"),e.conta_origem_id||o.push("Conta Banc\xe1ria de Origem"),e.empresa_destino_id||o.push("Empresa de Destino"),e.conta_destino_id||o.push("Conta Banc\xe1ria de Destino"),e.data_transferencia||o.push("Data da Transfer\xeancia"),e.valor&&"0"!==e.valor&&"0.00"!==e.valor||o.push("Valor"),o.length>0){let e=o.join(", ");Q({show:!0,message:`Campos obrigat\xf3rios n\xe3o preenchidos: ${e}`});return}try{if(e.conta_origem_id===e.conta_destino_id){Q({show:!0,message:"Conta banc\xe1ria de origem n\xe3o pode ser igual \xe0 conta banc\xe1ria de destino. Favor ajustar."});return}let o=parseFloat(e.valor);if(D){let{data:t,error:i}=await r.O.from("movimentos_bancarios").select("transferencia_id").eq("id",D).single();if(i)throw i;let{error:n}=await r.O.from("movimentos_bancarios").update({banco_conta_id:e.conta_origem_id,data_movimento:e.data_transferencia,valor:o,historico:e.historico||null,documento:e.documento||null}).eq("id",D);if(n)throw n;if(t?.transferencia_id){let{error:i}=await r.O.from("movimentos_bancarios").update({banco_conta_id:e.conta_destino_id,data_movimento:e.data_transferencia,valor:o,historico:e.historico||null,documento:e.documento||null}).eq("id",t.transferencia_id);if(i)throw i}ef("Transfer\xeancia atualizada com sucesso!","success")}else{let{data:t,error:i}=await r.O.from("movimentos_bancarios").insert({banco_conta_id:e.conta_destino_id,tipo_movimento:"TRANSFERENCIA_RECEBIDA",data_movimento:e.data_transferencia,valor:o,historico:e.historico||null,documento:e.documento||null,conciliado:!1,transferencia_id:null}).select().single();if(i||!t)throw i;let{data:n,error:a}=await r.O.from("movimentos_bancarios").insert({banco_conta_id:e.conta_origem_id,tipo_movimento:"TRANSFERENCIA_ENVIADA",data_movimento:e.data_transferencia,valor:o,historico:e.historico||null,documento:e.documento||null,transferencia_id:t.id,conciliado:!1}).select().single();if(a||!n)throw a;let{error:s}=await r.O.from("movimentos_bancarios").update({transferencia_id:n.id}).eq("id",t.id);if(s)throw s;ef("Transfer\xeancia criada com sucesso!","success")}ey(),eb()}catch(e){if(e.message&&e.message.includes("\xfaltimo fechamento")){let o=e.message.match(/(\d{4})-(\d{2})-(\d{2})/),t=e.message;if(o){let[,i,n,r]=o,a=`${r}/${n}/${i}`;t=e.message.replace(/\d{4}-\d{2}-\d{2}/,a)}Q({show:!0,message:t,type:"warning"})}else ef("Erro ao salvar transfer\xeancia: "+e.message,"error")}},ev=async()=>{if(V.id)try{let{data:e,error:o}=await r.O.from("movimentos_bancarios").select("id, transferencia_id, banco_conta_id, data_movimento").eq("id",V.id).single();if(o)throw o;let t=null;if(e?.transferencia_id){let{data:o,error:i}=await r.O.from("movimentos_bancarios").select("banco_conta_id, data_movimento").eq("id",e.transferencia_id).single();!i&&o&&(t=o)}let{data:i,error:n}=await r.O.from("fechamentos_bancarios").select("id, data_fechamento").eq("banco_conta_id",e.banco_conta_id).eq("fechado",!0).gte("data_fechamento",e.data_movimento).order("data_fechamento",{ascending:!0}).limit(1);if(n)throw n;if(i&&i.length>0){Q({show:!0,message:"N\xe3o \xe9 poss\xedvel excluir esta transfer\xeancia. A data est\xe1 em um per\xedodo j\xe1 fechado na conta de origem. Solicite ao administrador a reabertura do per\xedodo."}),K({show:!1,id:null});return}if(t){let{data:e,error:o}=await r.O.from("fechamentos_bancarios").select("id, data_fechamento").eq("banco_conta_id",t.banco_conta_id).eq("fechado",!0).gte("data_fechamento",t.data_movimento).order("data_fechamento",{ascending:!0}).limit(1);if(o)throw o;if(e&&e.length>0){Q({show:!0,message:"N\xe3o \xe9 poss\xedvel excluir esta transfer\xeancia. A data est\xe1 em um per\xedodo j\xe1 fechado na conta de destino. Solicite ao administrador a reabertura do per\xedodo."}),K({show:!1,id:null});return}}if(e?.transferencia_id){let{error:o}=await r.O.from("movimentos_bancarios").update({transferencia_id:null}).eq("id",V.id);if(o)throw o;let{error:t}=await r.O.from("movimentos_bancarios").update({transferencia_id:null}).eq("id",e.transferencia_id);if(t)throw t;let{error:i}=await r.O.from("movimentos_bancarios").delete().eq("id",e.transferencia_id);if(i)throw i}let{error:a}=await r.O.from("movimentos_bancarios").delete().eq("id",V.id);if(a)throw a;ef("Transfer\xeancia exclu\xedda com sucesso!","success"),K({show:!1,id:null}),eb()}catch(e){ef("Erro ao excluir transfer\xeancia: "+e.message,"error"),K({show:!1,id:null})}},ew=e.filter(e=>{let o=!q||e.conta_origem?.empresas?.nome?.toLowerCase().includes(q.toLowerCase())||e.conta_destino?.empresas?.nome?.toLowerCase().includes(q.toLowerCase())||e.conta_origem?.banco_nome?.toLowerCase().includes(q.toLowerCase())||e.conta_origem?.bancos?.nome?.toLowerCase().includes(q.toLowerCase())||e.conta_destino?.banco_nome?.toLowerCase().includes(q.toLowerCase())||e.conta_destino?.bancos?.nome?.toLowerCase().includes(q.toLowerCase())||e.historico?.toLowerCase().includes(q.toLowerCase())||e.documento?.toLowerCase().includes(q.toLowerCase()),t=w.find(o=>o.id===e.conta_origem_id)?.empresa_id,i=w.find(o=>o.id===e.conta_destino_id)?.empresa_id,n=!B||t===B,r=!Z||i===Z,a=new Date(e.data_transferencia),s=!P||a>=new Date(P),l=!F||a<=new Date(F);return o&&n&&r&&s&&l});return(0,i.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",padding:"24px"},children:[(0,i.jsxs)("div",{style:{marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)("div",{children:[i.jsx("h1",{style:{fontSize:"24px",fontWeight:"700",color:"#111827",marginBottom:"4px"},children:"Transfer\xeancias entre Contas"}),i.jsx("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie transfer\xeancias entre contas banc\xe1rias da sua organiza\xe7\xe3o"})]}),(0,i.jsxs)("button",{onClick:()=>e_(),style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[i.jsx(d.Z,{size:20}),"Nova Transfer\xeancia"]})]}),(0,i.jsxs)("div",{style:{backgroundColor:"white",padding:"16px",borderRadius:"12px",border:"1px solid #e5e7eb",marginBottom:"20px"},children:[(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 0.8fr 0.8fr",gap:"12px",marginBottom:"12px"},children:[(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:"Empresa Origem"}),(0,i.jsxs)("select",{value:B,onChange:e=>M(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[i.jsx("option",{value:"",children:"Todas"}),t.map(e=>i.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:"Empresa Destino"}),(0,i.jsxs)("select",{value:Z,onChange:e=>L(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},children:[i.jsx("option",{value:"",children:"Todas"}),t.map(e=>i.jsx("option",{value:e.id,children:e.nome},e.id))]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:"Data Inicial"}),i.jsx("input",{type:"date",value:P,onChange:e=>N(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"4px"},children:"Data Final"}),i.jsx("input",{type:"date",value:F,onChange:e=>H(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"}})]})]}),(0,i.jsxs)("div",{style:{position:"relative"},children:[i.jsx(c.Z,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"#9ca3af"}}),i.jsx("input",{type:"text",placeholder:"Buscar por empresa, banco, hist\xf3rico ou documento...",value:q,onChange:e=>E(e.target.value),style:{width:"100%",padding:"10px 12px 10px 40px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"16px"},children:[i.jsx("button",{onClick:()=>{E(""),M(""),L(""),N(""),H("")},style:{padding:"9px 18px",backgroundColor:"white",color:"#6b7280",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Limpar Filtros"}),(0,i.jsxs)("button",{onClick:()=>eb(0),disabled:R,style:{display:"flex",alignItems:"center",gap:"6px",padding:"9px 18px",backgroundColor:R?"#d1d5db":"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"13px",fontWeight:"600",cursor:R?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>{R||(e.currentTarget.style.backgroundColor="#1044b5")},onMouseOut:e=>{R||(e.currentTarget.style.backgroundColor="#1555D6")},children:[i.jsx(p.Z,{size:13,style:{animation:R?"spin 1s linear infinite":"none"}}),R?"Atualizando...":"Atualizar"]})]})]}),i.jsx("div",{style:{backgroundColor:"white",borderRadius:"12px",overflow:"hidden",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:R?i.jsx("div",{style:{padding:"60px",display:"flex",justifyContent:"center",alignItems:"center"},children:i.jsx("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f4f6",borderTop:"4px solid #1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):0===ew.length?(0,i.jsxs)("div",{style:{padding:"60px",textAlign:"center",color:"#6b7280"},children:[i.jsx("p",{style:{fontSize:"16px",fontWeight:"500",marginBottom:"8px"},children:"Nenhuma transfer\xeancia encontrada"}),i.jsx("p",{style:{fontSize:"14px"},children:0===e.length?"Comece criando sua primeira transfer\xeancia":"Tente ajustar os filtros de busca"})]}):(0,i.jsxs)(i.Fragment,{children:[i.jsx("div",{style:{overflowX:"auto",width:"100%"},children:(0,i.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[i.jsx("thead",{children:(0,i.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[i.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"DATA"}),i.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"ORIGEM"}),i.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"}}),i.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"DESTINO"}),i.jsx("th",{style:{padding:"6px 8px",textAlign:"right",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"VALOR"}),i.jsx("th",{style:{padding:"6px 8px",textAlign:"left",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"HIST\xd3RICO"}),i.jsx("th",{style:{padding:"6px 8px",textAlign:"center",fontSize:"8px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.4px",whiteSpace:"nowrap"},children:"A\xc7\xd5ES"})]})}),i.jsx("tbody",{children:ew.map(e=>(0,i.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:[i.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#6b7280",whiteSpace:"nowrap"},children:v(e.data_transferencia)}),i.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#1f2937"},children:(0,i.jsxs)("div",{style:{wordWrap:"break-word",whiteSpace:"normal",lineHeight:"1.4"},children:[i.jsx("div",{style:{fontWeight:"600"},children:e.conta_origem?.empresas?.nome||"-"}),(0,i.jsxs)("div",{style:{fontSize:"8px",color:"#6b7280",marginTop:"2px"},children:[e.conta_origem?.banco_nome||e.conta_origem?.bancos?.nome||"Banco"," - Ag: ",e.conta_origem?.agencia," - Conta: ",e.conta_origem?.numero_conta]}),e.conta_origem?.tipo_conta&&i.jsx("div",{style:{fontSize:"7px",color:"#9ca3af",marginTop:"1px",fontStyle:"italic"},children:e.conta_origem.tipo_conta})]})}),i.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:i.jsx(x,{size:14,style:{color:"#1555D6"}})}),i.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#1f2937"},children:(0,i.jsxs)("div",{style:{wordWrap:"break-word",whiteSpace:"normal",lineHeight:"1.4"},children:[i.jsx("div",{style:{fontWeight:"600"},children:e.conta_destino?.empresas?.nome||"-"}),(0,i.jsxs)("div",{style:{fontSize:"8px",color:"#6b7280",marginTop:"2px"},children:[e.conta_destino?.banco_nome||e.conta_destino?.bancos?.nome||"Banco"," - Ag: ",e.conta_destino?.agencia," - Conta: ",e.conta_destino?.numero_conta]}),e.conta_destino?.tipo_conta&&i.jsx("div",{style:{fontSize:"7px",color:"#9ca3af",marginTop:"1px",fontStyle:"italic"},children:e.conta_destino.tipo_conta})]})}),i.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#1f2937",fontWeight:"600",textAlign:"right",whiteSpace:"nowrap"},children:j(e.valor)}),i.jsx("td",{style:{padding:"6px 8px",fontSize:"9px",color:"#6b7280"},children:i.jsx("div",{style:{wordWrap:"break-word",whiteSpace:"normal",lineHeight:"1.4",maxWidth:"200px"},children:e.historico||"-"})}),i.jsx("td",{style:{padding:"6px 8px",textAlign:"center"},children:(0,i.jsxs)("div",{style:{display:"flex",gap:"6px",justifyContent:"center"},children:[i.jsx("div",{style:{position:"relative",display:"inline-block"},children:i.jsx("button",{onClick:()=>e_(e),className:"tooltip-btn","data-tooltip":"Editar",style:{padding:"4px",backgroundColor:"#e0e7ff",color:"#1555D6",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#c7d2fe",onMouseOut:e=>e.currentTarget.style.backgroundColor="#e0e7ff",children:i.jsx(u.Z,{size:13})})}),i.jsx("div",{style:{position:"relative",display:"inline-block"},children:i.jsx("button",{onClick:()=>K({show:!0,id:e.id}),className:"tooltip-btn","data-tooltip":"Excluir",style:{padding:"4px",backgroundColor:"#fee2e2",color:"#ef4444",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#fecaca",onMouseOut:e=>e.currentTarget.style.backgroundColor="#fee2e2",children:i.jsx(g.Z,{size:13})})})]})})]},e.id))})]})}),eo&&i.jsx("div",{style:{padding:"20px",textAlign:"center",borderTop:"1px solid #e5e7eb"},children:i.jsx("button",{onClick:()=>{!R&&eo&&eb(U+1)},disabled:R,style:{padding:"10px 24px",backgroundColor:R?"#d1d5db":"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"11px",fontWeight:"600",cursor:R?"not-allowed":"pointer",transition:"all 0.2s"},children:R?"Carregando...":"Carregar Mais"})})]})}),A&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:ey,children:(0,i.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"100%",maxWidth:"800px",maxHeight:"90vh",margin:"16px",display:"flex",flexDirection:"column",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)("div",{style:{padding:"6px 20px",borderBottom:"1px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("h2",{style:{fontSize:"16px",fontWeight:"700",color:"#111827",margin:0},children:D?"Editar Transfer\xeancia":"Nova Transfer\xeancia"}),i.jsx("button",{onClick:ey,style:{padding:"8px",border:"none",background:"none",cursor:"pointer",color:"#6b7280",fontSize:"20px"},children:"\xd7"})]}),(0,i.jsxs)("form",{onSubmit:ea(ej),style:{flex:1,overflowY:"auto",padding:"10px"},children:[(0,i.jsxs)("div",{style:{display:"grid",gap:"6px"},children:[(0,i.jsxs)("div",{style:{padding:"8px",backgroundColor:"#f0fdf4",borderRadius:"6px",border:"1px solid #bbf7d0"},children:[(0,i.jsxs)("h3",{style:{fontSize:"12px",fontWeight:"600",color:"#166534",marginBottom:"5px",display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx(f.Z,{size:13}),"Conta de Origem"]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px"},children:[(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Empresa *"}),(0,i.jsxs)("select",{...er("empresa_origem_id"),style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none",cursor:"pointer"},children:[i.jsx("option",{value:"",children:"Selecione..."}),t.map(e=>i.jsx("option",{value:e.id,children:e.nome},e.id))]}),ed.empresa_origem_id&&i.jsx("span",{style:{fontSize:"10px",color:"#ef4444",marginTop:"2px",display:"block"},children:ed.empresa_origem_id.message})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Conta Banc\xe1ria *"}),(0,i.jsxs)("select",{...er("conta_origem_id"),disabled:!ep,style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none",cursor:ep?"pointer":"not-allowed",backgroundColor:ep?"white":"#f9fafb"},children:[i.jsx("option",{value:"",children:"Selecione..."}),S.map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.banco_nome||e.bancos?.nome||"Banco Desconhecido"," - Ag: ",e.agencia," - Conta: ",e.numero_conta," - ",e.tipo_conta||"N/A"]},e.id))]}),ed.conta_origem_id&&i.jsx("span",{style:{fontSize:"10px",color:"#ef4444",marginTop:"2px",display:"block"},children:ed.conta_origem_id.message})]})]})]}),(0,i.jsxs)("div",{style:{padding:"8px",backgroundColor:"#eff6ff",borderRadius:"6px",border:"1px solid #bfdbfe"},children:[(0,i.jsxs)("h3",{style:{fontSize:"12px",fontWeight:"600",color:"#1e40af",marginBottom:"5px",display:"flex",alignItems:"center",gap:"4px"},children:[i.jsx(m.Z,{size:13}),"Conta de Destino"]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px"},children:[(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Empresa *"}),(0,i.jsxs)("select",{...er("empresa_destino_id"),style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none",cursor:"pointer"},children:[i.jsx("option",{value:"",children:"Selecione..."}),t.map(e=>i.jsx("option",{value:e.id,children:e.nome},e.id))]}),ed.empresa_destino_id&&i.jsx("span",{style:{fontSize:"10px",color:"#ef4444",marginTop:"2px",display:"block"},children:ed.empresa_destino_id.message})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Conta Banc\xe1ria *"}),(0,i.jsxs)("select",{...er("conta_destino_id"),disabled:!ex,style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none",cursor:ex?"pointer":"not-allowed",backgroundColor:ex?"white":"#f9fafb"},children:[i.jsx("option",{value:"",children:"Selecione..."}),z.map(e=>(0,i.jsxs)("option",{value:e.id,children:[e.banco_nome||e.bancos?.nome||"Banco Desconhecido"," - Ag: ",e.agencia," - Conta: ",e.numero_conta," - ",e.tipo_conta||"N/A"]},e.id))]}),ed.conta_destino_id&&i.jsx("span",{style:{fontSize:"10px",color:"#ef4444",marginTop:"2px",display:"block"},children:ed.conta_destino_id.message})]})]})]}),(0,i.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px"},children:[(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Data da Transfer\xeancia *"}),i.jsx("input",{type:"date",...er("data_transferencia"),style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none"}}),ed.data_transferencia&&i.jsx("span",{style:{fontSize:"10px",color:"#ef4444",marginTop:"2px",display:"block"},children:ed.data_transferencia.message})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Valor *"}),i.jsx("input",{type:"text",placeholder:"0,00",value:ei,onChange:e=>{let o=eu(e.target.value);en(o),el("valor",eg(o))},style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none"}}),i.jsx("input",{type:"hidden",...er("valor")}),ed.valor&&i.jsx("span",{style:{fontSize:"10px",color:"#ef4444",marginTop:"2px",display:"block"},children:ed.valor.message})]})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Hist\xf3rico"}),i.jsx("textarea",{...er("historico"),rows:2,placeholder:"Descri\xe7\xe3o da transfer\xeancia...",style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none",resize:"vertical"}})]}),(0,i.jsxs)("div",{children:[i.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:"500",color:"#374151",marginBottom:"2px"},children:"Documento"}),i.jsx("input",{type:"text",placeholder:"N\xfamero do documento...",...er("documento"),style:{width:"100%",padding:"6px 8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",outline:"none"}})]})]}),(0,i.jsxs)("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end",marginTop:"6px",paddingTop:"8px",borderTop:"1px solid #e5e7eb"},children:[i.jsx("button",{type:"button",onClick:ey,style:{padding:"6px 16px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"12px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,i.jsxs)("button",{type:"submit",style:{padding:"6px 16px",backgroundColor:"#1555D6",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[D?"Atualizar":"Criar"," Transfer\xeancia"]})]})]})]})}),V.show&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>K({show:!1,id:null}),children:(0,i.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[i.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(g.Z,{style:{width:"28px",height:"28px",color:"#ef4444"}})}),i.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Excluir Transfer\xeancia"}),i.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",textAlign:"center",lineHeight:"1.5"},children:"Tem certeza que deseja excluir esta transfer\xeancia? Esta a\xe7\xe3o n\xe3o pode ser desfeita e remover\xe1 ambos os movimentos (sa\xedda e entrada)."}),(0,i.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[i.jsx("button",{onClick:()=>K({show:!1,id:null}),style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),i.jsx("button",{onClick:ev,style:{flex:1,padding:"12px 24px",backgroundColor:"#ef4444",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseOut:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Excluir"})]})]})}),J.show&&i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>Q({show:!1,message:""}),children:(0,i.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[i.jsx("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"warning"===J.type?"#fef3c7":"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:"warning"===J.type?i.jsx(s.Z,{style:{width:"28px",height:"28px",color:"#f59e0b"}}):i.jsx(l.Z,{style:{width:"28px",height:"28px",color:"#ef4444"}})}),i.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Aten\xe7\xe3o"}),i.jsx("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px",textAlign:"center",lineHeight:"1.5"},children:J.message}),i.jsx("button",{onClick:()=>Q({show:!1,message:""}),style:{width:"100%",padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]})}),i.jsx("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:$.map(e=>{let{borderColor:o,icon:t,iconColor:n}=eh(e.type);return(0,i.jsxs)("div",{style:{backgroundColor:"white",borderTop:`4px solid ${o}`,padding:e.requiresConfirmation?"20px":"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:e.requiresConfirmation?"column":"row",alignItems:e.requiresConfirmation?"stretch":"center",gap:e.requiresConfirmation?"16px":"12px",minWidth:"400px",animation:"scaleIn 0.3s ease-out",pointerEvents:e.requiresConfirmation?"auto":"none"},children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[i.jsx(t,{style:{width:"24px",height:"24px",flexShrink:0,color:n}}),i.jsx("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151",lineHeight:"1.5"},children:e.message})]}),e.requiresConfirmation&&i.jsx("button",{onClick:()=>em(e.id),style:{padding:"10px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s",alignSelf:"center",minWidth:"100px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]},e.id)})}),i.jsx("style",{children:`
        @keyframes spin {
          to { transform: rotate(360deg); }
        }
        @keyframes scaleIn {
          from {
            transform: scale(0.8);
            opacity: 0;
          }
          to {
            transform: scale(1);
            opacity: 1;
          }
        }
        @keyframes slideIn {
          from {
            transform: translateX(100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        
        /* Tooltips customizados */
        .tooltip-btn[data-tooltip] {
          position: relative;
        }
        
        .tooltip-btn[data-tooltip]::before {
          content: attr(data-tooltip);
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%) translateY(-4px);
          padding: 4px 8px;
          background-color: #1f2937;
          color: white;
          font-size: 11px;
          font-weight: 500;
          white-space: nowrap;
          border-radius: 4px;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s, transform 0.2s;
          z-index: 1000;
        }
        
        .tooltip-btn[data-tooltip]::after {
          content: "";
          position: absolute;
          bottom: 100%;
          left: 50%;
          transform: translateX(-50%) translateY(2px);
          border: 4px solid transparent;
          border-top-color: #1f2937;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.2s, transform 0.2s;
          z-index: 1000;
        }
        
        .tooltip-btn[data-tooltip]:hover::before {
          opacity: 1;
          transform: translateX(-50%) translateY(-8px);
        }
        
        .tooltip-btn[data-tooltip]:hover::after {
          opacity: 1;
          transform: translateX(-50%) translateY(-2px);
        }
      `})]})}},30361:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});let i=(0,t(62881).Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},69669:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});let i=(0,t(62881).Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},21405:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});let i=(0,t(62881).Z)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},29163:(e,o,t)=>{"use strict";t.d(o,{Z:()=>i});let i=(0,t(62881).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},35561:(e,o,t)=>{"use strict";t.r(o),t.d(o,{$$typeof:()=>a,__esModule:()=>r,default:()=>s});var i=t(68570);let n=(0,i.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\transferencias\page.tsx`),{__esModule:r,$$typeof:a}=n;n.default;let s=(0,i.createProxy)(String.raw`C:\Projetos\app-sodcapital\app\financeiro\transferencias\page.tsx#default`)}};var o=require("../../../webpack-runtime.js");o.C(e);var t=e=>o(o.s=e),i=o.X(0,[377,904,199,109,93],()=>t(90409));module.exports=i})();