(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{27710:function(e,o,t){Promise.resolve().then(t.bind(t,97101))},97101:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return S}});var r=t(57437),n=t(2265),a=t(1180),i=t(92940),l=t(36127),s=t(71935),d=t(92513),c=t(54817),p=t(74697),u=t(18422),x=t(10883),g=t(39343),b=t(31885),f=t(80537);function h(e){var o,t,i;let{value:l,onChange:s,sentidoFilter:d,error:c}=e,[p,u]=(0,n.useState)([]),[x,g]=(0,n.useState)(!0),[b,f]=(0,n.useState)(""),[h,m]=(0,n.useState)(""),[y,j]=(0,n.useState)(""),[v,C]=(0,n.useState)(""),[_,S]=(0,n.useState)([]),[w,T]=(0,n.useState)([]),[k,D]=(0,n.useState)([]),[z,O]=(0,n.useState)([]);(0,n.useEffect)(()=>{E()},[]),(0,n.useEffect)(()=>{p.length>0&&I()},[d,p]),(0,n.useEffect)(()=>{if(l&&p.length>0){let e=p.find(e=>e.id===l);e&&(f(e.tipo_fluxo),m(e.grupo),j(e.categoria),C(e.subcategoria),R(e))}else l||B()},[l,p]);let E=async()=>{try{let{data:e,error:o}=await a.O.from("plano_contas_fluxo").select("*").eq("ativo",!0).order("tipo_fluxo",{ascending:!0}).order("grupo",{ascending:!0}).order("categoria",{ascending:!0}).order("subcategoria",{ascending:!0});if(o)throw o;u(e||[])}catch(e){console.error("Erro ao carregar plano de contas:",e)}finally{g(!1)}},R=e=>{let o=p;d&&(o=p.filter(e=>e.sentido===d)),S(Array.from(new Set(o.map(e=>e.tipo_fluxo))).sort());let t=p.filter(o=>o.tipo_fluxo===e.tipo_fluxo);d&&(t=t.filter(e=>e.sentido===d)),T(Array.from(new Set(t.map(e=>e.grupo))).sort());let r=p.filter(o=>o.tipo_fluxo===e.tipo_fluxo&&o.grupo===e.grupo);d&&(r=r.filter(e=>e.sentido===d)),D(Array.from(new Set(r.map(e=>e.categoria))).sort());let n=p.filter(o=>o.tipo_fluxo===e.tipo_fluxo&&o.grupo===e.grupo&&o.categoria===e.categoria);d&&(n=n.filter(e=>e.sentido===d)),O(Array.from(new Set(n.map(e=>e.subcategoria))).sort())},B=()=>{f(""),m(""),j(""),C(""),T([]),D([]),O([])},I=()=>{let e=p;d&&(e=p.filter(e=>e.sentido===d)),S(Array.from(new Set(e.map(e=>e.tipo_fluxo))).sort()),l||B()},A=e=>{if(f(e),m(""),j(""),C(""),s(""),!e){T([]),D([]),O([]);return}let o=p.filter(o=>o.tipo_fluxo===e);d&&(o=o.filter(e=>e.sentido===d)),T(Array.from(new Set(o.map(e=>e.grupo))).sort()),D([]),O([])},W=e=>{if(m(e),j(""),C(""),s(""),!e){D([]),O([]);return}let o=p.filter(o=>o.tipo_fluxo===b&&o.grupo===e);d&&(o=o.filter(e=>e.sentido===d)),D(Array.from(new Set(o.map(e=>e.categoria))).sort()),O([])},F=e=>{if(j(e),C(""),s(""),!e){O([]);return}let o=p.filter(o=>o.tipo_fluxo===b&&o.grupo===h&&o.categoria===e);d&&(o=o.filter(e=>e.sentido===d)),O(Array.from(new Set(o.map(e=>e.subcategoria))).sort())},L=e=>{if(C(e),!e){s("");return}let o=p.find(o=>o.tipo_fluxo===b&&o.grupo===h&&o.categoria===y&&o.subcategoria===e);d&&o&&(o=p.find(o=>o.tipo_fluxo===b&&o.grupo===h&&o.categoria===y&&o.subcategoria===e&&o.sentido===d)),o&&s(o.id)};if(x)return(0,r.jsx)("div",{style:{padding:"20px",textAlign:"center",color:"#6b7280"},children:"Carregando plano de contas..."});let M={width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer",backgroundColor:"white"},q={...M,backgroundColor:"#f9fafb",cursor:"not-allowed",opacity:.6};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo de Fluxo"}),(0,r.jsxs)("select",{value:b,onChange:e=>A(e.target.value),style:M,onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),_.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Grupo"}),(0,r.jsxs)("select",{value:h,onChange:e=>W(e.target.value),disabled:!b,style:b?M:q,onFocus:e=>{b&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),w.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Categoria"}),(0,r.jsxs)("select",{value:y,onChange:e=>F(e.target.value),disabled:!h,style:h?M:q,onFocus:e=>{h&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),k.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Subcategoria"}),(0,r.jsxs)("select",{value:v,onChange:e=>L(e.target.value),disabled:!y,style:y?M:q,onFocus:e=>{y&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),z.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]}),l&&(0,r.jsxs)("div",{style:{marginTop:"12px",padding:"12px",backgroundColor:"#f0f9ff",border:"1px solid #bfdbfe",borderRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["C\xf3digo Financeiro:"," "]}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:null===(o=p.find(e=>e.id===l))||void 0===o?void 0:o.codigo_conta})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:["Plano Cont\xe1bil:"," "]}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"700",color:"#1e3a8a",fontFamily:"monospace"},children:(null===(t=p.find(e=>e.id===l))||void 0===t?void 0:t.cod_cont)||"1.00.000.001"}),(0,r.jsxs)("span",{style:{fontSize:"12px",fontWeight:"500",color:"#1e40af"},children:[" ","- ",(null===(i=p.find(e=>e.id===l))||void 0===i?void 0:i.conta_cont)||"Em Desenvolvimento"]})]})]}),c&&(0,r.jsx)("p",{style:{marginTop:"6px",fontSize:"12px",color:"#ef4444",fontWeight:"500"},children:c})]})}let m=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),y=e=>{let o=e.replace(/\D/g,"");if(!o)return"";let t=parseInt(o,10)/100;return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)},j=e=>e&&parseFloat(e.replace(/\./g,"").replace(",","."))||0,v=e=>e?e.split("T")[0]:"",C=f.Ry({tipo:f.Km(["Entrada","Saida"],{required_error:"Tipo \xe9 obrigat\xf3rio"}),empresa_id:f.Z_().min(1,"Empresa \xe9 obrigat\xf3ria"),projeto_id:f.Z_().min(1,"Projeto \xe9 obrigat\xf3rio"),subprojeto_id:f.Z_().optional(),banco_conta_id:f.Z_().min(1,"Conta banc\xe1ria \xe9 obrigat\xf3ria"),contraparte_id:f.Z_().min(1,"Contraparte \xe9 obrigat\xf3ria"),plano_conta_id:f.Z_().min(1,"Plano de conta \xe9 obrigat\xf3rio"),valor_bruto:f.oQ.number().min(.01,"Valor bruto \xe9 obrigat\xf3rio"),data_emissao:f.Z_().min(1,"Data de emiss\xe3o \xe9 obrigat\xf3ria"),data_vencimento:f.Z_().min(1,"Data de vencimento \xe9 obrigat\xf3ria"),data_previsao_pagamento:f.Z_().optional(),documento_tipo:f.Z_().optional(),documento_numero:f.Z_().optional(),observacoes:f.Z_().optional()}),_=[{value:"IRRF",label:"IRRF"},{value:"INSS",label:"INSS"},{value:"ISSQN",label:"ISSQN"},{value:"PIS",label:"PIS"},{value:"COFINS",label:"COFINS"},{value:"CSLL",label:"CSLL"},{value:"OUTRO",label:"Outro"}];function S(){var e;let[o,t]=(0,n.useState)([]),[f,S]=(0,n.useState)([]),[w,T]=(0,n.useState)([]),[k,D]=(0,n.useState)([]),[z,O]=(0,n.useState)([]),[E,R]=(0,n.useState)([]),[B,I]=(0,n.useState)(!0),[A,W]=(0,n.useState)(!1),[F,L]=(0,n.useState)(null),[M,q]=(0,n.useState)(!1),[N,P]=(0,n.useState)(0),[Z,V]=(0,n.useState)(!0),[G,X]=(0,n.useState)(!1),[J,H]=(0,n.useState)(""),[Y,Q]=(0,n.useState)(""),[U,K]=(0,n.useState)(""),[$,ee]=(0,n.useState)(""),[eo,et]=(0,n.useState)(""),[er,en]=(0,n.useState)(""),[ea,ei]=(0,n.useState)(""),[el,es]=(0,n.useState)(""),[ed,ec]=(0,n.useState)([]),[ep,eu]=(0,n.useState)(0),[ex,eg]=(0,n.useState)(""),[eb,ef]=(0,n.useState)(0),[eh,em]=(0,n.useState)([]),[ey,ej]=(0,n.useState)(0),[ev,eC]=(0,n.useState)({show:!1,id:null}),[e_,eS]=(0,n.useState)({show:!1,id:null}),[ew,eT]=(0,n.useState)(""),{register:ek,handleSubmit:eD,reset:ez,formState:{errors:eO},setValue:eE,watch:eR}=(0,g.cI)({resolver:(0,b.F)(C),defaultValues:{tipo:"Saida",empresa_id:"",projeto_id:"",subprojeto_id:"",banco_conta_id:"",contraparte_id:"",plano_conta_id:"",valor_bruto:0,data_emissao:"",data_vencimento:"",data_previsao_pagamento:"",documento_tipo:"",documento_numero:"",observacoes:""}}),eB=eR("empresa_id"),eI=eR("projeto_id"),eA=eR("tipo"),eW=(e,o)=>{ej(e=>e+1);let t={id:ey,message:e,type:o};em(e=>[...e,t]),setTimeout(()=>{em(e=>e.filter(e=>e.id!==ey))},"warning"===o?2e3:3e3)},eF=(e,o)=>{ej(e=>e+1);let t={id:ey,message:e,type:o,requiresConfirmation:!0};em(e=>[...e,t])},eL=e=>{em(o=>o.filter(o=>o.id!==e))},eM=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:i.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#eab308",icon:l.Z,iconColor:"#eab308"};case"error":return{borderColor:"#ef4444",icon:s.Z,iconColor:"#ef4444"}}};(0,n.useEffect)(()=>{eq(),eG(),eX(!0)},[]),(0,n.useEffect)(()=>{$&&eZ($),et("")},[$]),(0,n.useEffect)(()=>{eB&&(eN(eB),eV(eB),F||(eE("projeto_id",""),eE("subprojeto_id",""),eE("banco_conta_id",""),D([])))},[eB,F]),(0,n.useEffect)(()=>{eI?(eP(eI),F||eE("subprojeto_id","")):F||(D([]),eE("subprojeto_id",""))},[eI,F]),(0,n.useEffect)(()=>{ef(Math.max(0,ep-ed.reduce((e,o)=>e+(o.valor||0),0)))},[ep,ed]),(0,n.useEffect)(()=>{(ea||el)&&(P(0),V(!0),t([]),eX(!0))},[ea,el]),(0,n.useEffect)(()=>{let e=()=>{window.innerHeight+document.documentElement.scrollTop>=document.documentElement.offsetHeight-200&&!G&&Z&&!B&&eJ()};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[G,Z,B]);let eq=async()=>{try{console.log("\uD83D\uDD0D [FILTRO] Carregando empresas...");let{data:e,error:o}=await a.O.from("empresas").select("id, nome").order("nome",{ascending:!0});if(o)throw console.error("❌ [FILTRO] Erro na query:",o),o;console.log("✅ [FILTRO] Empresas carregadas:",null==e?void 0:e.length),console.log("\uD83D\uDCCB [FILTRO] Primeiras 3:",null==e?void 0:e.slice(0,3)),S(e||[])}catch(e){console.error("❌ [FILTRO] Erro ao carregar empresas:",e),S([])}},eN=async e=>{try{console.log("\uD83D\uDD0D Carregando projetos para empresa:",e);let{data:o,error:t}=await a.O.from("projetos").select("id, empresa_id, nome, projeto_pai_id").eq("empresa_id",e).eq("ativo",!0).is("projeto_pai_id",null).order("nome",{ascending:!0});if(t)throw t;T(o||[]),console.log("✅ Projetos carregados:",null==o?void 0:o.length)}catch(e){console.error("❌ Erro ao carregar projetos:",e),eW("Erro ao carregar projetos","error")}},eP=async e=>{try{let{data:o,error:t}=await a.O.from("projetos").select("id, empresa_id, nome, projeto_pai_id").eq("projeto_pai_id",e).order("nome",{ascending:!0});if(t)throw t;D(o||[])}catch(e){console.error("Erro ao carregar subprojetos:",e),eW("Erro ao carregar subprojetos","error")}},eZ=async e=>{try{let{data:o,error:t}=await a.O.from("projetos").select("id, empresa_id, nome, projeto_pai_id").eq("empresa_id",e).order("nome",{ascending:!0});if(t)throw t;T(o||[])}catch(e){console.error("Erro ao carregar projetos:",e)}},eV=async e=>{try{let{data:o,error:t}=await a.O.from("bancos_contas").select("\n          id, \n          empresa_id, \n          banco_nome, \n          agencia, \n          numero_conta, \n          tipo_conta,\n          bancos(nome)\n        ").eq("empresa_id",e).eq("tipo_conta","CC").eq("ativo",!0);if(t)throw t;let r=(o||[]).map(e=>{var o;return{...e,nome_banco:(null===(o=e.bancos)||void 0===o?void 0:o.nome)||e.banco_nome||""}}).filter((e,o,t)=>o===t.findIndex(o=>o.id===e.id));O(r)}catch(e){console.error("Erro ao carregar contas banc\xe1rias:",e),eW("Erro ao carregar contas banc\xe1rias","error")}},eG=async()=>{try{let e=[],o=0,t=!0,r=0;for(console.log("\uD83D\uDCE6 Iniciando carregamento de contrapartes em lotes...");t;){let{data:n,error:i,count:l}=await a.O.from("contrapartes").select("id, nome, apelido",{count:"exact"}).eq("ativo",!0).range(o,o+1e3-1).order("nome",{ascending:!0});if(i)throw i;if(null!==l&&0===r&&(r=l,console.log("\uD83D\uDCCA Total de contrapartes dispon\xedveis: ".concat(r))),n&&n.length>0?(e=[...e,...n],o+=1e3,t=1e3===n.length,console.log("\uD83D\uDCE6 Lote carregado: ".concat(n.length," registros (total acumulado: ").concat(e.length,"/").concat(r,")"))):t=!1,o>=2e4){console.warn("⚠️ Limite de seguran\xe7a atingido (20.000 registros)");break}}console.log("✅ Total de contrapartes carregadas: ".concat(e.length," de ").concat(r)),R(e)}catch(e){console.error("❌ Erro ao carregar contrapartes:",e),eW("Erro ao carregar contrapartes","error")}},eX=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=e?0:N;e?(I(!0),t([]),P(0)):X(!0);try{let{data:n}=await a.O.from("empresas").select("id, nome"),{data:i}=await a.O.from("projetos").select("id, nome"),l=[],s=0,d=!0;for(console.log("\uD83D\uDCE6 [LANCAMENTOS] Carregando todas contrapartes em lotes...");d;){let{data:e}=await a.O.from("contrapartes").select("id, nome, apelido").range(s,s+1e3-1);if(e&&e.length>0?(l=[...l,...e],s+=1e3,d=1e3===e.length,console.log("\uD83D\uDCE6 [LANCAMENTOS] Lote: ".concat(e.length," (total: ").concat(l.length,")"))):d=!1,s>=2e4)break}let{data:c}=await a.O.from("plano_contas_fluxo").select("id, codigo_conta, categoria, subcategoria, tipo_fluxo, sentido"),p=a.O.from("lancamentos").select("*",{count:"exact"}).order("data_vencimento",{ascending:!1}).order("created_at",{ascending:!1}),u=ea||el;if(u)ea&&(p=p.gte("data_vencimento",ea)),el&&(p=p.lte("data_vencimento",el)),console.log("\uD83D\uDCC5 [FILTRO DATA] Carregando todos os registros do per\xedodo");else{let e=50*r,o=e+50-1;p=p.range(e,o),console.log("\uD83D\uDCC4 [PAGINA\xc7\xc3O] Carregando registros ".concat(e," a ").concat(o))}let{data:x,error:g,count:b}=await p;if(g)throw g;if(u)V(!1);else{let t=e?(null==x?void 0:x.length)||0:o.length+((null==x?void 0:x.length)||0);V(!!b&&t<b),console.log("\uD83D\uDCCA Total carregado: ".concat(t," de ").concat(b," | Tem mais? ").concat(t<(b||0)))}let f=(x||[]).map(e=>e.id),{data:h}=await a.O.from("lancamento_retencoes").select("*").in("lancamento_id",f);console.log("✅ Total de contrapartes carregadas para mapeamento: ".concat(l.length));let m=(x||[]).map(e=>{let o=null==n?void 0:n.find(o=>o.id===e.empresa_id),t=null==i?void 0:i.find(o=>o.id===e.projeto_id),r=null==i?void 0:i.find(o=>o.id===e.subprojeto_id),a=null==l?void 0:l.find(o=>o.id===e.contraparte_id);e.contraparte_id&&!a&&console.warn("⚠️ Contraparte n\xe3o encontrada: ".concat(e.contraparte_id));let s=null==c?void 0:c.find(o=>o.id===e.plano_conta_id),d=(null==h?void 0:h.filter(o=>o.lancamento_id===e.id))||[];return{...e,empresa_nome:(null==o?void 0:o.nome)||"Sem empresa",projeto_nome:(null==t?void 0:t.nome)||"",subprojeto_nome:(null==r?void 0:r.nome)||"",contraparte_nome:(null==a?void 0:a.nome)||"",plano_conta:s||null,retencoes:d}});e?t(m):(t(e=>[...e,...m]),P(r+1))}catch(e){console.error("Erro ao carregar lan\xe7amentos:",e),eW("Erro ao carregar lan\xe7amentos","error")}finally{I(!1),X(!1)}},eJ=async()=>{!G&&Z&&(console.log("\uD83D\uDCC4 Carregando mais lan\xe7amentos..."),await eX(!1))},eH=async e=>{try{if(ed.length>0){let e=ed.map(e=>e.imposto),o=new Set(e);if(e.length!==o.size){let o=[];e.forEach((t,r)=>{e.indexOf(t)===r||o.includes(t)||o.push(t)});let t=o.join(", ");eF("N\xe3o \xe9 permitido adicionar reten\xe7\xf5es duplicadas. Imposto(s) duplicado(s): ".concat(t),"warning");return}}let o="ABERTO";if(F&&M){let{data:e}=await a.O.from("lancamentos").select("status").eq("id",F).single();e&&"PAGO_RECEBIDO"===e.status&&(o="PAGO_RECEBIDO")}let t={tipo:e.tipo,empresa_id:e.empresa_id,projeto_id:e.projeto_id||null,subprojeto_id:e.subprojeto_id||null,banco_conta_id:e.banco_conta_id||null,contraparte_id:e.contraparte_id||null,plano_conta_id:e.plano_conta_id,valor_bruto:ep,valor_liquido:eb,data_emissao:e.data_emissao||null,data_vencimento:e.data_vencimento,data_previsao_pagamento:e.data_previsao_pagamento||null,data_liquidacao:null,status:o,documento_tipo:e.documento_tipo||null,documento_numero:e.documento_numero||null,observacoes:e.observacoes||null};if(F){let{error:e}=await a.O.from("lancamentos").update(t).eq("id",F);if(e)throw e;if(await a.O.from("lancamento_retencoes").delete().eq("lancamento_id",F),ed.length>0){let e=ed.filter(e=>e.valor>0).map(e=>({lancamento_id:F,imposto:e.imposto,valor:e.valor,detalhe:e.detalhe||null}));if(e.length>0){let{error:o}=await a.O.from("lancamento_retencoes").insert(e);if(o)throw o}}eW("Lan\xe7amento atualizado com sucesso!","success")}else{let{data:e,error:o}=await a.O.from("lancamentos").insert([t]).select().single();if(o)throw o;if(ed.length>0&&e){let o=ed.filter(e=>e.valor>0).map(o=>({lancamento_id:e.id,imposto:o.imposto,valor:o.valor,detalhe:o.detalhe||null}));if(o.length>0){let{error:e}=await a.O.from("lancamento_retencoes").insert(o);if(e)throw e}}eW("Lan\xe7amento criado com sucesso!","success")}eX(!0),e$()}catch(e){console.error("Erro ao salvar lan\xe7amento:",e),eW(e.message||"Erro ao salvar lan\xe7amento","error")}},eY=async e=>{try{console.log("\uD83D\uDD0D [EDIT] Iniciando edi\xe7\xe3o:",{id:e.id,empresa_id:e.empresa_id,projeto_id:e.projeto_id,subprojeto_id:e.subprojeto_id}),L(e.id),q("PAGO_RECEBIDO"===e.status),e.empresa_id&&(await Promise.all([eN(e.empresa_id),eV(e.empresa_id)]),console.log("✅ [EDIT] Projetos e contas carregados"),e.projeto_id&&(await eP(e.projeto_id),console.log("✅ [EDIT] Subprojetos carregados")),await new Promise(e=>setTimeout(e,500))),console.log("\uD83D\uDD0D [EDIT] Populando formul\xe1rio com reset()"),ez({tipo:e.tipo,empresa_id:e.empresa_id,projeto_id:e.projeto_id||"",subprojeto_id:e.subprojeto_id||"",banco_conta_id:e.banco_conta_id||"",contraparte_id:e.contraparte_id||"",plano_conta_id:e.plano_conta_id,valor_bruto:e.valor_bruto,data_emissao:v(e.data_emissao),data_vencimento:v(e.data_vencimento),data_previsao_pagamento:v(e.data_previsao_pagamento),documento_tipo:e.documento_tipo||"",documento_numero:e.documento_numero||"",observacoes:e.observacoes||""}),console.log("✅ [EDIT] Formul\xe1rio populado"),eu(e.valor_bruto);let o=Math.round(100*e.valor_bruto);eg(y(o.toString()));let t=(e.retencoes||[]).map(e=>{let o=Math.round(100*e.valor);return{...e,valorFormatado:y(o.toString())}});ec(t),W(!0)}catch(e){console.error("Erro ao editar lan\xe7amento:",e),eW("Erro ao carregar dados para edi\xe7\xe3o","error")}},eQ=async e=>{try{await a.O.from("lancamento_retencoes").delete().eq("lancamento_id",e);let{error:o}=await a.O.from("lancamentos").delete().eq("id",e);if(o)throw o;eW("Lan\xe7amento exclu\xeddo com sucesso!","success"),eX(!0),eC({show:!1,id:null})}catch(e){console.error("Erro ao excluir lan\xe7amento:",e),eW("Erro ao excluir lan\xe7amento","error")}},eU=async()=>{if(e_.id&&ew)try{let{error:e}=await a.O.from("lancamentos").update({status:"PAGO_RECEBIDO",data_liquidacao:ew}).eq("id",e_.id);if(e)throw e;eW("Lan\xe7amento liquidado com sucesso!","success"),eX(!0),eS({show:!1,id:null}),eT("")}catch(e){console.error("Erro ao liquidar lan\xe7amento:",e),eW("Erro ao liquidar lan\xe7amento","error")}},eK=async e=>{try{let{error:o}=await a.O.from("lancamentos").update({status:"CANCELADO"}).eq("id",e);if(o)throw o;eW("Lan\xe7amento cancelado com sucesso!","success"),eX(!0)}catch(e){console.error("Erro ao cancelar lan\xe7amento:",e),eW("Erro ao cancelar lan\xe7amento","error")}},e$=()=>{W(!1),L(null),q(!1),ec([]),eu(0),eg(""),ef(0),D([]),T([]),O([]),ez()},e0=e=>{ec(ed.filter((o,t)=>t!==e))},e1=(e,o,t)=>{let r=[...ed];r[e]={...r[e],[o]:t},ec(r)},e5=(e,o)=>{let t=[...ed];t[e]={...t[e],valorFormatado:o,valor:j(o)},ec(t)},e2=o.filter(e=>{var o,t,r;let n=(null===(o=e.documento_numero)||void 0===o?void 0:o.toLowerCase().includes(J.toLowerCase()))||(null===(t=e.observacoes)||void 0===t?void 0:t.toLowerCase().includes(J.toLowerCase()))||(null===(r=e.contraparte_nome)||void 0===r?void 0:r.toLowerCase().includes(J.toLowerCase())),a=!Y||e.tipo===Y,i=!U||e.status===U,l=!$||e.empresa_id===$,s=!eo||e.projeto_id===eo,d=!er||e.contraparte_id===er,c=!0;if(ea&&el){let o=new Date(e.data_vencimento),t=new Date(ea),r=new Date(el);c=o>=t&&o<=r}return n&&a&&i&&l&&s&&d&&c}),e6=e=>{switch(e){case"ABERTO":return{bg:"#fef3c7",color:"#92400e",label:"Aberto"};case"PAGO_RECEBIDO":return{bg:"#d1fae5",color:"#065f46",label:"Pago/Recebido"};case"CANCELADO":return{bg:"#fee2e2",color:"#991b1b",label:"Cancelado"};default:return{bg:"#f3f4f6",color:"#374151",label:e}}},e4=e=>"Entrada"===e?{bg:"#d1fae5",color:"#065f46",label:"Recebimento"}:{bg:"#fee2e2",color:"#991b1b",label:"Pagamento"};return(0,r.jsxs)("div",{style:{padding:"32px",maxWidth:"1600px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,r.jsx)("h1",{style:{fontSize:"24px",fontWeight:"600",color:"#1f2937",margin:0},children:"Lan\xe7amentos (AP/AR)"}),(0,r.jsxs)("button",{onClick:()=>{L(null),ec([]),eu(0),eg(""),ef(0),D([]),T([]),O([]),ez({tipo:"Saida",empresa_id:"",projeto_id:"",subprojeto_id:"",banco_conta_id:"",contraparte_id:"",plano_conta_id:"",valor_bruto:0,data_emissao:"",data_vencimento:"",data_previsao_pagamento:"",documento_tipo:"",documento_numero:"",observacoes:""}),W(!0)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[(0,r.jsx)(d.Z,{size:18}),"Novo Lan\xe7amento"]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 1.5fr",gap:"12px",marginBottom:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento (De)"}),(0,r.jsx)("input",{type:"date",value:ea,onChange:e=>ei(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>e.currentTarget.style.borderColor="#1555D6",onBlur:e=>e.currentTarget.style.borderColor="#e5e7eb"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Vencimento (At\xe9)"}),(0,r.jsx)("input",{type:"date",value:el,onChange:e=>es(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>e.currentTarget.style.borderColor="#1555D6",onBlur:e=>e.currentTarget.style.borderColor="#e5e7eb"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo"}),(0,r.jsxs)("select",{value:Y,onChange:e=>Q(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},onFocus:e=>e.currentTarget.style.borderColor="#1555D6",onBlur:e=>e.currentTarget.style.borderColor="#e5e7eb",children:[(0,r.jsx)("option",{value:"",children:"Todos"}),(0,r.jsx)("option",{value:"Entrada",children:"Recebimento"}),(0,r.jsx)("option",{value:"Saida",children:"Pagamento"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Status"}),(0,r.jsxs)("select",{value:U,onChange:e=>K(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},onFocus:e=>e.currentTarget.style.borderColor="#1555D6",onBlur:e=>e.currentTarget.style.borderColor="#e5e7eb",children:[(0,r.jsx)("option",{value:"",children:"Todos"}),(0,r.jsx)("option",{value:"ABERTO",children:"Aberto"}),(0,r.jsx)("option",{value:"PAGO_RECEBIDO",children:"Pago/Recebido"}),(0,r.jsx)("option",{value:"CANCELADO",children:"Cancelado"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:$,onChange:e=>ee(e.target.value),style:{width:"100%",padding:"8px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},onFocus:e=>e.currentTarget.style.borderColor="#1555D6",onBlur:e=>e.currentTarget.style.borderColor="#e5e7eb",children:[(0,r.jsx)("option",{value:"",children:"Todas"}),f.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:"12px",marginBottom:"12px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Buscar"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)(c.Z,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#9ca3af"}}),(0,r.jsx)("input",{type:"text",placeholder:"Doc, obs, contraparte...",value:J,onChange:e=>H(e.target.value),style:{width:"100%",padding:"8px 10px 8px 34px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>e.currentTarget.style.borderColor="#1555D6",onBlur:e=>e.currentTarget.style.borderColor="#e5e7eb"})]})]}),(0,r.jsx)("div",{style:{display:"flex",alignItems:"flex-end"},children:(0,r.jsxs)("button",{onClick:()=>{P(0),V(!0),t([]),eX(!0)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap",height:"37px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,r.jsx)("path",{d:"M21 2v6h-6M3 12a9 9 0 0 1 15-6.7L21 8M3 22v-6h6M21 12a9 9 0 0 1-15 6.7L3 16"})}),"Atualizar"]})})]})]}),A&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",overflowY:"auto",backdropFilter:"blur(4px)"},onClick:e$,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"12px",width:"100%",maxWidth:"1200px",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",margin:"20px 0"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{style:{position:"sticky",top:0,backgroundColor:"white",borderBottom:"1px solid #e5e7eb",padding:"16px 20px",borderTopLeftRadius:"12px",borderTopRightRadius:"12px",zIndex:10},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",margin:0},children:F?"Editar Lan\xe7amento":"Novo Lan\xe7amento"}),(0,r.jsx)("button",{onClick:e$,style:{background:"none",border:"none",fontSize:"24px",color:"#9ca3af",cursor:"pointer",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"6px",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f3f4f6",e.currentTarget.style.color="#6b7280"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#9ca3af"},children:"\xd7"})]})}),(0,r.jsx)("div",{style:{padding:"18px"},children:(0,r.jsxs)("form",{onSubmit:eD(eH,e=>{let o=[];Object.keys(e).forEach(t=>{var r;(null===(r=e[t])||void 0===r?void 0:r.message)&&o.push(e[t].message)}),o.length>0&&eF(o.join(" • "),"warning")}),children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 120px 1fr 1fr",gap:"12px",marginBottom:"14px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa *"}),(0,r.jsxs)("select",{...ek("empresa_id"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),f.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Projeto *"}),(0,r.jsxs)("select",{...ek("projeto_id"),disabled:!eB,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eB?"pointer":"not-allowed",opacity:eB?1:.6},onFocus:e=>{eB&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),w.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]},"projeto-".concat(F||"new","-").concat(eB))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Subprojeto"}),(0,r.jsxs)("select",{...ek("subprojeto_id"),disabled:!eI||0===k.length,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eI&&k.length>0?"pointer":"not-allowed",opacity:eI&&k.length>0?1:.6},onFocus:e=>{eI&&k.length>0&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),k.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]},"subprojeto-".concat(F||"new","-").concat(eI))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo *"}),(0,r.jsxs)("select",{...ek("tipo"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"Entrada",children:"Recebimento"}),(0,r.jsx)("option",{value:"Saida",children:"Pagamento"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Conta Banc\xe1ria *"}),(0,r.jsxs)("select",{...ek("banco_conta_id"),disabled:!eB,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:eB?"pointer":"not-allowed",opacity:eB?1:.6},onFocus:e=>{eB&&(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),z.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.nome_banco||"Banco"," - Ag: ",e.agencia," - Conta: ",e.numero_conta]},e.id))]},"banco-".concat(F||"new","-").concat(eB))]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Contraparte *"}),(0,r.jsxs)("select",{...ek("contraparte_id"),style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",cursor:"pointer"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},children:[(0,r.jsx)("option",{value:"",children:"Selecione"}),E.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]})]})]}),(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:(0,r.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginTop:0,marginBottom:"14px"},children:"Plano de Contas"})}),(0,r.jsx)("div",{style:{marginBottom:"14px"},children:(0,r.jsx)(h,{value:eR("plano_conta_id"),onChange:e=>eE("plano_conta_id",e),sentidoFilter:eA,error:null===(e=eO.plano_conta_id)||void 0===e?void 0:e.message},"plano-conta-".concat(F||"new","-").concat(eR("plano_conta_id")))}),(0,r.jsx)("div",{style:{borderTop:"1px solid #e5e7eb",margin:"16px 0",paddingTop:"16px"},children:(0,r.jsx)("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#1f2937",marginTop:0,marginBottom:"14px"},children:"Datas, Documentos e Valores"})}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr 0.8fr 0.6fr",gap:"12px",marginBottom:"14px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Emiss\xe3o *"}),(0,r.jsx)("input",{...ek("data_emissao"),type:"date",disabled:M,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Vencimento *"}),(0,r.jsx)("input",{...ek("data_vencimento"),type:"date",disabled:M,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Previs\xe3o Pgto"}),(0,r.jsx)("input",{...ek("data_previsao_pagamento"),type:"date",disabled:M,style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6"),e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Valor Bruto *"}),(0,r.jsxs)("div",{style:{position:"relative"},children:[(0,r.jsx)("span",{style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",fontSize:"13px",color:"#6b7280",fontWeight:"500"},children:"R$"}),(0,r.jsx)("input",{type:"text",value:ex,disabled:M,onChange:e=>{let o=y(e.target.value);eg(o);let t=j(o);eu(t),eE("valor_bruto",t)},style:{width:"100%",padding:"9px 10px 9px 32px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none",textAlign:"right",backgroundColor:M?"#f9fafb":"white",cursor:M?"not-allowed":"text",color:M?"#9ca3af":"#1f2937"},placeholder:"0,00",onFocus:e=>{M||(e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)")},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Tipo Doc"}),(0,r.jsx)("input",{...ek("documento_tipo"),type:"text",placeholder:"NF, Boleto...",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"N\xba Doc"}),(0,r.jsx)("input",{...ek("documento_numero"),type:"text",placeholder:"123456",style:{width:"100%",padding:"9px 10px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{marginBottom:"14px"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px"},children:[(0,r.jsx)("label",{style:{fontSize:"14px",fontWeight:"500",color:"#374151"},children:"Reten\xe7\xf5es"}),(0,r.jsxs)("button",{type:"button",onClick:()=>{ec([...ed,{imposto:"IRRF",valor:0,valorFormatado:"",detalhe:null}])},style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 12px",backgroundColor:"#f3f4f6",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#e5e7eb",onMouseOut:e=>e.currentTarget.style.backgroundColor="#f3f4f6",children:[(0,r.jsx)(d.Z,{size:14}),"Adicionar"]})]}),ed.length>0&&(0,r.jsx)("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:ed.map((e,o)=>(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"140px 1fr 1fr 40px",gap:"10px",padding:"10px",borderBottom:o<ed.length-1?"1px solid #e5e7eb":"none",alignItems:"center"},children:[(0,r.jsx)("select",{value:e.imposto,onChange:e=>e1(o,"imposto",e.target.value),style:{padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none"},children:_.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))}),(0,r.jsx)("input",{type:"text",value:e.valorFormatado||"",onChange:e=>{e5(o,y(e.target.value))},placeholder:"0,00",style:{padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none"}}),(0,r.jsx)("input",{type:"text",value:e.detalhe||"",onChange:e=>e1(o,"detalhe",e.target.value),placeholder:"Detalhe (opcional)",style:{padding:"8px",border:"1px solid #e5e7eb",borderRadius:"6px",fontSize:"13px",outline:"none"}}),(0,r.jsx)("button",{type:"button",onClick:()=>e0(o),style:{padding:"6px",backgroundColor:"transparent",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#fef2f2",e.currentTarget.style.borderColor="#fecaca"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#e5e7eb"},children:(0,r.jsx)(p.Z,{size:14,color:"#ef4444"})})]},o))})]}),(0,r.jsx)("div",{style:{padding:"12px",backgroundColor:"#f0fdf4",border:"1px solid #86efac",borderRadius:"8px",marginBottom:"14px"},children:(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"600",color:"#065f46"},children:"Valor L\xedquido:"}),(0,r.jsx)("span",{style:{fontSize:"18px",fontWeight:"700",color:"#059669"},children:m(eb)})]})}),(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Observa\xe7\xf5es"}),(0,r.jsx)("textarea",{...ek("observacoes"),rows:3,placeholder:"Informa\xe7\xf5es adicionais...",style:{width:"100%",padding:"10px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",resize:"vertical",fontFamily:"inherit"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",paddingTop:"4px"},children:[(0,r.jsx)("button",{type:"button",onClick:e$,style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",style:{flex:1,padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:F?"Atualizar":"Criar"})]})]})})]})}),(0,r.jsx)("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",overflow:"hidden"},children:B?(0,r.jsxs)("div",{style:{padding:"48px",textAlign:"center",color:"#6b7280"},children:[(0,r.jsx)("div",{style:{display:"inline-block",width:"32px",height:"32px",border:"3px solid #e5e7eb",borderTopColor:"#1555D6",borderRadius:"50%",animation:"spin 0.8s linear infinite"}}),(0,r.jsx)("p",{style:{marginTop:"16px",fontSize:"14px"},children:"Carregando lan\xe7amentos..."})]}):0===e2.length?(0,r.jsx)("div",{style:{padding:"48px",textAlign:"center",color:"#6b7280"},children:(0,r.jsx)("p",{style:{fontSize:"14px"},children:"Nenhum lan\xe7amento encontrado"})}):(0,r.jsxs)("div",{style:{overflowX:"auto"},children:[(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb"},children:[(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",width:"100px"},children:"Vencimento"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",width:"90px"},children:"Tipo"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Empresa"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"C\xf3digo Financeiro"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Contraparte"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",width:"110px"},children:"Bruto"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",width:"110px"},children:"Reten\xe7\xf5es"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",width:"110px"},children:"L\xedquido"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",width:"120px"},children:"Status"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"center",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",width:"160px"},children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:e2.map(e=>{let o=e6(e.status),t=e4(e.tipo),n=(e.retencoes||[]).reduce((e,o)=>e+o.valor,0);return(0,r.jsxs)("tr",{style:{borderTop:"1px solid #e5e7eb",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("td",{style:{padding:"12px 16px",color:"#374151",fontSize:"13px"},children:new Date(e.data_vencimento).toLocaleDateString("pt-BR")}),(0,r.jsx)("td",{style:{padding:"12px 16px"},children:(0,r.jsx)("span",{style:{display:"inline-block",padding:"3px 10px",fontSize:"11px",fontWeight:"500",borderRadius:"12px",backgroundColor:t.bg,color:t.color},children:t.label})}),(0,r.jsx)("td",{style:{padding:"12px 16px",color:"#374151",fontSize:"13px"},children:e.empresa_nome}),(0,r.jsx)("td",{style:{padding:"12px 16px",color:"#374151",fontSize:"13px"},children:e.plano_conta?(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontFamily:"monospace",fontWeight:"600",marginBottom:"4px"},children:e.plano_conta.codigo_conta}),(0,r.jsx)("div",{style:{fontSize:"11px",color:"#6b7280"},children:"Plano Cont\xe1bil: 1.00.000.001 - Descri\xe7\xe3o: Em Desenvolvimento"})]}):"-"}),(0,r.jsx)("td",{style:{padding:"12px 16px",color:"#6b7280",fontSize:"13px"},children:e.contraparte_nome||"-"}),(0,r.jsx)("td",{style:{padding:"12px 16px",textAlign:"right",color:"#374151",fontWeight:"500",fontSize:"13px"},children:m(e.valor_bruto)}),(0,r.jsx)("td",{style:{padding:"12px 16px",textAlign:"right",color:"#ef4444",fontSize:"13px"},children:n>0?"-".concat(m(n)):"-"}),(0,r.jsx)("td",{style:{padding:"12px 16px",textAlign:"right",color:"#059669",fontWeight:"600",fontSize:"13px"},children:m(e.valor_liquido)}),(0,r.jsx)("td",{style:{padding:"12px 16px",textAlign:"center"},children:(0,r.jsx)("span",{style:{display:"inline-block",padding:"3px 10px",fontSize:"11px",fontWeight:"500",borderRadius:"12px",backgroundColor:o.bg,color:o.color},children:o.label})}),(0,r.jsx)("td",{style:{padding:"12px 16px"},children:(0,r.jsxs)("div",{style:{display:"flex",gap:"6px",justifyContent:"center",flexWrap:"wrap"},children:[(0,r.jsx)("button",{onClick:()=>eY(e),disabled:"CANCELADO"===e.status,style:{padding:"6px",backgroundColor:"transparent",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"CANCELADO"===e.status?"not-allowed":"pointer",opacity:"CANCELADO"===e.status?.5:1,transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:o=>{"CANCELADO"!==e.status&&(o.currentTarget.style.backgroundColor="#f3f4f6")},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent"},title:"Editar",children:(0,r.jsx)(u.Z,{size:14,color:"#6b7280"})}),"ABERTO"===e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{eS({show:!0,id:e.id}),eT(new Date().toISOString().split("T")[0])},style:{padding:"6px",backgroundColor:"transparent",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#f0fdf4",e.currentTarget.style.borderColor="#86efac"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#e5e7eb"},title:"Liquidar",children:(0,r.jsx)(i.Z,{size:14,color:"#10b981"})}),(0,r.jsx)("button",{onClick:()=>{confirm("Tem certeza que deseja cancelar este lan\xe7amento?")&&eK(e.id)},style:{padding:"6px",backgroundColor:"transparent",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#fef3c7",e.currentTarget.style.borderColor="#fcd34d"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#e5e7eb"},title:"Cancelar",children:(0,r.jsx)(s.Z,{size:14,color:"#eab308"})}),(0,r.jsx)("button",{onClick:()=>eC({show:!0,id:e.id}),style:{padding:"6px",backgroundColor:"transparent",border:"1px solid #e5e7eb",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center"},onMouseOver:e=>{e.currentTarget.style.backgroundColor="#fef2f2",e.currentTarget.style.borderColor="#fecaca"},onMouseOut:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#e5e7eb"},title:"Excluir",children:(0,r.jsx)(x.Z,{size:14,color:"#ef4444"})})]})]})})]},e.id)})})]}),G&&(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"32px",backgroundColor:"#f9fafb"},children:[(0,r.jsx)("div",{style:{width:"32px",height:"32px",border:"3px solid #f3f4f6",borderTop:"3px solid #1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,r.jsx)("span",{style:{marginLeft:"12px",fontSize:"14px",color:"#6b7280",fontWeight:"500"},children:"Carregando mais lan\xe7amentos..."})]}),!B&&!G&&!Z&&o.length>0&&(0,r.jsx)("div",{style:{padding:"24px",textAlign:"center",fontSize:"14px",color:"#9ca3af",backgroundColor:"#f9fafb",borderTop:"1px solid #e5e7eb"},children:"Todos os lan\xe7amentos foram carregados"})]})}),ev.show&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>eC({show:!1,id:null}),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(l.Z,{style:{width:"28px",height:"28px",color:"#dc2626"}})}),(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Excluir Lan\xe7amento"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",textAlign:"center",marginBottom:"8px",lineHeight:"1.5"},children:"Tem certeza que deseja excluir este lan\xe7amento?"}),(0,r.jsx)("p",{style:{fontSize:"13px",color:"#ef4444",textAlign:"center",marginBottom:"24px",fontWeight:"500"},children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsx)("button",{onClick:()=>eC({show:!1,id:null}),style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{onClick:()=>ev.id&&eQ(ev.id),style:{flex:1,padding:"12px 24px",backgroundColor:"#dc2626",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#b91c1c",onMouseOut:e=>e.currentTarget.style.backgroundColor="#dc2626",children:"Sim, Excluir"})]})]})}),e_.show&&(0,r.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,backdropFilter:"blur(4px)"},onClick:()=>{eS({show:!1,id:null}),eT("")},children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#d1fae5",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(i.Z,{style:{width:"28px",height:"28px",color:"#10b981"}})}),(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Liquidar Lan\xe7amento"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"20px",textAlign:"center",lineHeight:"1.5"},children:"Confirme a data de pagamento/recebimento:"}),(0,r.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Data de Liquida\xe7\xe3o *"}),(0,r.jsx)("input",{type:"date",value:ew,onChange:e=>eT(e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsx)("button",{onClick:()=>{eS({show:!1,id:null}),eT("")},style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{onClick:eU,disabled:!ew,style:{flex:1,padding:"12px 24px",backgroundColor:ew?"#10b981":"#d1d5db",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:ew?"pointer":"not-allowed",transition:"all 0.2s"},onMouseOver:e=>{ew&&(e.currentTarget.style.backgroundColor="#059669")},onMouseOut:e=>{ew&&(e.currentTarget.style.backgroundColor="#10b981")},children:"Confirmar Liquida\xe7\xe3o"})]})]})}),(0,r.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:eh.map(e=>{let{borderColor:o,icon:t,iconColor:n}=eM(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:"4px solid ".concat(o),padding:e.requiresConfirmation?"20px":"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:e.requiresConfirmation?"column":"row",alignItems:e.requiresConfirmation?"stretch":"center",gap:e.requiresConfirmation?"16px":"12px",minWidth:"400px",maxWidth:"600px",animation:"scaleIn 0.3s ease-out",pointerEvents:e.requiresConfirmation?"auto":"none"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)(t,{style:{width:"24px",height:"24px",flexShrink:0,color:n}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151",lineHeight:"1.5"},children:e.message})]}),e.requiresConfirmation&&(0,r.jsx)("button",{onClick:()=>eL(e.id),style:{padding:"10px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s",alignSelf:"center",minWidth:"100px"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]},e.id)})}),(0,r.jsx)("style",{children:"\n    @keyframes spin {\n      to { transform: rotate(360deg); }\n    }\n    @keyframes scaleIn {\n      from {\n        transform: scale(0.8);\n        opacity: 0;\n      }\n      to {\n        transform: scale(1);\n        opacity: 1;\n      }\n    }\n  "})]})}},1180:function(e,o,t){"use strict";t.d(o,{O:function(){return r}});let r=(0,t(20046).eI)("https://tkefmbjqiljejkmwrwsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZWZtYmpxaWxqZWprbXdyd3N3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzEyODAsImV4cCI6MjA3NTg0NzI4MH0.fwV8APDBs7YTx3ap8km-qnhXOJx0EcXX0P68eLXgEsU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"sodcapital"}})},74697:function(e,o,t){"use strict";t.d(o,{Z:function(){return r}});let r=(0,t(78030).Z)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[46,176,971,23,744],function(){return e(e.s=27710)}),_N_E=e.O()}]);