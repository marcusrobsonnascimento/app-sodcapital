(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[297],{82904:function(e,t,o){Promise.resolve().then(o.bind(o,26470))},26470:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return z}});var r=o(57437),i=o(2265),n=o(1180),a=o(16463),l=o(51077),s=o(29162),d=o(53225),c=o(42421),p=o(87592),u=o(37164),x=o(65607),h=o(35231),f=o(25974),g=o(54142),m=o(2842),y=o(9542),b=o(85475),v=o(20153),j=o(45745);let w=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e),S=e=>null===e?"-":new Intl.NumberFormat("pt-BR",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(e/100),_=e=>e?new Date(e).toLocaleDateString("pt-BR"):"",C=()=>{let e=new Date().getFullYear(),t=[];for(let o=0;o<5;o++)t.push(e-o);return t},k=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function z(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),[o,z]=(0,i.useState)(!0),[E,R]=(0,i.useState)([]),[I,D]=(0,i.useState)([]),[A,T]=(0,i.useState)([]),[B,W]=(0,i.useState)([]),[O,Z]=(0,i.useState)([]),[M,q]=(0,i.useState)("ano"),[F,P]=(0,i.useState)(new Date().getFullYear()),[L,N]=(0,i.useState)(""),[Y,J]=(0,i.useState)(""),[V,U]=(0,i.useState)(""),[X,H]=(0,i.useState)(""),[G,K]=(0,i.useState)(0),[$,Q]=(0,i.useState)(0),[ee,et]=(0,i.useState)(0),[eo,er]=(0,i.useState)([]),[ei,en]=(0,i.useState)(0);(0,i.useEffect)(()=>{let e=t.get("tipoPeriodo"),o=t.get("ano"),r=t.get("dataInicial"),i=t.get("dataFinal"),n=t.get("empresa"),a=t.get("projeto");e&&q(e),o&&P(parseInt(o)),r&&N(r),i&&J(i),n&&U(n),a&&H(a)},[]),(0,i.useEffect)(()=>{ed()},[]),(0,i.useEffect)(()=>{V?ec(V):(D([]),H(""))},[V]),(0,i.useEffect)(()=>{ep()},[M,F,L,Y,V,X]);let ea=(e,t)=>{en(ei+1);let o={id:ei,message:e,type:t};er(e=>[...e,o]),setTimeout(()=>el(ei),3e3)},el=e=>{er(t=>t.filter(t=>t.id!==e))},es=e=>({success:{borderColor:"#10b981",icon:l.Z,iconColor:"#10b981"},error:{borderColor:"#ef4444",icon:s.Z,iconColor:"#ef4444"},warning:{borderColor:"#eab308",icon:d.Z,iconColor:"#eab308"}})[e],ed=async()=>{try{let{data:e,error:t}=await n.O.from("empresas").select("id, nome").order("nome",{ascending:!0});if(t)throw t;R(e||[])}catch(e){console.error("Erro ao carregar empresas:",e),ea("Erro ao carregar empresas","error")}},ec=async e=>{try{let{data:t,error:o}=await n.O.from("projetos").select("id, empresa_id, nome").eq("empresa_id",e).order("nome",{ascending:!0});if(o)throw o;D(t||[])}catch(e){console.error("Erro ao carregar projetos:",e),ea("Erro ao carregar projetos","error")}},ep=async()=>{try{z(!0);let e=n.O.from("lancamentos").select("\n          id,\n          tipo,\n          valor_bruto,\n          valor_liquido,\n          status,\n          data_liquidacao,\n          data_vencimento,\n          empresa_id,\n          projeto_id,\n          subcategoria_id\n        ").eq("status","PAGO_RECEBIDO");V&&(e=e.eq("empresa_id",V)),X&&(e=e.eq("projeto_id",X));let{data:t,error:o}=await e;if(o)throw o;let{data:r,error:i}=await n.O.from("pc_subcategorias").select("id, nome, categoria_id");if(i)throw i;let{data:a,error:l}=await n.O.from("pc_categorias").select("id, nome, grupo_id");if(l)throw l;let{data:s,error:d}=await n.O.from("pc_grupos").select("id, nome, tipo_id");if(d)throw d;let{data:c,error:p}=await n.O.from("pc_tipos").select("id, nome");if(p)throw p;let u=(t||[]).filter(e=>{let t=e.data_liquidacao||e.data_vencimento;if(!t)return!1;let o=new Date(t);if("ano"===M)return o.getFullYear()===F;{if(!L||!Y)return!1;let e=new Date(L),t=new Date(Y);return t.setHours(23,59,59,999),o>=e&&o<=t}}),x=new Map;u.forEach(e=>{let t=null==r?void 0:r.find(t=>t.id===e.subcategoria_id);if(!t)return;let o=null==a?void 0:a.find(e=>e.id===t.categoria_id);if(!o)return;let i=null==s?void 0:s.find(e=>e.id===o.grupo_id);if(!i)return;let n=null==c?void 0:c.find(e=>e.id===i.tipo_id);if(!n)return;let l="".concat(n.nome,"|").concat(i.nome,"|").concat(o.nome,"|").concat(t.nome),d=e.valor_liquido||e.valor_bruto;if(x.has(l)){let e=x.get(l);e.valor_ytd+=d}else x.set(l,{tipo:n.nome,grupo:i.nome,categoria:o.nome,subcategoria:t.nome,valor_ytd:d,percentual_tipo:0,yoy_percent:null})});let h=Array.from(x.values()),f=new Map;h.forEach(e=>{let t=f.get(e.tipo)||0;f.set(e.tipo,t+e.valor_ytd)}),h.forEach(e=>{let t=f.get(e.tipo)||1;e.percentual_tipo=e.valor_ytd/t*100});let g=F-1,{data:m}=await n.O.from("lancamentos").select("id, tipo, valor_bruto, valor_liquido, status, data_liquidacao, data_vencimento, subcategoria_id").eq("status","PAGO_RECEBIDO"),y=(m||[]).filter(e=>{let t=e.data_liquidacao||e.data_vencimento;return!!t&&new Date(t).getFullYear()===g}),b=new Map;y.forEach(e=>{let t=null==r?void 0:r.find(t=>t.id===e.subcategoria_id);if(!t)return;let o=null==a?void 0:a.find(e=>e.id===t.categoria_id);if(!o)return;let i=null==s?void 0:s.find(e=>e.id===o.grupo_id);if(!i)return;let n=null==c?void 0:c.find(e=>e.id===i.tipo_id);if(!n)return;let l="".concat(n.nome,"|").concat(i.nome,"|").concat(o.nome,"|").concat(t.nome),d=e.valor_liquido||e.valor_bruto,p=b.get(l)||0;b.set(l,p+d)}),h.forEach(e=>{let t="".concat(e.tipo,"|").concat(e.grupo,"|").concat(e.categoria,"|").concat(e.subcategoria),o=b.get(t)||0;0!==o&&(e.yoy_percent=(e.valor_ytd-o)/Math.abs(o)*100)}),T(h);let v=eu(h);W(v);let j=h.filter(e=>e.tipo.toLowerCase().includes("receita")).reduce((e,t)=>e+t.valor_ytd,0),w=h.filter(e=>e.tipo.toLowerCase().includes("despesa")).reduce((e,t)=>e+t.valor_ytd,0);K(j),Q(w),et(j-w),await ex(u,r,a,s,c)}catch(e){console.error("Erro ao carregar DRE:",e),ea("Erro ao carregar dados da DRE","error")}finally{z(!1)}},eu=e=>{let t=new Map;e.forEach(e=>{t.has(e.tipo)||t.set(e.tipo,{nome:e.tipo,valor:0,percentual:0,yoy:null,children:[],level:"tipo",expanded:!1});let o=t.get(e.tipo);o.valor+=e.valor_ytd;let r=o.children.find(t=>t.nome===e.grupo);r||(r={nome:e.grupo,valor:0,percentual:0,yoy:null,children:[],level:"grupo",expanded:!1},o.children.push(r)),r.valor+=e.valor_ytd;let i=r.children.find(t=>t.nome===e.categoria);i||(i={nome:e.categoria,valor:0,percentual:0,yoy:null,children:[],level:"categoria",expanded:!1},r.children.push(i)),i.valor+=e.valor_ytd;let n={nome:e.subcategoria,valor:e.valor_ytd,percentual:e.percentual_tipo,yoy:e.yoy_percent,level:"subcategoria"};i.children.push(n)});let o=Array.from(t.values());return o.forEach(e=>{e.children.forEach(t=>{t.percentual=t.valor/e.valor*100,t.children.forEach(t=>{t.percentual=t.valor/e.valor*100})})}),o.sort((e,t)=>e.nome.toLowerCase().includes("receita")?-1:t.nome.toLowerCase().includes("receita")?1:t.valor-e.valor),o.forEach(e=>{e.children.sort((e,t)=>t.valor-e.valor),e.children.forEach(e=>{e.children.sort((e,t)=>t.valor-e.valor),e.children.forEach(e=>{e.children.sort((e,t)=>t.valor-e.valor)})})}),o},ex=async(e,t,o,r,i)=>{let n=new Map;for(let e=1;e<=12;e++)n.set(e,{receitas:0,despesas:0});e.forEach(e=>{let a=e.data_liquidacao||e.data_vencimento;if(!a)return;let l=new Date(a).getMonth()+1,s=e.valor_liquido||e.valor_bruto,d=null==t?void 0:t.find(t=>t.id===e.subcategoria_id);if(!d)return;let c=null==o?void 0:o.find(e=>e.id===d.categoria_id);if(!c)return;let p=null==r?void 0:r.find(e=>e.id===c.grupo_id);if(!p)return;let u=null==i?void 0:i.find(e=>e.id===p.tipo_id);if(!u)return;let x=n.get(l);u.nome.toLowerCase().includes("receita")?x.receitas+=s:x.despesas+=s});let a=[];for(let e=1;e<=12;e++){let t=n.get(e);a.push({mes:e,receitas:t.receitas,despesas:t.despesas})}Z(a)},eh=e=>{let t=[...B],o=t;e.forEach((t,r)=>{r===e.length-1?o[t].expanded=!o[t].expanded:o=o[t].children}),W(t)},ef=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e.children&&e.children.length>0;return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"12px 16px",paddingLeft:"".concat(24*o+16,"px"),borderBottom:"1px solid #f3f4f6",cursor:i?"pointer":"default",backgroundColor:0===o?"#f9fafb":"white",transition:"background-color 0.2s"},onClick:()=>i&&eh(t),onMouseOver:e=>i&&(e.currentTarget.style.backgroundColor="#f3f4f6"),onMouseOut:e=>i&&(e.currentTarget.style.backgroundColor=0===o?"#f9fafb":"white"),children:[(0,r.jsx)("div",{style:{width:"24px",marginRight:"8px"},children:i&&(e.expanded?(0,r.jsx)(c.Z,{size:18,color:"#6b7280"}):(0,r.jsx)(p.Z,{size:18,color:"#6b7280"}))}),(0,r.jsx)("div",{style:{flex:1,fontWeight:0===o?"600":"500",fontSize:"14px",color:"#374151"},children:e.nome}),(0,r.jsx)("div",{style:{width:"150px",textAlign:"right",fontWeight:"600",fontSize:"14px",color:e.valor>=0?"#059669":"#ef4444"},children:w(e.valor)}),(0,r.jsx)("div",{style:{width:"100px",textAlign:"right",fontSize:"13px",color:"#6b7280"},children:S(e.percentual)}),(0,r.jsx)("div",{style:{width:"100px",textAlign:"right",fontSize:"13px",color:null!==e.yoy&&e.yoy>0?"#059669":null!==e.yoy&&e.yoy<0?"#ef4444":"#6b7280",fontWeight:null!==e.yoy?"500":"400"},children:null!==e.yoy?(0,r.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"4px"},children:[e.yoy>0?(0,r.jsx)(d.Z,{size:14}):e.yoy<0?(0,r.jsx)(s.Z,{size:14}):null,S(e.yoy)]}):"-"})]}),i&&e.expanded&&e.children.map((e,r)=>ef(e,[...t,r],o+1))]},t.join("-"))},eg="ano"===M?"YTD ".concat(F):L&&Y?"Per\xedodo ".concat(_(L)," - ").concat(_(Y)):"Per\xedodo";return o?(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:(0,r.jsx)("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}})}):(0,r.jsxs)("div",{style:{padding:"24px",maxWidth:"1600px",margin:"0 auto"},children:[(0,r.jsxs)("div",{style:{marginBottom:"24px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,r.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#111827"},children:"DRE - Demonstra\xe7\xe3o do Resultado do Exerc\xedcio"}),(0,r.jsxs)("button",{onClick:()=>{try{let e=A.map(e=>[e.tipo,e.grupo,e.categoria,e.subcategoria,e.valor_ytd.toFixed(2),e.percentual_tipo.toFixed(2),null!==e.yoy_percent?e.yoy_percent.toFixed(2):""]),t=["Tipo,Grupo,Categoria,Subcategoria,Valor YTD,% do Tipo,YoY %",...e.map(e=>e.join(","))].join("\n"),o=new Blob([t],{type:"text/csv;charset=utf-8;"}),r=document.createElement("a");r.href=URL.createObjectURL(o),r.download="DRE_".concat(F,".csv"),r.click(),ea("CSV exportado com sucesso!","success")}catch(e){console.error("Erro ao exportar CSV:",e),ea("Erro ao exportar CSV","error")}},disabled:0===A.length,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:0===A.length?"#e5e7eb":"#10b981",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:0===A.length?"not-allowed":"pointer",transition:"all 0.2s"},onMouseOver:e=>A.length>0&&(e.currentTarget.style.backgroundColor="#059669"),onMouseOut:e=>A.length>0&&(e.currentTarget.style.backgroundColor="#10b981"),children:[(0,r.jsx)(u.Z,{size:18}),"Exportar CSV"]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[(0,r.jsx)(x.Z,{size:20,color:"#1555D6"}),(0,r.jsx)("h2",{style:{fontSize:"16px",fontWeight:"600",color:"#374151"},children:"Filtros"})]}),(0,r.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"10px"},children:"Per\xedodo"}),(0,r.jsxs)("div",{style:{display:"flex",gap:"24px"},children:[(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:[(0,r.jsx)("input",{type:"radio",name:"tipoPeriodo",value:"ano",checked:"ano"===M,onChange:e=>q(e.target.value),style:{cursor:"pointer"}}),"Ano"]}),(0,r.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",fontSize:"14px",color:"#374151"},children:[(0,r.jsx)("input",{type:"radio",name:"tipoPeriodo",value:"intervalo",checked:"intervalo"===M,onChange:e=>q(e.target.value),style:{cursor:"pointer"}}),"Intervalo de Datas"]})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginBottom:"16px"},children:["ano"===M&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Ano"}),(0,r.jsx)("select",{value:F,onChange:e=>P(parseInt(e.target.value)),style:{width:"100%",padding:"9px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:C().map(e=>(0,r.jsx)("option",{value:e,children:e},e))})]}),"intervalo"===M&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Inicial *"}),(0,r.jsx)("input",{type:"date",value:L,onChange:e=>N(e.target.value),style:{width:"100%",padding:"9px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Data Final *"}),(0,r.jsx)("input",{type:"date",value:Y,onChange:e=>J(e.target.value),min:L,style:{width:"100%",padding:"9px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Empresa"}),(0,r.jsxs)("select",{value:V,onChange:e=>{U(e.target.value),H("")},style:{width:"100%",padding:"9px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer"},children:[(0,r.jsx)("option",{value:"",children:"Todas"}),E.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:"500",color:"#374151",marginBottom:"6px"},children:"Projeto"}),(0,r.jsxs)("select",{value:X,onChange:e=>H(e.target.value),disabled:!V,style:{width:"100%",padding:"9px 12px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:V?"pointer":"not-allowed",backgroundColor:V?"white":"#f9fafb"},children:[(0,r.jsx)("option",{value:"",children:"Todos"}),I.map(e=>(0,r.jsx)("option",{value:e.id,children:e.nome},e.id))]})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsx)("button",{onClick:()=>{if("intervalo"===M&&(!L||!Y)){ea("Informe a data inicial e final","warning");return}if("intervalo"===M&&new Date(Y)<new Date(L)){ea("Data final deve ser maior ou igual \xe0 data inicial","warning");return}let t=new URLSearchParams;t.set("tipoPeriodo",M),"ano"===M?t.set("ano",F.toString()):(L&&t.set("dataInicial",L),Y&&t.set("dataFinal",Y)),V&&t.set("empresa",V),X&&t.set("projeto",X),e.push("/relatorios/dre?".concat(t.toString())),ep()},style:{padding:"10px 24px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"Aplicar"}),(0,r.jsx)("button",{onClick:()=>{q("ano"),P(new Date().getFullYear()),N(""),J(""),U(""),H(""),e.push("/relatorios/dre"),ep()},style:{padding:"10px 24px",backgroundColor:"white",color:"#374151",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Limpar"})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"24px"},children:[(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #10b981"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,r.jsxs)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#6b7280"},children:["Receitas ",eg]}),(0,r.jsx)(d.Z,{size:24,color:"#10b981"})]}),(0,r.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#059669"},children:w(G)})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderTop:"4px solid #ef4444"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,r.jsxs)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#6b7280"},children:["Despesas ",eg]}),(0,r.jsx)(s.Z,{size:24,color:"#ef4444"})]}),(0,r.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:"#dc2626"},children:w($)})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",borderTop:"4px solid ".concat(ee>=0?"#1555D6":"#ef4444")},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,r.jsxs)("span",{style:{fontSize:"14px",fontWeight:"500",color:"#6b7280"},children:["Resultado ",eg]}),(0,r.jsx)(l.Z,{size:24,color:ee>=0?"#1555D6":"#ef4444"})]}),(0,r.jsx)("div",{style:{fontSize:"32px",fontWeight:"700",color:ee>=0?"#1555D6":"#dc2626"},children:w(ee)})]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",marginBottom:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsx)("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#374151",marginBottom:"16px"},children:"An\xe1lise Hier\xe1rquica"}),0===B.length?(0,r.jsx)("div",{style:{padding:"48px",textAlign:"center",color:"#9ca3af",fontSize:"14px"},children:"Sem dados para os filtros selecionados"}):(0,r.jsxs)("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden"},children:[(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:"12px 16px",backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb",fontWeight:"600",fontSize:"13px",color:"#6b7280"},children:[(0,r.jsx)("div",{style:{width:"24px",marginRight:"8px"}}),(0,r.jsx)("div",{style:{flex:1},children:"Nome"}),(0,r.jsx)("div",{style:{width:"150px",textAlign:"right"},children:"Valor YTD"}),(0,r.jsx)("div",{style:{width:"100px",textAlign:"right"},children:"% do Tipo"}),(0,r.jsx)("div",{style:{width:"100px",textAlign:"right"},children:"YoY"})]}),B.map((e,t)=>ef(e,[t]))]})]}),(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:[(0,r.jsx)("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#374151",marginBottom:"24px"},children:"ano"===M?"Evolu\xe7\xe3o Mensal ".concat(F):"Evolu\xe7\xe3o - ".concat(eg)}),O.every(e=>0===e.receitas&&0===e.despesas)?(0,r.jsx)("div",{style:{padding:"48px",textAlign:"center",color:"#9ca3af",fontSize:"14px"},children:"Sem dados mensais para exibir"}):(0,r.jsx)(h.h,{width:"100%",height:400,children:(0,r.jsxs)(f.v,{data:O,children:[(0,r.jsx)(g.q,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,r.jsx)(m.K,{dataKey:"mes",tickFormatter:e=>k[e-1],stroke:"#6b7280",style:{fontSize:"12px"}}),(0,r.jsx)(y.B,{stroke:"#6b7280",style:{fontSize:"12px"},tickFormatter:e=>w(e)}),(0,r.jsx)(b.u,{formatter:e=>w(e),labelFormatter:e=>k[e-1],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"13px"}}),(0,r.jsx)(v.D,{wrapperStyle:{fontSize:"13px",paddingTop:"16px"},formatter:e=>"receitas"===e?"Receitas":"Despesas"}),(0,r.jsx)(j.$,{dataKey:"receitas",fill:"#10b981",radius:[8,8,0,0],name:"receitas"}),(0,r.jsx)(j.$,{dataKey:"despesas",fill:"#ef4444",radius:[8,8,0,0],name:"despesas"})]})})]}),(0,r.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:eo.map(e=>{let{borderColor:t,icon:o,iconColor:i}=es(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:"4px solid ".concat(t),padding:"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",minWidth:"400px",animation:"scaleIn 0.3s ease-out"},children:[(0,r.jsx)(o,{style:{width:"24px",height:"24px",flexShrink:0,color:i}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151"},children:e.message})]},e.id)})}),(0,r.jsx)("style",{children:"\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        @keyframes scaleIn {\n          from {\n            transform: scale(0.8);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      "})]})}},1180:function(e,t,o){"use strict";o.d(t,{O:function(){return r}});let r=(0,o(20046).eI)("https://tkefmbjqiljejkmwrwsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZWZtYmpxaWxqZWprbXdyd3N3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzEyODAsImV4cCI6MjA3NTg0NzI4MH0.fwV8APDBs7YTx3ap8km-qnhXOJx0EcXX0P68eLXgEsU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"sodcapital"}})},78030:function(e,t,o){"use strict";o.d(t,{Z:function(){return p}});var r=o(2265);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,o)=>o?o.toUpperCase():t.toLowerCase()),a=e=>{let t=n(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.filter((e,t,o)=>!!e&&""!==e.trim()&&o.indexOf(e)===t).join(" ").trim()},s=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,r.forwardRef)((e,t)=>{let{color:o="currentColor",size:i=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:c="",children:p,iconNode:u,...x}=e;return(0,r.createElement)("svg",{ref:t,...d,width:i,height:i,stroke:o,strokeWidth:a?24*Number(n)/Number(i):n,className:l("lucide",c),...!p&&!s(x)&&{"aria-hidden":"true"},...x},[...u.map(e=>{let[t,o]=e;return(0,r.createElement)(t,o)}),...Array.isArray(p)?p:[p]])}),p=(e,t)=>{let o=(0,r.forwardRef)((o,n)=>{let{className:s,...d}=o;return(0,r.createElement)(c,{ref:n,iconNode:t,className:l("lucide-".concat(i(a(e))),"lucide-".concat(e),s),...d})});return o.displayName=a(e),o}},42421:function(e,t,o){"use strict";o.d(t,{Z:function(){return r}});let r=(0,o(78030).Z)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},87592:function(e,t,o){"use strict";o.d(t,{Z:function(){return r}});let r=(0,o(78030).Z)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},37164:function(e,t,o){"use strict";o.d(t,{Z:function(){return r}});let r=(0,o(78030).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},65607:function(e,t,o){"use strict";o.d(t,{Z:function(){return r}});let r=(0,o(78030).Z)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},29162:function(e,t,o){"use strict";o.d(t,{Z:function(){return r}});let r=(0,o(78030).Z)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]])},16463:function(e,t,o){"use strict";var r=o(71169);o.o(r,"usePathname")&&o.d(t,{usePathname:function(){return r.usePathname}}),o.o(r,"useRouter")&&o.d(t,{useRouter:function(){return r.useRouter}}),o.o(r,"useSearchParams")&&o.d(t,{useSearchParams:function(){return r.useSearchParams}})},25974:function(e,t,o){"use strict";o.d(t,{v:function(){return s}});var r=o(84478),i=o(45745),n=o(2842),a=o(9542),l=o(3956),s=(0,r.z)({chartName:"BarChart",GraphicalChild:i.$,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:n.K},{axisType:"yAxis",AxisComp:a.B}],formatAxisMap:l.t9})}},function(e){e.O(0,[46,612,971,23,744],function(){return e(e.s=82904)}),_N_E=e.O()}]);