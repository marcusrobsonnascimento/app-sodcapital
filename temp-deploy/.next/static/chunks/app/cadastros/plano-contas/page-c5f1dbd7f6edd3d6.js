(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[680],{48413:function(e,o,t){Promise.resolve().then(t.bind(t,59594))},59594:function(e,o,t){"use strict";t.r(o),t.d(o,{default:function(){return y}});var r=t(57437),a=t(2265),i=t(1180),n=t(92940),l=t(36127),s=t(71935),c=t(92513),d=t(54817),p=t(18422),x=t(10883),u=t(39343),g=t(31885),f=t(80537);let b=e=>e?e.toLowerCase().split(" ").map(e=>0===e.length?e:e.length>2?e.charAt(0).toUpperCase()+e.slice(1):e.toLowerCase()).join(" "):"",h=f.Ry({codigo_conta:f.Z_().min(1,"C\xf3digo \xe9 obrigat\xf3rio"),sentido:f.Km(["Entrada","Saida"],{required_error:"Sentido \xe9 obrigat\xf3rio"}),classificacao:f.Z_().min(1,"Classifica\xe7\xe3o \xe9 obrigat\xf3ria").max(100,"Classifica\xe7\xe3o deve ter no m\xe1ximo 100 caracteres").transform(e=>b(e)),tipo_fluxo:f.Z_().min(1,"Tipo de fluxo \xe9 obrigat\xf3rio"),grupo:f.Z_().min(1,"Grupo \xe9 obrigat\xf3rio").max(100,"Grupo deve ter no m\xe1ximo 100 caracteres").transform(e=>b(e)),categoria:f.Z_().min(1,"Categoria \xe9 obrigat\xf3ria").max(100,"Categoria deve ter no m\xe1ximo 100 caracteres").transform(e=>b(e)),subcategoria:f.Z_().min(1,"Subcategoria \xe9 obrigat\xf3ria").max(100,"Subcategoria deve ter no m\xe1ximo 100 caracteres").transform(e=>b(e)),cod_cont:f.Z_().optional(),conta_cont:f.Z_().max(60,"Conta cont\xe1bil deve ter no m\xe1ximo 60 caracteres").optional().transform(e=>e?b(e):e),ativo:f.O7().default(!0)});function y(){let[e,o]=(0,a.useState)([]),[t,f]=(0,a.useState)(!0),[y,m]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),[j,w]=(0,a.useState)(!1),[v,T]=(0,a.useState)(""),[_,k]=(0,a.useState)(null),[z,O]=(0,a.useState)(null),[E,I]=(0,a.useState)(null),[W,B]=(0,a.useState)(""),[R,D]=(0,a.useState)(""),[A,F]=(0,a.useState)("TODOS"),[Z,q]=(0,a.useState)("TODOS"),[X,M]=(0,a.useState)("TODOS"),[N,L]=(0,a.useState)([]),[V,J]=(0,a.useState)(0),[G,P]=(0,a.useState)([]),[H,Y]=(0,a.useState)([]),[U,K]=(0,a.useState)([]),[Q,$]=(0,a.useState)([]),[ee,eo]=(0,a.useState)(!1),{register:et,handleSubmit:er,reset:ea,formState:{errors:ei},setValue:en,watch:el}=(0,u.cI)({resolver:(0,g.F)(h),defaultValues:{ativo:!0}}),es=(e,o)=>{J(e=>e+1);let t={id:V,message:e,type:o};L(e=>[...e,t]),setTimeout(()=>{L(e=>e.filter(e=>e.id!==V))},4e3)},ec=e=>{switch(e){case"success":return{borderColor:"#10b981",icon:n.Z,iconColor:"#10b981"};case"warning":return{borderColor:"#eab308",icon:l.Z,iconColor:"#eab308"};case"error":return{borderColor:"#ef4444",icon:s.Z,iconColor:"#ef4444"}}};(0,a.useEffect)(()=>{let e=setTimeout(()=>{D(W)},300);return()=>clearTimeout(e)},[W]),(0,a.useEffect)(()=>{ed(),ep()},[]);let ed=async()=>{try{let{data:e,error:t}=await i.O.from("plano_contas_fluxo").select("*").order("codigo_conta",{ascending:!0});if(t)throw t;o(e||[])}catch(e){console.error("Erro ao carregar plano de contas:",e),es("Erro ao carregar plano de contas","error")}finally{f(!1)}},ep=async()=>{try{let{data:e,error:o}=await i.O.from("plano_contas_fluxo").select("grupo").not("grupo","is",null).order("grupo");if(!o&&e){let o=Array.from(new Set(e.map(e=>e.grupo).filter(Boolean)));P(o)}let{data:t,error:r}=await i.O.from("plano_contas_fluxo").select("categoria").order("categoria");if(!r&&t){let e=Array.from(new Set(t.map(e=>e.categoria).filter(Boolean)));Y(e)}let{data:a,error:n}=await i.O.from("plano_contas_fluxo").select("tipo_fluxo").order("tipo_fluxo");if(!n&&a){let e=Array.from(new Set(a.map(e=>e.tipo_fluxo).filter(Boolean)));K(e)}let{data:l,error:s}=await i.O.from("plano_contas_fluxo").select("classificacao").order("classificacao");if(!s&&l){let e=Array.from(new Set(l.map(e=>e.classificacao).filter(Boolean)));$(e)}}catch(e){console.error("Erro ao carregar dados de autocomplete:",e)}},ex=async o=>{try{let{data:t,error:r}=await i.O.from("lancamentos").select("id").eq("plano_conta_id",o).limit(1);if(r)throw console.error("Erro ao verificar lan\xe7amentos:",r),r;if(t&&t.length>0)return{temVinculo:!0,mensagem:"Esta conta n\xe3o pode ser exclu\xedda porque possui lan\xe7amentos vinculados."};let a=e.find(e=>e.id===o);if(a){let{data:e,error:o}=await i.O.from("bancos_contas").select("id").eq("conta_contabil_codigo",a.codigo_conta).limit(1);if(o)throw console.error("Erro ao verificar contas banc\xe1rias:",o),o;if(e&&e.length>0)return{temVinculo:!0,mensagem:"Esta conta n\xe3o pode ser exclu\xedda porque possui contas banc\xe1rias vinculadas."}}return{temVinculo:!1,mensagem:""}}catch(e){throw console.error("Erro ao verificar v\xednculos:",e),e}},eu=async(e,o,t,r,a,n)=>{try{let l=i.O.from("plano_contas_fluxo").select("id").eq("tipo_fluxo",e).eq("grupo",o).eq("categoria",t).eq("subcategoria",r).eq("sentido",a).limit(1);n&&(l=l.neq("id",n));let{data:s,error:c}=await l;if(c)throw c;return s&&s.length>0}catch(e){throw console.error("Erro ao verificar combina\xe7\xe3o duplicada:",e),e}},eg=async(e,o)=>{try{let t=i.O.from("plano_contas_fluxo").select("id").eq("codigo_conta",e).limit(1);o&&(t=t.neq("id",o));let{data:r,error:a}=await t;if(a)throw a;return r&&r.length>0}catch(e){throw console.error("Erro ao verificar c\xf3digo duplicado:",e),e}},ef=(e,o)=>{en(e,b(o))},eb=async e=>{try{if(await eg(e.codigo_conta,E||void 0)){T("J\xe1 existe uma conta cadastrada com esse c\xf3digo - Sentido: ".concat(e.sentido," - Tipo de Fluxo: ").concat(e.tipo_fluxo," - Grupo: ").concat(e.grupo," - Categoria: ").concat(e.categoria," - Subcategoria: ").concat(e.subcategoria,". Por favor, verifique os dados informados.")),w(!0);return}if(await eu(e.tipo_fluxo,e.grupo,e.categoria,e.subcategoria,e.sentido,E||void 0)){T("J\xe1 existe uma conta cadastrada com essa combina\xe7\xe3o - Sentido: ".concat(e.sentido," - Tipo de Fluxo: ").concat(e.tipo_fluxo," - Grupo: ").concat(e.grupo," - Categoria: ").concat(e.categoria," - Subcategoria: ").concat(e.subcategoria,". Por favor, verifique os dados informados.")),w(!0);return}let o={codigo_conta:e.codigo_conta,sentido:e.sentido,classificacao:e.classificacao,tipo_fluxo:e.tipo_fluxo,grupo:e.grupo,categoria:e.categoria,subcategoria:e.subcategoria,cod_cont:e.cod_cont||null,conta_cont:e.conta_cont||null,ativo:e.ativo,updated_at:new Date().toISOString()};if(E){let{error:e}=await i.O.from("plano_contas_fluxo").update(o).eq("id",E);if(e){if(console.error("Erro detalhado ao atualizar:",e),"23505"===e.code){es("Combina\xe7\xe3o j\xe1 existe","warning");return}throw Error("Erro ao atualizar conta: ".concat(e.message))}es("Conta atualizada com sucesso!","success")}else{let{error:e}=await i.O.from("plano_contas_fluxo").insert([o]);if(e){if(console.error("Erro detalhado ao criar:",e),"23505"===e.code){es("Combina\xe7\xe3o j\xe1 existe","warning");return}throw Error("Erro ao criar conta: ".concat(e.message))}es("Conta criada com sucesso!","success")}ed(),ep(),eS()}catch(e){console.error("Erro ao salvar conta:",e),es(e.message||"Erro desconhecido ao salvar conta","error")}},eh=e=>{I(e.id),ea({codigo_conta:e.codigo_conta,sentido:e.sentido,classificacao:e.classificacao,tipo_fluxo:e.tipo_fluxo,grupo:e.grupo,categoria:e.categoria,subcategoria:e.subcategoria,cod_cont:e.cod_cont||"",conta_cont:e.conta_cont||"",ativo:e.ativo}),m(!0)},ey=async e=>{eo(!0);try{let{temVinculo:o,mensagem:t}=await ex(e.id);if(o){es(t,"warning"),eo(!1);return}k(e.id),O(e),S(!0)}catch(e){es("Erro ao verificar depend\xeancias da conta","error")}finally{eo(!1)}},em=()=>{S(!1),k(null),O(null)},eC=async()=>{if(_)try{let{error:e}=await i.O.from("plano_contas_fluxo").delete().eq("id",_);if(e)throw e;es("Conta exclu\xedda com sucesso!","success"),ed(),ep(),em()}catch(e){console.error("Erro ao excluir conta:",e),es("Erro ao excluir conta","error"),em()}},eS=()=>{m(!1),I(null),ea({codigo_conta:"",sentido:"Entrada",classificacao:"",tipo_fluxo:U[0]||"",grupo:"",categoria:"",subcategoria:"",cod_cont:"",conta_cont:"",ativo:!0})},ej=e.filter(e=>{let o=e.codigo_conta.includes(R)||e.categoria.toLowerCase().includes(R.toLowerCase())||e.subcategoria.toLowerCase().includes(R.toLowerCase())||e.grupo.toLowerCase().includes(R.toLowerCase())||e.classificacao.toLowerCase().includes(R.toLowerCase()),t="TODOS"===A||e.tipo_fluxo===A,r="TODOS"===Z||e.classificacao===Z,a="TODOS"===X||e.sentido===X;return o&&t&&r&&a}),ew=e=>"Entrada"===e?{bg:"#dcfce7",color:"#16a34a"}:"Saida"===e?{bg:"#fee2e2",color:"#dc2626"}:{bg:"#f3f4f6",color:"#6b7280"},ev=e=>{let o={NegÃ³cios:{bg:"#dbeafe",color:"#1e40af"},Corporativo:{bg:"#e0e7ff",color:"#4338ca"},default:{bg:"#f3f4f6",color:"#6b7280"}};return o[e]||o.default},eT=e=>{let o={Operacionais:{bg:"#d1fae5",color:"#065f46"},"N\xe3o Operacionais":{bg:"#fed7aa",color:"#c2410c"},"Investimentos (N\xe3o Operacional)":{bg:"#a7f3d0",color:"#064e3b"},Financiamento:{bg:"#e0e7ff",color:"#4338ca"},"Investimento (Operacional)":{bg:"#7dd3fc",color:"#0c4a6e"},Impostos:{bg:"#cbd5e1",color:"#334155"},"SG&A":{bg:"#fce7f3",color:"#be185d"},"Outras Operacionais":{bg:"#93c5fd",color:"#1e3a8a"},"Outras N\xe3o Operacionais":{bg:"#fb923c",color:"#7c2d12"},default:{bg:"#f3f4f6",color:"#6b7280"}};return o[e]||o.default};return t?(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",minHeight:"400px",flexDirection:"column",gap:"16px"},children:[(0,r.jsx)("div",{style:{width:"48px",height:"48px",border:"3px solid #e5e7eb",borderTop:"3px solid #1555D6",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,r.jsx)("div",{style:{fontSize:"14px",color:"#6b7280"},children:"Carregando plano de contas..."})]}):(0,r.jsxs)("div",{style:{padding:"32px",backgroundColor:"#f9fafb",minHeight:"100vh"},children:[(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",overflow:"hidden",maxWidth:"100%"},children:[(0,r.jsxs)("div",{style:{padding:"32px",borderBottom:"1px solid #e5e7eb"},children:[(0,r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{style:{fontSize:"28px",fontWeight:"700",color:"#111827",marginBottom:"4px"},children:"Plano de Contas (Fluxo)"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#6b7280"},children:"Gerencie o plano de contas unificado para fluxo de caixa"})]}),(0,r.jsxs)("button",{onClick:()=>m(!0),style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 20px",backgroundColor:"#1555D6",color:"white",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:[(0,r.jsx)(c.Z,{style:{width:"20px",height:"20px"}}),"Nova Conta"]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,r.jsxs)("div",{style:{position:"relative",flex:"1",minWidth:"250px"},children:[(0,r.jsx)(d.Z,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"#9ca3af"}}),(0,r.jsx)("input",{type:"text",placeholder:"Buscar por c\xf3digo, grupo, categoria, subcategoria ou classifica\xe7\xe3o...",value:W,onChange:e=>B(e.target.value),style:{width:"100%",padding:"12px 16px 12px 48px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("select",{value:A,onChange:e=>F(e.target.value),style:{padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},children:[(0,r.jsx)("option",{value:"TODOS",children:"Todos os Tipos"}),U.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{value:Z,onChange:e=>q(e.target.value),style:{padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},children:[(0,r.jsx)("option",{value:"TODOS",children:"Todas as Classifica\xe7\xf5es"}),Q.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]}),(0,r.jsxs)("select",{value:X,onChange:e=>M(e.target.value),style:{padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},children:[(0,r.jsx)("option",{value:"TODOS",children:"Todos os Sentidos"}),(0,r.jsx)("option",{value:"Entrada",children:"Entrada"}),(0,r.jsx)("option",{value:"Saida",children:"Sa\xedda"})]})]})]}),(0,r.jsx)("div",{style:{width:"100%"},children:(0,r.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",tableLayout:"fixed"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{style:{backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:[(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"10%"},children:"C\xf3digo"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"7%"},children:"Sentido"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"12%"},children:"Classifica\xe7\xe3o"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"9%"},children:"Tipo Fluxo"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"15%"},children:"Grupo"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"15%"},children:"Categoria"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"20%"},children:"Subcategoria"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"left",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"7%"},children:"Status"}),(0,r.jsx)("th",{style:{padding:"12px 16px",textAlign:"right",fontSize:"11px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase",letterSpacing:"0.5px",width:"5%"},children:"A\xe7\xf5es"})]})}),(0,r.jsx)("tbody",{children:0===ej.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:9,style:{padding:"48px 24px",textAlign:"center",color:"#9ca3af",fontSize:"14px"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\uD83D\uDCCA"}),(0,r.jsx)("div",{style:{fontWeight:"600",marginBottom:"8px"},children:"Nenhuma conta encontrada"}),(0,r.jsx)("div",{style:{fontSize:"13px"},children:'Clique em "Nova Conta" para come\xe7ar'})]})})}):ej.map(e=>{let o=ew(e.sentido),t=ev(e.tipo_fluxo),a=eT(e.classificacao);return(0,r.jsxs)("tr",{style:{borderBottom:"1px solid #f3f4f6",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:[(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",fontWeight:"600",color:"#111827",fontFamily:"monospace"},children:e.codigo_conta}),(0,r.jsx)("td",{style:{padding:"14px 16px"},children:(0,r.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 12px",fontSize:"12px",fontWeight:"500",borderRadius:"12px",backgroundColor:o.bg,color:o.color},children:e.sentido})}),(0,r.jsx)("td",{style:{padding:"14px 16px"},children:(0,r.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 10px",fontSize:"11px",fontWeight:"500",borderRadius:"12px",backgroundColor:a.bg,color:a.color},children:e.classificacao})}),(0,r.jsx)("td",{style:{padding:"14px 16px"},children:(0,r.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 10px",fontSize:"11px",fontWeight:"500",borderRadius:"12px",backgroundColor:t.bg,color:t.color},children:e.tipo_fluxo})}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#374151",fontWeight:"500"},children:e.grupo}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#111827"},children:e.categoria}),(0,r.jsx)("td",{style:{padding:"14px 16px",fontSize:"13px",color:"#6b7280"},children:e.subcategoria}),(0,r.jsx)("td",{style:{padding:"14px 16px"},children:(0,r.jsx)("span",{style:{display:"inline-flex",alignItems:"center",padding:"4px 10px",fontSize:"11px",fontWeight:"500",borderRadius:"12px",backgroundColor:e.ativo?"#dcfce7":"#f3f4f6",color:e.ativo?"#16a34a":"#6b7280"},children:e.ativo?"Ativa":"Inativa"})}),(0,r.jsx)("td",{style:{padding:"14px 16px"},children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"8px"},children:[(0,r.jsx)("button",{onClick:()=>eh(e),style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:(0,r.jsx)(p.Z,{style:{width:"16px",height:"16px",color:"#6b7280"}})}),(0,r.jsx)("button",{onClick:()=>ey(e),disabled:ee,style:{padding:"8px",backgroundColor:"transparent",border:"none",borderRadius:"6px",cursor:ee?"wait":"pointer",transition:"background-color 0.2s",opacity:ee?.5:1},onMouseOver:e=>{ee||(e.currentTarget.style.backgroundColor="#fee2e2")},onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:(0,r.jsx)(x.Z,{style:{width:"16px",height:"16px",color:"#dc2626"}})})]})})]},e.id)})})]})})]}),y&&(0,r.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,backdropFilter:"blur(4px)"},onClick:eS,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"700px",margin:"16px",maxHeight:"90vh",overflowY:"auto"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#111827",marginBottom:"24px"},children:E?"Editar Conta":"Nova Conta"}),(0,r.jsxs)("form",{onSubmit:er(eb,e=>{e.codigo_conta?es(e.codigo_conta.message,"warning"):e.sentido?es(e.sentido.message,"warning"):e.classificacao?es(e.classificacao.message,"warning"):e.tipo_fluxo?es(e.tipo_fluxo.message,"warning"):e.grupo?es(e.grupo.message,"warning"):e.categoria?es(e.categoria.message,"warning"):e.subcategoria&&es(e.subcategoria.message,"warning")}),style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"C\xf3digo da Conta *"}),(0,r.jsx)("input",{...et("codigo_conta"),onChange:e=>{let o=e.target.value;if(en("codigo_conta",o),o.length>0){let e=o.charAt(0);"1"===e?en("sentido","Entrada"):"2"===e&&en("sentido","Saida")}},style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s",fontFamily:"monospace"},placeholder:"1.01.01.001",onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none";let o=e.target.value.trim();if(o){if(/^[12]\.\d{2}\.\d{2}\.\d{3}$/.test(o)){let t=o.charAt(0);"1"!==t&&"2"!==t&&(es("C\xf3digo deve come\xe7ar com 1 (Entrada) ou 2 (Sa\xedda)","warning"),e.currentTarget.style.borderColor="#eab308")}else es("C\xf3digo inv\xe1lido! Use o formato: 1.XX.XX.XXX ou 2.XX.XX.XXX","warning"),e.currentTarget.style.borderColor="#eab308"}}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Sentido *"}),(0,r.jsxs)("select",{...et("sentido"),disabled:!0,style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"not-allowed",backgroundColor:"#f9fafb",color:"#6b7280"},children:[(0,r.jsx)("option",{value:"Entrada",children:"Entrada"}),(0,r.jsx)("option",{value:"Saida",children:"Sa\xedda"})]})]})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Classifica\xe7\xe3o *"}),(0,r.jsx)("input",{...et("classificacao"),list:"classificacoes-list",onChange:e=>ef("classificacao",e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},placeholder:"Ex: Operacionais",onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}}),(0,r.jsx)("datalist",{id:"classificacoes-list",children:Q.map(e=>(0,r.jsx)("option",{value:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Tipo de Fluxo *"}),(0,r.jsxs)("select",{...et("tipo_fluxo"),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",cursor:"pointer",backgroundColor:"white"},children:[(0,r.jsx)("option",{value:"",children:"Selecione o tipo de fluxo"}),0===U.length?(0,r.jsx)("option",{disabled:!0,children:"Carregando..."}):U.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Grupo *"}),(0,r.jsx)("input",{...et("grupo"),list:"grupos-list",onChange:e=>ef("grupo",e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},placeholder:"Ex: Imobili\xe1rio",onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}}),(0,r.jsx)("datalist",{id:"grupos-list",children:G.map(e=>(0,r.jsx)("option",{value:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Categoria *"}),(0,r.jsx)("input",{...et("categoria"),list:"categorias-list",onChange:e=>ef("categoria",e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},placeholder:"Ex: Compra e Venda",onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}}),(0,r.jsx)("datalist",{id:"categorias-list",children:H.map(e=>(0,r.jsx)("option",{value:e},e))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Subcategoria *"}),(0,r.jsx)("input",{...et("subcategoria"),onChange:e=>ef("subcategoria",e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},placeholder:"Ex: Venda \xc0 Vista",onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"20px"},children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"C\xf3d. Cont\xe1bil"}),(0,r.jsx)("input",{...et("cod_cont"),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s",fontFamily:"monospace"},placeholder:"1.00.000.001",onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px"},children:"Descri\xe7\xe3o Cont\xe1bil"}),(0,r.jsx)("input",{...et("conta_cont"),onChange:e=>ef("conta_cont",e.target.value),style:{width:"100%",padding:"12px 16px",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",outline:"none",transition:"all 0.2s"},placeholder:"Ex: Receita de Vendas",onFocus:e=>{e.currentTarget.style.borderColor="#1555D6",e.currentTarget.style.boxShadow="0 0 0 3px rgba(21, 85, 214, 0.1)"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"}})]})]}),(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,r.jsx)("input",{type:"checkbox",...et("ativo"),id:"ativo",style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#1555D6"}}),(0,r.jsx)("label",{htmlFor:"ativo",style:{fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer"},children:"Conta ativa"})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px",paddingTop:"8px"},children:[(0,r.jsx)("button",{type:"button",onClick:eS,style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{type:"submit",style:{flex:1,padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:E?"Atualizar":"Criar"})]})]})]})}),j&&(0,r.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:60,backdropFilter:"blur(4px)"},onClick:()=>w(!1),children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"0",width:"100%",maxWidth:"500px",margin:"16px",animation:"scaleIn 0.2s ease-out",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{style:{backgroundColor:"#fbbf24",padding:"20px 32px",display:"flex",alignItems:"center",gap:"12px"},children:[(0,r.jsx)(l.Z,{style:{width:"28px",height:"28px",color:"#78350f",flexShrink:0}}),(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#78350f",margin:0},children:"AVISO"})]}),(0,r.jsxs)("div",{style:{padding:"32px"},children:[(0,r.jsx)("p",{style:{fontSize:"14px",color:"#374151",lineHeight:"1.6",margin:0,marginBottom:"28px"},children:v}),(0,r.jsx)("button",{onClick:()=>w(!1),style:{width:"100%",padding:"12px 24px",backgroundColor:"#1555D6",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"600",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1044b5",onMouseOut:e=>e.currentTarget.style.backgroundColor="#1555D6",children:"OK"})]})]})}),C&&(0,r.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:50,backdropFilter:"blur(4px)"},onClick:em,children:(0,r.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"32px",width:"100%",maxWidth:"450px",margin:"16px",animation:"scaleIn 0.2s ease-out"},onClick:e=>e.stopPropagation(),children:[(0,r.jsx)("div",{style:{width:"56px",height:"56px",margin:"0 auto 20px",borderRadius:"50%",backgroundColor:"#fee2e2",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)(l.Z,{style:{width:"28px",height:"28px",color:"#dc2626"}})}),(0,r.jsx)("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#111827",marginBottom:"12px",textAlign:"center"},children:"Excluir Conta"}),(0,r.jsx)("p",{style:{fontSize:"14px",color:"#6b7280",textAlign:"center",marginBottom:"8px",lineHeight:"1.5"},children:"Tem certeza que deseja excluir a conta"}),z&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{style:{fontSize:"15px",fontWeight:"600",color:"#111827",textAlign:"center",marginBottom:"4px",fontFamily:"monospace"},children:z.codigo_conta}),(0,r.jsxs)("p",{style:{fontSize:"14px",color:"#6b7280",textAlign:"center",marginBottom:"24px"},children:[z.categoria," - ",z.subcategoria,"?"]})]}),(0,r.jsx)("p",{style:{fontSize:"13px",color:"#ef4444",textAlign:"center",marginBottom:"24px",fontWeight:"500"},children:"Esta a\xe7\xe3o n\xe3o pode ser desfeita."}),(0,r.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,r.jsx)("button",{onClick:em,style:{flex:1,padding:"12px 24px",backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#f9fafb",onMouseOut:e=>e.currentTarget.style.backgroundColor="white",children:"Cancelar"}),(0,r.jsx)("button",{onClick:eC,style:{flex:1,padding:"12px 24px",backgroundColor:"#dc2626",border:"none",borderRadius:"8px",fontSize:"14px",fontWeight:"500",color:"white",cursor:"pointer",transition:"all 0.2s"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#b91c1c",onMouseOut:e=>e.currentTarget.style.backgroundColor="#dc2626",children:"Sim, Excluir"})]})]})}),(0,r.jsx)("div",{style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:9999,display:"flex",flexDirection:"column",gap:"12px",pointerEvents:"none"},children:N.map(e=>{let{borderColor:o,icon:t,iconColor:a}=ec(e.type);return(0,r.jsxs)("div",{style:{backgroundColor:"white",borderTop:"4px solid ".concat(o),padding:"16px 20px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",gap:"12px",minWidth:"300px",animation:"scaleIn 0.3s ease-out"},children:[(0,r.jsx)(t,{style:{width:"24px",height:"24px",flexShrink:0,color:a}}),(0,r.jsx)("span",{style:{fontSize:"14px",fontWeight:"500",flex:1,color:"#374151"},children:e.message})]},e.id)})}),(0,r.jsx)("style",{children:"\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        @keyframes scaleIn {\n          from {\n            transform: scale(0.8);\n            opacity: 0;\n          }\n          to {\n            transform: scale(1);\n            opacity: 1;\n          }\n        }\n      "})]})}},1180:function(e,o,t){"use strict";t.d(o,{O:function(){return r}});let r=(0,t(20046).eI)("https://tkefmbjqiljejkmwrwsw.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRrZWZtYmpxaWxqZWprbXdyd3N3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAyNzEyODAsImV4cCI6MjA3NTg0NzI4MH0.fwV8APDBs7YTx3ap8km-qnhXOJx0EcXX0P68eLXgEsU",{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0},db:{schema:"sodcapital"}})}},function(e){e.O(0,[46,176,971,23,744],function(){return e(e.s=48413)}),_N_E=e.O()}]);